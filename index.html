<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Dan Kolis">

    <!-- A cute little image -->
    <link rel="shortcut icon" href="favicon.ico" />
    <z9title></z9title>

    <!-- JQuery used a fair amount-->
    <script src="jquery-3.4.1.min.js"> </script>

    <!-- Originally from ghddi -->
    <link rel="stylesheet" href="theme.css" />

    <!-- Css for umf ideas -->
    <link rel="stylesheet" href="fussytabletweaker.css" />
    <link rel="stylesheet" href="minilook_1plusbiotech.css">

    <!-- Pretty basic style to well the whole thing -->
    <style>
        h1, h2, h3, h4, h5, h6 
        {
            Margin-top: 0;
            Font-weight: 700;
            Font-family: "Georgia", Arial, sans-serif;
        }

        .seeurl { color: white; text-size: 115%; }

        #btnoa { order: 1; }    #btnca { order: 2; } #btnps { order: 3; }
        #btnss { order: 4; }    #btnui { order: 5; } #btnci { order: 6; }
        #b7 { order: 7; }   #b8 { order: 8; } #b9 { order: 10; }
        #ippd3d { order: 8; }

        #btnbl1 { order: 1; }   #btnbl2 { order: 2; } #btnbl3 { order: 3; }
        #btnbl4 { order: 4; }   #btnbl5 { order: 5; } #btnbl6 { order: 6; }

        #btnsa { order: 1; }

    </style>

    <!-- Upload button has fussy rules its about security to see it go so yea -->
    <style>
      
        input[type="file"] { Display: none; }

    #bfid 
    {
        font-family: Arial;
        align-items: flex-start;
        height: 6.5%; display: inline-block;
        background-color: rgb( 239, 239, 239 );
        padding: 7px 5px 7px 5px; color: black; width: 15%;
        
        Font-size: 94%; color: black; width: 112px; margin: 0px 4px 0px 4px;
        text-align: center;
   }
    </style>

    <!-- Text support for area 9 -->
  <style>
        #explainer9
        { color: white; font-size: 120%; width: 680px;
          border: 2px solid darkred; outline: 0;
            margin: 3px 3px 3px 25px; padding: 4px;
            resize: both; overflow: auto;
            height: 220px; min-height: 20px;    
        }

        #divtextarea9
    { min-height: 70px; height: 380px;
      min-width: 60%; width: 607px; max-width: 9000px; 
      border: 2px solid darkred; outline: 0;
            margin: 3px; margin-right: 6px; margin-left: 26px; margin-top: 7px;
            color: white;
            padding: 5px; padding-top: 15px; padding-left: 17px; 
            resize: both; font-size: 95%;
        overflow: auto;
    }

        #divtextarea9 h1,h2,h3,h4,h5,h6
        { color: purple; font-size: 26px;
      padding: -9px -3px -3px -3px; margin: 0px; }

        #divtextarea9 p
        { font-size: 15px; color: #ec9;
      padding: 1px 1px 1px 1px; margin: 3px; margin-bottom: 8px; }

        .hrmarg
        {
            border: double; display: block; width: 105px; float: right;
            margin: 3px; padding: 3px; background-color:aquamarine;
        }

        .hrmarg button
        {
            width: 90px; padding: 2px; margin-top: 9px; margin-bottom: 9px;
            width: 90px; padding: 2px; margin-top: 4px; margin-bottom: 4px;
        }

        #slidecontainer1
        {   border: 2px solid black; background-color: rgb(63, 47, 107); margin-top: 4px;
            text-align: center; margin-left: 25px; margin-right: 113px;
            padding-bottom: 7px; }

        #sliderthing
        {   margin-left: 10px; width: 509px; height: 39px; }

        #sliderbutton
        { margin-top: 10px; margin-right: 13px; margin-left: 5px; }
        
        #slidertitle    
        { float: left; color: rgb(205, 50, 205); padding: 3px; padding-left: 6px; }

        .showred { color:red; }

        #audiooutctrl
    {   display: none; }
    </style>

    <!-- Controls for lower level char based ideas fixing up and understanding -->
    <style>
        .rawfactcontrols
        {
            border: 3px dotted blue; background-color: greenyellow;
            margin-top: 2px; margin-bottom: 15px;
            padding: 6px;
        }

        .searchinnercmd
        { padding: 3px 3px 3px 3px; margin: 2px 2px 2px 2px; 
            color: darkred; font-style: bold; font-size: 16px;
        }

        .searchinner
        { padding: 3px 3px 3px 3px; margin: 2px 2px 2px 2px; 
            color: darkblue; font-size: 16px;
        }
    </style>


<!-- Top line styling -->
    <style>
        #tl1 { color: white;}
        #tl2 { color: red;}
        #tl3 { color: darkblue;}

        #tl2good { color: darkgreen;}
        #tl2bad { color:darkred;}
        #tl2ok { color:white;}

</style>


        <!-- Modals are important to get right he we define all of them -->
    <style>

    /* Background, holder to look at */
    
        /* Things inside things its pretty complicated */
        .somemodalwindow {
            display: none;
    
            position: absolute;
            position:fixed;
    
            z-index: 1;
    
            padding-top: 50px;
            z0left: 19px; 
            z0top: 1px; 
            z0width: 57%; 
            z0height: 90%;

            /* The edge around modal */
            background-color: rgba( 0, 0, 0, 0.0 );
        }
        .somemodalwindow input { margin-bottom: 13px; }


        /* Modal Content optimized for REACT */
        .letsREACTouteredge{
            background-color: rgba( 97, 62, 28, 0.77 );
            color: white;
            margin: 20px;
            padding: 20px;
            border: 3px solid blue;

            position: relative;
        } 


        /* Modal Content */
        .mycontentouterdivclass {
            background-color: rgba( 97, 62, 28, 0.77 );
            color: white;
            margin: 20px;
            padding: 20px;
            border: 3px solid blue;

            /* The usual expectation is these positions are over written by id */
            z0left: 1%;
            z0top: 1%;
            z0width: 99%;
            z0height: 80%;

            position: relative;
        } 

    /* Buttons and inputs */
        .mycontentouterdivclass button  { width: 9vw; }
        .mycontentouterdivclass input       { font-size: 115%; font-style: bold; }
    .cutelittlebut          { padding: 3px; margin-left: 20px; margin-top: 10px; }
    .cutelittlebutedge  { padding: 3px; margin-left: 0;    margin-top: 10px; }
        
        /* Small c clear buttons */
        #modnameclr3, #modsetclr3       { width: 5%; margin-left: 7px; }
        
        /* Input text */
        #modservername3, #modlocalname3     { width: 55%; margin-top: 9px; }

        /* Important button right shifted */
        #modnamedo3, #modalbtndoit4, #modalbtndoit6     
        { float: right; font-weight: bold; padding: 2px; margin-top: 5px; }

        /* Important button   long too maybe  well thats ok isn't it */
        #modalbtndoit6altcmd
        { float: left; font-weight: bold; padding: 2px; margin-top: 5px; width: 80%; }

        /* A close button made of text in the visual thing */
        .modalcloseclicker {
            color: #aaaaaa;
            float: right;
            font-size: 20px;
            font-weight: bold;
        }

        #modalclose1:hover, #modalclose1:focus,
        #modalclose2:hover, #modalclose2:focus, 
        #modalclose3:hover, #modalclose3:focus,
        #modalclose4:hover, #modalclose4:focus,
        #modalclose5:hover, #modalclose5:focus,
        #modalclose6:hover, #modalclose6:focus,
        #modalclose7:hover, #modalclose7:focus,
        #modalclose8:hover, #modalclose8:focus,
        #modalclose9:hover, #modalclose9:focus
        {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }

        .innerboxofbuttons
        {
            background-color: chartreuse;
            outline-width: 1px; outline-style: solid; outline-color: darkgoldenrod;
            padding: 4px;
        }

        .innerboxcommand
        {
            color: darkgreen;
            font-weight: 500;
        }

        .innerboxnotshowing
        {
            color: darkgreen;
            font-weight: 500;
            display: none;
        }

        .modalimportant {
            color: goldenrod;
            font-weight: bold;
            font-size: 26px;
            margin-top: 19px;
            text-align: center;
            display: block;
        }

        .modalordinary {
            color: rgb(210, 210, 251);
            font-size: 24px;
            margin-top: 5px;
            display: block;
            text-align: center;
        }

        #moleculevieweriframe {
            width: 350px;
            Height: 350px;
        }

        #moeinfoline1 {
            color: green;
        }

        #moeinfoline2 {
            color: blue;
            font-weight: 999;
            margin-left: 7px;
        }

        #mwm_flash          { left: 13%; top: 20%; width: 65%; height: 52%; }
        
        #mwm_atoms          { left: 30%; top: 18%; width: 65%; height: 82%; }

        #z0mwm_hunkbasics   { left: 17%; top:  2%; width: 60%; height: 80%; }
        
        #z0mwm_picker1      { left: 15%; top: 15%; Width: 45%; height: 55%; }
        
        #mwm_server         { left: 17%; top:  2%; width: 60%; height: 80%; }
        
        #mwm_sequpdate      { left: 15%; top: 10%; Width: 75%; height: 70%; }


        #sliderprog { margin-left: 10px; width: 609px; height: 39px; }

        #edithere9,
        #areaplayer9 {
            Height: 500px;
            width: 860px;
            margin-top: 9px;
            margin-left: 26px;
            margin-bottom: 20px;
        }

        #areatext9 {
            display: none;
        }
    </style>

    <style>
    .splashyboxofbuttons
        {
            z5background-color: chartreuse;
            background-color: rgba(230, 137, 137, 0.473);
            outline-width: 1px; outline-style: solid; 
            z5outline-color: darkgoldenrod;
            padding: 4px; margin: 4px;
            margin-top: 11px;
        }

    .dingledorfer { margin: 5px 15px 5px 5px; font-size: 110%; width: 29%; }


    #bg5 {  background-color: #88888880;  margin: 30px; padding: 12px; 
                    border: 2px solid black  }  
    
    #topl5 {    color: black; font-size: 150%; font-weight: bold; display: flex; 
                        justify-content: center; padding: 0px; margin: 0px; }
    
    #from5 { color:blue; font-size: 135%; font-weight:600; margin: 0px; padding: 0px; } 

    #who5 { color: black; font-size: 135; font-weight: 400; padding-top: 5px;
            padding-left: 5px;  margin: 0px; padding: 0px; }

    #fromwho5 { display: flex; justify-content: center; margin: 0px; padding: 0px; }

    #hlabove5, #hlbelow5 { display: none; margin: 0px; padding: 0px; }

    .splashlist li { list-style: square inside; }
    
    #hl5 { color: black; height: 2px; margin: 0px; padding: 0px; }

    #htmlinsert5 { color: blue; }

    #xline5 { color: darkgreen; font-size: 135%; margin-bottom: 6px; }
    </style>
</head>

<!-- Globals at startup -->
<script>
    // Size for displays is complicated, so expect changes to be both in css and code
    let seriousWidth = 780;

    // REACT pieces all have a mem object for io
    var REACT_IO = {};                                  // That can use it pretty much any old way

    // Directives to edit table intercept program for DataTable
    var editCheats = 'getkeyb';                 // Edit or not table in scope  by human
        editCheats = 'noedit';                  // Table helper program looks to decide to open up or not

    // Short notions of table picked, hover, tabs whatever
    var softTableGoing = 0;                     // Always maintained

    // Inner life ideas
    var meMe = {}; meMe.rawrecsho = 'a'; meMe.rawrecsho = 'mfe';

    // Testing REACT globalism
    var someFact = "Pigs have wings";
    var personaNow = {};

    // Important global large arrays and objects
    var fieldProperties_OS;                     // Array about fields in an orthoset
    var buttonFacts_HF = {};                    // Will make clicks know what to do
    var allPlacemats = [];                      // A sort of HTML slideshow

    // Modal management this is a candidate to move to its own 
    // js maybe someday
    var hunkTaNumToAccess = 0;                  // Number to use next says human / machine combo logic
    
    // Helpful to have some like this pre-decided, generally avoid as it leads to hardcoding
    var modalIdeas = {};
    modalIdeas.topLineSays = "TBD";             // Transient use is ok
    modalIdeas.secondLineSays = "helper info";  // Helpy idea
    modalIdeas.wipeSrcTxt = 'tbd';              // Search btn
    modalIdeas.cldTxt = '-tbd-';                // Title in a thing someplace
    
    // File getting
    var fileGetting = {};   
    fileGetting.rawFiNa = ""; fileGetting.fiNaShowable = "";

    // Notes taking by human(s) shared with machines too sometimes
    var tableFillExtras = {}                    // Mostly transient
    tableFillExtras.MarginNotes = ''            // Start with none

    // Language stuff
    var msgAboutServerIo = "In process";
    var msgSvrSecondaryTouch = "Server access is proceeding";
    var msgNameOfNotes = "I Say";
    var ll = {};

    // Audio support globals
    pSndKnt = 0;                            // Counts sounds used to live with blocked audio rule

    // Text processing and some language chunkolas
    const CRLF = '\r\n', CR = '\r', LF = '\n', TA = '\t', CO = ',', SC = ';';
    const SP = ' ', SQ = "\'", DQ = "\""; 
    var tS1 = "aardvark", tS2 = 'bird', tS3 = 'cat', tS4 = 'dog';

  // HTML insertables
  const H_EOL = ' <br> ', H_SPACE = ' &nbsp ';
    const H_VSPACE_EOL = ' <br class=teenyverticalspace> ';
    // Some I/O to world
    var xhr_1_to_4 = false;
    var xhr_show = "off";
    var xhractioncountdown = 100;
    var xhractioncountdownfrom = 100;
    var bigtext = "";

  // DOM Id pointers, area 9 extras
    var F_elmTxtM, F_elmVidM,   F_elmExpT; 

  // Modal boxes 'big' div piece to show
    var F_elmMod1, F_elmMod2, F_elmMod3, F_elmMod4, F_elmSpalsh;
    var F_elmMod6, F_elmMod7, F_elmMod8, F_elmMod9;
    
    // Audio and video
    var F_elmAudioOc, F_elmAudioOf;

  // Shared general writable div in a modal we use for misc stuff
    var F_elmReuseDiv1, F_elmReuseDiv2;

    // Area9 assets 06aug21
    var F_elmA9slider, area9how = {};

  // Shares of facts moving into table and from tables
  var tableStuff;

    // Run time booleans fpr piss ant options
    var mrBoole = {};
    mrBoole.coldStartSplash = false;                            // Start greeting true is show
    mrBoole.startHiThere = true;                                    // Minimal greeting
    mrBoole.coldStartSplash = false;
    mrBoole.startHiThere = true;

    // Latest hunk # of interest to human
    var hunkNumberNow = 0;

  // User 11aug20
    var id3 = {}; id3.fulltoken = ""; id3.country = ""; id3.account = 0; id3.pername = "";

    // This paragraph applies March 20_21:
    // This usually assumes the last table by number is a 'special' this is   123456789   things
    // Last is a concept it is now first in display order
    // on purpose, a GHDDI talking point. GHDDI removed 17apr21
    var tableCount = 8, allHunks = [];

    // Special debug state
    var dbaboutDb = "";                         // Most debug showing is left non visible in final releases
    
  // Sizes of modals can be set with ease these are commons sizes and positions #modsizer
    // Shape   L T W H   sure in percent
    var modShapeTiny1 =         [ 40, 40, 35, 35 ];
    var modShapeTiny2 =         [ 28, 10, 44, 31 ]
	var modShapeTiny3 =         [ 45, 42, 30, 5 ];

    var modShapeSmall1 =        [ 20, -10, 50, 50 ];

    var modShapeMedium1 =       [ 10, 10, 80, 85 ];

    var modShapeLarge1 =        [ 2, 3, 95, 90 ];
    var modShapeLarge2 =        [ 2, 3, 100, 100 ];
    var modShapeLarge3 =        [ -1, -9, 96, 105 ];

    // If you play, or test etc use this one
    var modShapeTest9 =         [ -1, -2, 62, 66 ];
</script>

<!-- Ghddi stuff -->
<script>
    // Current page data
    var mkdocs_page_name = "COVID-19 Worldwide Clinical Trials";
    var mkdocs_page_input_path = "clinical.md";
    var mkdocs_page_url = null;

    // hljs.initHighlightingOnLoad();
</script>

<!-- Transpiler for REACT and JSX real time translator called babel -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.6/react.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.6/react-dom.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.js"></script>

<!-- REACT components, mostly in JSX using babel -->
<script src=REACT_OneLiner.js               type="text/babel"></script>
<script src=REACT_SayMore.js                type="text/babel"></script>
<script src=REACT_TableOptions.js           type="text/babel"></script>
<script src=REACT_HeadsUp.js                type="text/babel"></script>
<script src=REACT_AniFrame.js               type="text/babel"></script>
<script src=REACT_PickLine.js               type="text/babel"></script>
<script src=REACT_ProgressShow.js           type="text/babel"></script>
<script src=REACT_Area9More.js              type="text/babel"></script>


<!-- Scripts for UMF the Universal Media Framework these are just pieces of the program not 3rd party-->
<script src=properties_helper_1.js>     </script>
<script src=jquery.tabletojson.min.js>  </script>
<script src=jquery.dataTables.min.js>   </script>
<script src=dataTables.cellEdit.js>     </script>
<script src=local_idb_database.js>      </script>
<script src=itsEverywhere.js>       </script>
<script src=big_picture.js>         </script>
<script src=languagelooks_1.js>     </script>
<script src=helpers_1.js>           </script>
<script src=nedb.js>            </script>
<script src=fx_1.js>            </script>
<script src=table_fun.js>       </script>
<script src=best_colours.js>    </script>

<!-- Working fragments for reference, not inline with real code -->
<script src=WORKX_Better_Datatables.js>     </script>

<!-- Normal code group A bhbh -->
<script id='code group a'>

// Look at placementas hopefully already in memory
function reviewPlacemats( aKind )
{
    // See sent facts. files, directories video annoumcements,
    // Sets of stuff, users things, maybe managment messages

    splashWorker();
}


// Make shared modal div and buttons in it ( sometimes ) go away 04aug20
function reallyResetSharedModal()
{
    sharedModalContentEraser( 'mt nullbut' );

    // Loose number of buttons as there created is reset
    btnSeqNumK = 1;
}


// Motion about splash aka placemat sets to see
function splashMove( aW )
{
    // Moving through placemats
 
    if( aW == 'f' )         ptrSplashSet = 0;
    if( aW == 'n' )         ptrSplashSet++;

    splashWorker( ptrSplashSet )
}
var ptrSplashSet = 0;


// Splash modal 23jul20
function makeSplash( doSo )
{
    // Splash screen start usually

   setTimeout( splashWorker, 1 );
}


// Return params about a modal 23jul20
function aModalLookup( aMo )
{
    // This isnt use much, but that doesn't mean its not important, some shared code 
    // likes this abstraction

    // Facts from major name
    let n = 0; aRole = 'n';
    if( aMo == 'mwm_atoms' )                n = 1;
    if( aMo == 'mwm_flash' )                n = 2;
    if( aMo == 'mwm_hunkbasics' )           n = 3;
    if( aMo == 'mwm_picker1' )              n = 4;
    if( aMo == 'mwm_splash' )               { n = 5; aRole = 'startsplash' }
    if( aMo == 'mwm_server' )               n = 6;
    if( aMo == 'mwm_sequpdate' )            n = 7;
    if( aMo == 'mwm_picker2' )              n = 8;
    if( aMo == 'mwm_sreference')            n = 9;
    
    // A few things including sequential modal number, if its usual or what
    let ans = { num: n, role: aRole };

    return ans;
}


// Real spash 29jul20
function splashWorker( placemNum )
{
    // Splash shower, can do numbered ones or if not specified uses 0

    // Zero if not otherwise
    let toldNum = 0; if( placemNum != undefined )   toldNum = placemNum;

    // Make content for it in case server has not left material
    let l1 = "Intervention workshop";
    let l2 = "User:";
    let l3 = "local_user";
    let l4TableHtmlish = "Welcome";
    let l5 = versionSay();

    // Better then nothing
  l4TableHtmlish = tableExample9;
    
    // If a better one exists, sub it in now
    if( allPlacemats.length > 0 ) 
    {
    let picked = allPlacemats[ toldNum ];
    l1 = picked.header.arg1;
    l4TableHtmlish = picked.tablepayload;
    }

  // Set what shows
    splashContent( 'usual ts1348', l1, l2, l3, l4TableHtmlish, l5 );
    
    // Show it
    DOMopenModal( 'mwm_splash', modShapeLarge3 );
}
var tableExample1 = "", tableExample9 = "";


// Fill splash all different ways 29jul20
function splashContent( aWay, t1, t2, t3, t4AhTABLE, t5 )
{ 
    // HR in splash
  // t4... is usually a table could be any html however

    // Debug
    // topL = 'Orienting startup information';
    // froL = 'zfro'; whoL='whoLLL';lnoL='longer';
    // xliL = "xtra line";
    
  // Char can vary by language, do it or not boolean
    let m = ": "; 
    let showN = false;
    
    // Any directive proves they care
  if( aWay != "" ) showN = true;

    // Helpers for text fields
    let bgL = "", topL = "", froL = "", whoL = "", lnoL = ""; 
    let linL = "", xliL = ""; urlL = [];
    
    // Five texts loose arguments
    if( true ) 
    {
        topL = t1; 
    froL = t2; 
        whoL = t3; 
        lnoL = t4AhTABLE;
        xliL = t5;
    }

  if( showN )
    {   $('#topl5').text( topL + m ); 
    $('#from5').text( froL + m ); 
        $('#who5').text( whoL ); 
        $('#htmlinsert5').html( lnoL );
        $('#xline5').text( xliL );  }
}


// Done with a splash 13sep20
function splashCloser( itsFrm )
{
    // Splash close is better looking with effects, so
    DOMlittleFancierModalCloser( 'mwm_splash' );

    // Say
    let aTts = 'ilg'; 
    delayedTtsOut( aTts, 'sd' );                                    // Short delay

    // Reshow the past if thats a good idea using stuff from db in browser
    localId3rebuild( 'imni3' );

    // Really bland message to server
  sendToServerPostPkg( 'iamsupercold' );
}


// Test build env startups 29jul20
function seePlacematsSerially()
{
  splashWorker();
    DOMopenModal( 'mwm_splash' );
}


// Delays TTS say
function sayDelayedSome( aCode )
{
    delayedTtsOut( aCode,'sd' );        
}


// Say sound audio etc sometimes
function cannedAudioOut( aReason )
{
    // Sound cues

    // Debug
    let fN = 'cao';

    if( aReason == 'ordbut' )               cannedSound( 'buto', fN );
    if( aReason == 'closemodal' )   cannedSound( 'close', fN );
    if( aReason == 'bigrow1' )          cannedSound( 'bigrow', fN );
    if( aReason == 'bigrow2' )          cannedSound( 'bigrow', fN  );
    if( aReason == 'bigrow3' )          cannedSound( 'bigrow', fN  );
    if( aReason == 'bigrow4' )          cannedSound( 'bigrow', fN  );
    if( aReason == 'bigrow5' )          cannedSound( 'bigrow', fN  );
    if( aReason == 'bigrow6' )          cannedSound( 'bigrow', fN );
    if( aReason == 'hunkshow' )         cannedSound( 'ideashow', fN  );
    if( aReason == 'hunkhide' )         cannedSound( 'ideahide', fN  );
    if( aReason == 'miniclick' )        cannedSound( 'jclick' , fN );
    if( aReason == 'sortofbad' )    cannedSound( 'smalltrouble', fN  );
}


// Slower
function delayedTtsOut( sName, dlyCode )
{
        // Could be a specific request
        if( dlyCode!= undefined )
    {
        if( dlyCode == 'sd' )
    setTimeout( ttsSpeech( sName ), 800 );
    }
}


// Fragment of text to speech phases #ittalks
function ttsSpeech( thisOne )
{
    // Human says these concat phrases vf sure ssml kinda

    let mabFi = humanCannedTts[ thisOne ];
    if( mabFi == undefined ) return;

    // All mp3 now anyway
    let forMe = mabFi;

    lowLevel_AudioOut( mabFi, 'tts' );
}
var humanCannedTts = { 
    tfc:        'table_fill_completed',
    ilg:        'initialized_lets_go',
    iaft:       'i_am_filling_table',
    pdn:        'preparing_databases_now',
    fitn:       'file_is_there_now',
    stt:        'set_to_touch',
    stc:        'set_to_clicks', 
    one:        'en_one',
    two:        'en_two',
    three:      'en_three',
    four:       'en_four',
    five:       'en_five',
    six:        'en_six',
    seven:      'en_seven',
    eight:      'en_eight',
    nine:       'en_nine',
    goodn:      'en_good_number',
    enufn:      'en_good_number',
    tabclr:     'en_done',
    notanm:     'en_cant_do_missing_name'
    }


// Sound out routine 21jul20
function cannedSound( aKind, frmNow )
{   
    // Sound out
    
    let ttyCs = false;
    if( ttyCs ) { console.log( "cue sound: " + aKind + 'from: ' + frmNow ); }

    let forMe = soundCueLookup[ aKind ];
    if( forMe == undefined ) return;

    lowLevel_AudioOut( forMe, 'can' );
}
var soundCueLookup = { open: '2itsokchime', close: '2dahdah',
            bigrow: '3clunk', ideashow: 'ishow',
            ideahide: 'ihide', jclick: 'errp', smalltrouble: 'bloopu', buto: 'zah'
}


// Show table numbers so human can pick one
function BtnYouPickBestTable()
{
    // Make display so human can pick target table with one click

    // Line for the human
    let aMsg = 'Pick table you want to populate:';
    $('#moefoursee1qq').text( aMsg );

    // Remove old modal stuff, open new modal
    reallyResetSharedModal();                               // Because old stuff stays even when hidden
    DOMopenModal( 'mwm_picker1' );                          // This one looks good for for click + DO IT

    // Sound                                                                             
    cannedSound( 'open' );

    // Every table is a possibility
    for( let j = 1; j <= tableCount; j++ )                                  // >
    {   let iDex = j;
        let factToUz = 'unsure';
        wellButtonAdder( "Table " + j, 'picktable', iDex, 'touchclose', 'writablefour' );
    }   
}


// Sound out low level 22jul20
function lowLevel_AudioOut( soF, daSrc )
{
    // Low out

    // Dev step
    if( avoidLocalBunga ) return;

    pSndKnt++;                                                                                      // Starts at zero for cold start
    
    // First one is complex due to blocking rule
    if( pSndKnt == 1 ) return;
    
    // More ordinary counter
    llAudioCounter++;                                                                           // Funny must click rule not my business

    // Short off
    let shortOff = false;
    if( ( shortOff && ( llAudioCounter > 1  ) ) )       avoidLocalBunga = true;

    // We know file types by source
    let ex;
    if( daSrc == 'tts' )        ex = '.mp3';        // Text to speech
    if( daSrc == 'can' )    ex = '.wav';        // Canned sound cue

  let fUz = soF + ex;
    F_elmAudioOf.src = fUz;
    F_elmAudioOc.load(); 
    F_elmAudioOc.play();
}
var avoidLocalBunga = false, llAudioCounter = 0;


// Add square brackets for HR
function bracketThis ( aTh )
{
    // Looks count

    return ' [' + aTh + '] ';
}


// Do a simple button called number known thing 02aug20
function DOMButtonFlashMsgCannedDoIt( numIn ) 
{
        // Button calls to do somepl startups and finishes with open show self close modal

        // Uniform way to say comm to server            
        let t2 = "Ok. every user gets a customized view of things, just a little here ";
        t2 = t2 + "and there mostly. This browser knows you a little for just this ";
        t2 = t2 + "hopefully useful customizing";
    t2 = "You best set is ready, use get's in the tables";

        // Decide RPC from id state, prepare sayables in modal
        let s = numIn, t1, say;
 
        // This is the defining moment really, each can 'do a canned thing', may pull globals anmything
        if( s == ( 100 + 1 ) )  { DOMallHUNKShowsHowSetter( 'show' );   say = "Opening all tables"; }
        if( s == ( 100 + 2 ) )  { DOMallHUNKShowsHowSetter( 'hide' );   say = "Closing all tables"; }
        if( s == ( 100 + 3 ) )  { getTableUsual( 'prepserver' );    say = "Setting up server for you"; }
        if( s == ( 100 + 4 ) )  { reviewPlacemats();                            say = "Clickable news"; }

        if( s == ( 200 + 1 ) )  { sendToServerPostPkg( 'setid3', id3 ); say = "Sending your identity info now"; }

    spOrCue = 'c';
        if( say == 'Setting up server for you' ) 
        {
            spOrCue = 's'
            ttsSpeech( 'pdn' );
        }

        // First touch sound
        if( spOrCue == 'c' ) cannedAudioOut( 'ordbut' );    // Ordinary button

    // Text in modal flash box and MORE key too 23aug20
        msgAboutServerIo = say + bracketThis( s );
        OpenHelperModalShowThis( say, t2 );

        // Set one shot timer to turn it off
    DOMcloseModalViaTimer( 'shorttime', 'mwm_flash' );
    }
    var spOrCue = "";


// Misc modal flash message #flashmod
function DOMmodalFactFlasherREACT( aM , likeSo, cb )
{
    // Show a modal thing

}


// Misc modal flash message 16apr21 #flashmod
function DOMmodalFactFlasher( aM , likeSo, cb )
{
    // Say a flashy thing, self close, but we have a callback for ending too

  // Main thing to show human
  let sayN = aM.trim();

  cb = undefined;

  // Interpret special instructions
  let tSpec = 'shorttime', sSpec;
  if( likeSo == 'fast-corner' )           { tSpec = 'realfast';   sSpec = modShapeTiny3; }
  if( likeSo == 'slow-corner' )           { tSpec = 'short';      sSpec = modShapeTiny3; }
  if( likeSo == 'medium-middle' )         { tSpec = 'medium';     sSpec = modShapeTiny2; }
  if( likeSo == 'long-middle' )           { tSpec = 'long';       sSpec = modShapeTiny2; }

  // Q1 2 20_21 using REACT
  let toReact = { L1: sayN };
  REACToneLiner( toReact, 'medium-middle', cb );

  // Old Pre Q1 20_21
  // Text in modal flash box and MORE key too
  // let mkt2 = "";
  // OpenHelperModalShowThis( say, mkt2, sSpec );

  // Set one shot timer to turn it off
  // DOMcloseModalViaTimer( tSpec, 'mwm_flash', cb );
}


// Closing modal3 has details 28apr21-A
function DOMcloserHUNK( aK )
{
    // Whether apply button was used matters

    // Change memo copy if we are told to   do   it
    if( aK == 'applybtn' ) 
    {   ModalPickerUpperHunks();
        DOMexeForAnApply( 'mdl3' ); }

    DOMlittleFancierModalCloser( 'mwm_hunkbasics' );
}
    

// Modal off when timed out 16aug20
function DOMmodalCloseHelper1()
{
    // Called from a timer leave as is

    DOMlittleFancierModalCloser( modClose1 );

    // Do any thing speced at end a callback
    if( toReCb != undefined ) toReCb();
}


// Time will expire then turn off a named modal 24jul20
function DOMcloseModalViaTimer( tfToUse, whatToClose, cb )
{
    // Fire timer to close model

    modClose1 = whatToClose;

    let ti = 1;
    if( tfToUse == 'realfast' ) { ti = 1 };
    if( tfToUse == 'short' )        { ti = 1.7 };
    if( tfToUse == 'medium' )       { ti = 2 };
    if( tfToUse == 'long' )         { ti = 3 };
    
  // End of action callback
  toReCb = undefined;
    if( cb != undefined ) toReCb = cb;
    setTimeout( DOMmodalCloseHelper1, ti * 1000 );
}
var modClose1;
var toReCb;


// Write to a Search box by hunk number
function DOMtoSearchHunkInpBox( aHn, nTxt )
{
    // Poke in text as if a human typed it

    if( aHn < 1 )   return;

    let finder = "#configoval" + aHn + " input";
    let n1 = $( finder );

    n1.val( nTxt );
}


// The to Best table button got clicked #besttable
function bestTableBtnDoer()
{
    // This is tricky little, this best table to fill can be recalculated redundantly
    // for legit purposes like mix and match human urges, too many filled up, etc
    // All these are about either living with, or avoiding, a setting of zero for huh ?
    let workWith = 0
    if( hunkTaNumToAccess < 1 )     { hunkTaNumToAccess = pickTableForHuman( 'lowmt' ); }
    workWith = hunkTaNumToAccess;
    let aTn = hunkTaNumToAccess.toString();
    
    // Do the heavy work of text we see to tables 'someplace'
    copyArea9TextToTable();                                                 // Resets number too

    // Show human the number in a modal
    let m = "Filling table: " + aTn; 
    DOMmodalFactFlasher( m, 'medium-middle', localId3rebuild );

    // Carefully retitle local table name, first get filename last used as a source
    let tMsg = fileGetting.rawFiNa;
    if( fileGetting.fiNaShowable != "" )    { tMsg = fileGetting.fiNaShowable }     // Pick nicest of these
    let tMsgMo = "From: " + tMsg;

    // Still possible none was allocated, so
    if ( workWith > 0 )
    {   let tU = bracketHunkTitleMaker( workWith, tMsgMo );
        AbsorbUiThing( 'hnasef', workWith, tU ); 
        AbsorbUiThing( 'hnasep', workWith, tMsg ); }

    // Rewrite local names, there important to humans    
    DOMupdateVisibleHunkOnScreen( 'console.log( bttb' );                   // Arg is a come from for debugging
}


// Add buttons for search new functionality 30mar21 #bonusbuttons
function buildSearchBonusButtons()
{
    // These are a bunch of custom buttons to help use the tables wwll, mod the DOM
    // by adding them, and of course they need to be   addEventListenered   to do something
    // on clicks. Just run ONCE or you will be sorry

    for( let hNumN = 1; hNumN < ( tableCount + 1 ); hNumN++ )
    {
        fIt = JsPointer( '#table', "_filter input" , hNumN );
        
        // Remember every input box JS query indefinitely
        inp_box_js.push( fIt );                                    // Counting from [ 0 ] you know
    
        let elc;
        elc = searchLineBtnMaker( 'bind', 'w' );                    fIt.after( elc );
        elc.addEventListener("click", DOMlinbEventShr );
    
        elc = searchLineBtnMaker( 'reset all', 'w' );               fIt.after( elc );
        elc.addEventListener("click", DOMlinbEventRes );

        elc = searchLineBtnMaker( 'history', 'w' );                 fIt.after( elc );
        elc.addEventListener("click", DOMlinbEventHst );

        elc = searchLineBtnMaker( 'share', 'c' );                   fIt.after( elc );
        elc.addEventListener("click", DOMlinbEventShr );

        elc = DOManythingMaker( 'button', modalIdeas.wipeSrcTxt );  fIt.after( elc ); 
        elc.addEventListener("click", DOMlinbEventPro );
        
        let wellNxt = fIt.next();
        single_clicker.push( wellNxt );
    }
}
var inp_box_js = []; single_clicker = [];


// Button   Share this now
function DOMlinbEventShr( e )
{
    // An eventlistener for button clicks about searches in tables
    
    // Hunk number
    let daHunk = PathDOMfigurer( e );

    // Value getting erased to be reused
    let oV = inp_box_js[ daHunk - 1 ].val();
    
    // We mighrt use contractions or lists so keep this hand aside from that adventure
    singleShare = oV;

    // All of them get it
    for( let hNumN = 1; hNumN < ( tableCount + 1 ); hNumN++ )
    {   single_clicker[ hNumN - 1 ].html( oV ); }                      // Button captions

    // Can   Clear   its text
    let nSure = false;
    if( nSure )     { DOMdataTableSearch( daHunk, 'w', "" ); }

    // Modal
    let m = "Shared with all the tables"; 
    DOMmodalFactFlasher( m, 'medium-middle', localId3rebuild );
}
var singleShare = "";


// Button   History   sure
function DOMlinbEventHst( e )
{
    // An eventlistener for button clicks about search history
    
    let daHunk = PathDOMfigurer( e );

    // Modal
    let m = "HISTORY"; 
    DOMmodalFactFlasher( m, 'medium-middle', localId3rebuild );
}


// Button   Execute a search   shared with me via a click
function DOMlinbEventPro( e )
{
    // An eventlistener for button clicks
    
    let daHunk = PathDOMfigurer( e );
    let da_inp_box = JsPointer( '#table', "_filter input" , daHunk );

    // Look for this as a search
    DOMdataTableSearch( daHunk, 'w', singleShare )    

    // Modal
    let m = "Programmed"; m = "Ok - searching";
    DOMmodalFactFlasher( m, 'medium-middle', localId3rebuild );
}


// Button search helper listener
function DOMlinbEventRes( e )
{
    // An eventlistener for button clicks
    
    let daHunk = PathDOMfigurer( e );

    // Modal
    let m = "Reset searches"; 
    DOMmodalFactFlasher( m, 'medium-middle', localId3rebuild );

    // Wipe all search boxes
    let mNow = "";
    for( let n = 1; n < ( tableCount + 1 ); n++ )  
    {   DOMdataTableSearch( n, 'w', mNow ) }

  // All of them get it
  for( let hNumN = 1; hNumN < ( tableCount + 1 ); hNumN++ )
    {   single_clicker[ hNumN - 1 ].html( modalIdeas.wipeSrcTxt ); }               // Button captions
}


// Fire dataTable search #tablesearcher
function DOMdataTableSearch( hN, aDir, someTxt )
{
    // Do a search

  if( hN < 1 ) return;
    var table = $('#table'+hN).DataTable();
 
  table.search( someTxt ).draw();
}


// DOM anything maker #dommakeanything
function DOManythingMaker( aThing, daText )
{   
    // Make a thing using JS with text on it sometimes

    let tn = document.createElement( aThing );
    
    // Maybe text
    if( daText != "" ) { tn.innerHTML = daText; }
    
    tn.className = "largestuff"; 
    tn.className = "searchinner"; 

    tn.className = "searchinnercmd";
    tn.innerHTML = daText.toUpperCase();

    return tn;
}


// Button maker kind linb #abuttonline
function searchLineBtnMaker( daText, cOrW )
{   
    // Make a button using JS   text on it   command or worker

    let btn = document.createElement( "button" );
    
    // Button label and style command  or worker
    btn.innerHTML = daText;
    btn.className = "largestuff"; 
    btn.className = "searchinner"; 
    if( cOrW == 'c' )       btn.className = "searchinnercmd";
    if( cOrW == 'c' )       btn.innerHTML = daText.toUpperCase();

    return btn;
}


// Xfer area for properties of table states each is about a hunk 21apr21
function InitHunkStuff()
{
    // This ia a intentional parellel array of metadata for each table in the workspace
    // Number zero not used much, but its intentionally included here
    
    let seNa1 = ll.jna;                                 // Human like 'na' somewhat

    for( let i = 0; i <= tableCount; i++ )
    {
        let m = ll.readytouse;                          // Human 'lets go'
        let bTi = bracketHunkTitleMaker( i, m );
        let hs = {  appendstuff: false, 
                    localhunktitleFormatted: bTi,
                    localhunktitlePlain: '', 
                    serverhunktitle: seNa1, 
                    edithow: 'none' };

        // Each hunk has its own couple facts per                       
        allHunks.push( hs );
    }   
}


// Refresh inner modal facts for molecules
function DOMmoleculeReshower() 
{
    $("#moeinfoline1").text(modalIdeas.topLineSays);
    $("#moeinfoline2").text(modalIdeas.secondLineSays);
}


// Start specific something
function watcherSetsAtStartsup() 
{
    // Image is used for debug enabling
    $("#mastheadimg").click(function() {
        debugManager( 'togi');
    })  

    // Btn wipe id showing and take id 20juN20
    $("#btnci").click(function() {
        clearTextEntry( 'ippd3d' );
    })
   $('#btnui').click(function() {
        prepareId3( 'humclk3p' );
        DOMButtonFlashMsgCannedDoIt( 200 + 1 );
    })

    // Modal win closers for a few clickers
    $("#modalclose1").click(function() {
    DOMlittleFancierModalCloser( 'mwm_atoms' );
    })
    $("#modalclose2").click(function() {
        DOMcloseModal("mwm_flash");
    })
    $("#modalclose3").click(function() {
        DOMcloserHUNK('');
    })
    $("#modalclose4").click(function(e) {
    DOMlittleFancierModalCloser( 'mwm_picker1' );
    })
    $("#modalclose5").click(function() {
        splashCloser( 'ct51' );
    })
    $("#modalclose6").click(function() {
        DOMforDoItorAnySaveClose( '' );
    })
    $("#modalclose7").click(function() {
        DOMlittleFancierModalCloser( 'mwm_sequpdate' );
    })
    $("#modalclose8").click(function(e) {
    DOMlittleFancierModalCloser( 'mwm_picker2' );
    })

    $("#modalbtndoit4").click(function(e) {
    DOMlittleFancierModalCloser( 'mwm_picker1' );
    })
    $("#modalbtndoit7").click(function(e) {
    DOMlittleFancierModalCloser( 'mwm_sequpdate' );
    })
    $("#modalbtndoit8").click(function(e) {
        tableFillExtras.MarginNotes = '';
    DOMlittleFancierModalCloser( 'mwm_picker2' );
    })
    $("#modalbtndoitmore8").click(function(e) {
        tableFillExtras.MarginNotes = 'usualonrightplease';
    DOMlittleFancierModalCloser( 'mwm_picker2' );
    })

    $("#splashfirst").click(function() {
        splashMove( 'f' );
    })
    $("#splashnext").click(function() {
        splashMove( 'n' );
    })
    $("#splashclose").click(function() {
        splashCloser( 'ct52' );
    })

    $("#modalclose9").click(function() {
        DOMcloseModal('mwm_homer');
    })

    $("#modalexport3").click(function() {
        DOMcloserHUNK('');
    })
    $("#modalset3").click(function() {
        DOMcloserHUNK('');
    })
    
    // Basic text area 9 motion commands. Area 9 can be named differently like   idea workspace   maybe
    $("#rfirst").click(function()
    {   rawFactRecMotion('fr'); });
    $("#rprevious").click(function()
    {   rawFactRecMotion('pr'); });
    $("#rnext").click(function()
    {   rawFactRecMotion('nr'); });
    $("#rlast").click(function()
    {   rawFactRecMotion('lr'); });
        
    // Other area 9 commands #besttablebutton
    $("#rselectBESTtable").click(function() 
    {   BtnYouPickBestTable(); });
    $("#rfillBESTtable").click(function()
    {   bestTableBtnDoer(); }); 
    $("#rselectfields").click(function()
    {   BtnselectFields( 'Pick fields you want to consider:' );});
    $("#addrowstomemos").click(function() {
        $('#basetable1 tr:last').after('<tr><td>...</td><td>...</td><td>...</td></tr>');
    });
    $("#rmore").click(function()
    {   offerMoreA9(); });



    // Ask
    $("#askforlabelsfromcloud").click(function() {
        getTableUsual('labelstablefiller', lpon + 'labels');
    });

    // Plans
    $("#askforplansfromcloud").click(function() {
        getTableUsual('planstablefiller', lpon + 'plans');
    });

    // Cloud
    $("#askfortbdfromcloud").click(function() {
        getTableUsual('tbdtablefiller', lpon + modalIdeas.cldTxt);
    });
}


// Add for fun 28may20
$("#addforfuntable2").click(function() 
{
        ChangeDomDomSomeSure();

        selectTable("table2");
});


// Peek
$("#peekiec3").click(function() 
{
        let ttable = $('#table1').DataTable();
        c3();
});

// Ask server for table content
var lpon = "basetable";
var t1 = "table1", t2 = "table2", t3 = "table3", t4 = "table4", t5 = "table5";
var t6 = "table6", t7 = "table7",   t8 = "table8", t9 = "table9";
    
$("#getbucketfiles").click(function() {
        getTableUsual('bucketfilestablefiller', t4);
});
    
    
$("#getcontentmemo").click(function() {
        getTableUsual('memotablefiller', t1);
});
    
    
$("#getcompoundprogress").click(function() {
        getTableUsual('compoundprogresstablefiller', t2);
});
    
    
$("#getcountries").click(function() {
        getTableUsual('countriestablefiller', t3);
});
    
    
$("#getcontentincoming").click(function() {
        getTableUsual('incomingtablefiller', t3);
});
    
    
$("#getcontentpeople").click(function() {
        getTableUsual('peopletablefiller', t4);
});
    
    
$("#getcontentlabel").click(function() {
        getTableUsual('labeltablefiller', t5);
});
    
    
$("#getcontentplan").click(function() {
        getTableUsual('plantablefiller', t6);
        setupClicksForVideo('table6');
});

$("#videopause").click(function() {
        videoPause();
});


$("#videorun").click(function() {
        videoRun();
});



$("#WASbtn4").click(function() {
        ProcessIncoming('df', 'moa1.db', 'table3', ToTableVaries);
});
    
    


// SU
function setupClicksForVideo( aTable ) 
{
    return;
        $('#' + aTable + ' tbody').on('click', 'tr', function() {
            let seeNow = this.rowIndex;
            alert('Row is: ' + seeNow);
            let aFi = $(this).text() + '.mp4';
            pickVideo(aFi);
        });
}


// Global replace for strings
function replaceAllStr( findThis, changeTo, inThese ) 
{
    // Change all occurances

    let howNow = new RegExp( findThis, "g" );
    let ans = inThese.replace( howNow, changeTo );

    return ans;
}


// Shows inner lives of objects I guess
function alertObject( obj ) 
{
    var result = [];
    function traverse( obj ) {
    for (var l in obj ) {
            if ( obj.hasOwnProperty( l ) ) {
                if (obj[ l ] instanceof Object ) {
                    result.push(l + '=>[object]' );
                    traverse( obj[ l ] );
                } else {
                    result.push( l + ': ' + obj[ l ] );
                }
            }
        }
    }

    traverse( obj );
    return result;
}


// Remove someday id probably glop August 20_20
//$('#table6 tbody').on('click', 'td', function() 
//{
//  let fMab = $(this).text().trim();
//  let aT = $(this),
//      aP = $(this).parent();

//  let daCol = $(this).closest("td").index();
//  let daRow = $(this).closest("tr").index();

//  let tbl = document.getElementById("table6");
//  let coTv = (tbl.rows[daRow + 1].cells[1].innerHTML).toString();
//  var itstateAndColor= isThisInThere('video', coTv);
//  if (itsV) pickVideo(fMab + '.mp4');
//});


// Yup looks at something
function c3()
{
        alert('ok c3 program going');
        $('#table1').dataTable({
            "columnDefs": [{
                "width": "5%",
                "targets": 0
            }]
        });
}


// Return a Jquery pointer 30mar21 #makejsgrp
function JsPointer(  lp, rp, n )
{
    // Sometimes jQ is just too much to take, so this makes a ref

  // Question left part right p
    let q = lp + n + rp;

    let ans = $(q);
    return ans;
}

// Touch table once
function TableTouchedOnce()
{  
    // When a table change occurs its presumed it always rewrites the stuff under
    // the table ( prev next, etc ). so this in DataTables calls these events when it
    // Changes. The event touches up colors, add things, whatever it wants to do in
    // the DOM. This is done copy and paste style, like the tables, so anybody can
    // change it without being a super fancty programmer. Its intentional
       
    $( '#table2' ).on( 'draw.dt', function () { DOMunderTableNomenFixer( 2 ); });
    $( '#table3' ).on( 'draw.dt', function () { DOMunderTableNomenFixer( 3 ); });
    $( '#table4' ).on( 'draw.dt', function () { DOMunderTableNomenFixer( 4 ); });
    $( '#table5' ).on( 'draw.dt', function () { DOMunderTableNomenFixer( 5 ); });
    $( '#table6' ).on( 'draw.dt', function () { DOMunderTableNomenFixer( 6 ); });
    $( '#table7' ).on( 'draw.dt', function () { DOMunderTableNomenFixer( 7 ); });
    $( '#table8' ).on( 'draw.dt', function () { DOMunderTableNomenFixer( 8 ); });
}


// BR for starts inserted to all table DOM look 05aug21
function insertBrAllT()
{
}


// Fixup table look underneath stuff in dom 02apr21
function DOMunderTableNomenFixer( aN )
{

    // Previous clicker note unusual use of <a>
        let fPr = $("a:contains('Previous')");

        let oL1 = $('#configoval7');
        let oL2 = $('#configoval4').find("a:contains('Previous')");

        let dmy = 9;
        dmy++;

    TouchUpDOMpn();
    TouchUpDOMmore();
}


// Add whatever to make tables look best start once 05aug21
function adjustDOMTabStart()
{
    for( let t = 2; t < tableCount + 1 ; t++ )
    {   TouchUpDOMbr( t ); }  
}


// Add a break this is fussier then the others for some reason, better to do it by table number 05aug21
function TouchUpDOMbr( aTa )
{
    let daThing = '#configoval' + aTa.toString();
    let oL = $( daThing ).find("a:contains('Previous')");

    // If the DOM changes, its bad to have > 1 find or no find, so
    let aKnt = oL.length;
    if( aKnt != 1 ) { console.log( "BR cleanup missing an element, this is not serious" ) }
    else { oL.before( ' <br> ' ); }
}


// Change human readable around tables 19apr21
function TouchUpTableDOM( wf ) 
{
    // Find and change look of specific things in the DOM that are hard 
    // to change with other methods. Like what the tableData thing 
    // writes not resettable with its provisioned empty classes

    // We get called a lot count instances of it forever
    aDomSuperTweakKnt++;

     // Just once add search buttons 27aug20
    if( aDomSuperTweakKnt == 1 )
    {
        console.log( 'Touch up table for: ' + wf );
        buildSearchBonusButtons();
    }
}
var aDomSuperTweakKnt = 0;
var fonT = '12px', fonM = '14px', fonS = '18px', fonB = '48px';
var colBlk = 'black',   colYel = 'yellow', colGrn = 'green'; colOrg = 'orange';
var colO1 = "#c0500e", colO2 = "#dd322e";
var marI = '13px', borStyleOrd = '3px blue solid', padI = '4px';


// Frequent tweak look
function ezTweakLookInDOM( ele, fs, co, ma, bo, pa )
{
    // Anything to be left alone is just told with ""

    if( fs != "" )          ele.css( 'font-size',   fs );
    if( co != "" )          ele.css( 'color',       co );
    if( ma != "" )          ele.css( 'margin',      ma );
    if( bo != "" )          ele.css( 'border',      bo );
    if( pa != "" )          ele.css( 'padding',     pa );
}


// Touch up Dom Previous next and middle 02apr21
function TouchUpDOMpn()
{

    // Class   Paginate   ( between previous and next )
    let fPa = $(".paginate_button");
    ezTweakLookInDOM( fPa, fonS, colBlk, marI, borStyleOrd, padI );

    // Previous clicker note unusual use of <a>
    let fPr = $("a:contains('Previous')");
    ezTweakLookInDOM( fPr, fonS, colO1, marI, borStyleOrd, padI );
    
    // Next clicker funny <a> usage
    let fNe = $("a:contains('Next')");
    ezTweakLookInDOM( fNe, fonS, colO2, marI, borStyleOrd, padI );
}

// More fussing table DOM
function TouchUpDOMmore()
{
    // Info line Start with     Showing X of Y   Usually uses named class
    let fSh = $(".dataTables_info");
    fSh.css('color', colBlk);
    fSh.css('font-size', fonS);

    // Often starts with     show entries       I think   get at   label
    let leftWidJunk = 150;
    let fLl = $(".dataTables_length label");
    fLl.css('color', 'yellow');
    fLl.css('margin-top', '40px');
    fLl.css('margin-left', ( seriousWidth - leftWidJunk ) + 'px');
    fLl.css('font-size', fonS);

    // Fully looking div try to make look or or maybe not show
    let fFl = $(".dataTables_length");
    fFl.css('Background-color', 'yellow');
    fFl.css('height', '1px');

    // Size clicker
    let fSc = $(".dataTables_length select");
    fSc.css('color', colGrn);

    // Wiggle over left some whitespace pls
    let fOt = $(".dataTables_filter input");
    fOt.css('margin-left', '5px' );

    // Adjust look of search term
    let fZt = $("label:contains('Search:')");
    fZt.css('color', colBlk);
    fZt.css('margin-right', "5px" );

    // Start point for more fussing I suppose
    let xMaybe = false;
    if (xMaybe) {
        // Trying funny looking thing
        let fFt = $(".dataTables_length label");
        fFt.css('color', 'pink');

        let fDi = $(".dataTables_info");
        fDi.css('font-size', fonS);
        fDi.css('color', 'white');
        fDi.css('margin', marI);
        fDi.css('border', '3px white solid');
        fDi.css('padding', padI);

        let fSe1 = $('#table2_wrapper select');
        fSe1.css("color", colBlk);
        fSe1.css("display", "block");
    }
}


// Touch up top
function TouchUpDOMtp()
{
    // Maybe not used much or at all or something    

    // Input 'at the top'
    let fIt = $('#table2_filter input');
    fIt.css('font-size', fonT);
    fIt.css('color', colBlk);
    fIt.css("display", "block");
    fIt.css("margin-top", "9px");
}


// Table show 03oct20
function getTableUsual( kwOrFilenameCloudSide, fillThisNamedTable, specialInstructons ) 
{
        // Get a table to be displayed into memory
    //  what to say to server
    //  named table 'kind of' ?
    //  on URL command sometimes

        // Sometimes calls exist for another purpose almost, no table is named
        if( fillThisNamedTable == undefined ) { fillThisNamedTable = ""; }  // Same thing

        // Sometimes we want a line report so
        wThingCountableShow = "";
        if (fillThisNamedTable != "") {
            wThingCountableShow = 'moetwosee';
        }

        // Show or not show if we plan to put a display on it
        if( wThingCountableShow != "" ) {
            DOMopenModal( 'mwm_flash' );
        }

        // GET IT POKE INTO TABLE
        getTableWipeAdd( kwOrFilenameCloudSide, fillThisNamedTable, specialInstructons );
}


// Add row to a table as a test etc 12aug20
$("#addrow").click(function() 
{
        // It goes

        routineMessageToServer('addrow');

        selectTable('basetablememo');
        addRowToTable(['ant', 'bee', 'cat', 'dog', 'eel', 'ferret']);
        doneTable();
});


// Add row to a table as a test etc after clear 17jan20
$("#addrowclear").click(function() 
{
        // It goes

        routineMessageToServer('addrowclear');

        selectTable('basetablememo');
        emptyTable();
        selectTable('basetablememo');
        addRowToTable(['ant', 'bee', 'cat', 'dog', 'eel', 'ferret']);
        doneTable();
});


// Clear a table as a test etc
$('#tableclear').click(function() 
{
        selectTable('basetablememo');
        emptyTable();
        doneTable();
});


// A button adds local table content as a test
$("#applylocaltable").click(function() 
{
        $('#basetablememo').DataTable({
            data: dataNixSmall,
            "autoWidth": true
        });
});


// Hunk visibility change 27apr21
function DOMhunkShow( n, abSound )
{
    // State change to show with audio cue

    winShowHide( n, 'show' ); 
    if( abSound != 'q' )        cannedAudioOut( 'hunkshow' );
}


// Hunk visibility change 27apr21
function DOMhunkHide( n, abSound )
{
    // State change to show with audio cue

    winShowHide( n, 'hide' ); 
    if( abSound != 'q' )        cannedAudioOut( 'hunkhide' );
}


// Toggle show hide for a hunk
function DOMtoggleHUNKhideShow( n ) 
{
    // Flip look of sub window, number is hunk number

    // Update some facts for settings into mem, do all hunks
    DOMhunkClickyFactsGrokker();                                                            // Now easy to use

    // Now state
    let itsNow = sWin[ n - 1 ];

    // Flip
    if( itsNow == 'h' )
    { DOMhunkShow( n ); return; }
    else
    { DOMhunkHide( n ); return; }
 }
var sWin = [ 's','s','s','s','s','s','s','s','s' ];


// All sub windows together
function DOMallHUNKShowsHowSetter( aK ) 
{
    // And main entries by numbers gets them
    let tOffset = 0;
    for( let n = 1; n < ( tableCount + 1 ); n++ )                                       // >
   {
    winShowHide( n, aK )
  }
}


// Simple test of special char 26jul20
function isItParenMarked( aS )
{
    // Look for special char

    if( aS.length < 1 )                     return false;                                           // >

  // Often important
    if( aS.charAt( 0 ) == ")" )     return true;

    return false;
}


// Info
function ModalMiniInfoMore2() 
{
        // modal more btn

        let cCa = "You can have nine sets of these open at once";
        let mI = "There is no requirement they be similarly shaped. ";
        mI = mI + "Click onheadings for sorts twice for inverted and ";
        mI = mI + "the search is real time note count report changes for that too";
        SayMoLines( cCa, mI );
}


// More button in a modal settings
function ModalMiniInfoMore3()
{
    let m = "These settings don't change the tables on the server or local files. ";
    m = "But you can rename many things to help you stay organized";
    
    $('#moethreesee1').text( m );
}


// More button in a modal picker
function ModalMiniInfoMore4()
{
    let m = "The order of showing you the facts is helpful. These fields will ";
    m = m + " fill in same order as you click them";
    
    $('#moetwosee4').text( m );
}


// More button in a modal picker
function ModalMiniInfoMore5()
{
    let m = "Homer simpson is a fun guy.";
    m = m + " works in a power plant";
    
    $('#moefivesee2').text( m );
}


// Visual number for titles of hunks on the screen 23apr21
function bracketHunkTitleMaker( n, aTi )
{
    // Make it easy to know the number

    let ans = '[ ' + n + ' ]' + ' ' + aTi;
    return ans;
}


// An apply button 23apr21
function DOMexeForAnApply( aNb )
{
    // Apply buttons do things, Each has a   aNb   name

   // Apply purpose for this modal   ( name: mdl3 )   about hunk names
    if( aNb == 'mdl3' )
    {
        // A modal box changing a name
        let gV = $('#modlocalname3').val();                     // Box human poked at, says
        let tUp = gV.trim(); if( tUp == "" ) { tUp = ll.jna; }  // Plain 

        // Saved formatted fancy title with look number of hunk and also nakeder
        SetLocalMemName( hunkNumberNow, tUp );                 // Has processing like brackets

        // And / or named set
        gV = $('#modservername3').val();
        AbsorbUiThing('srvrhnkti', hunkNumberNow, gV );

        // Clear a tables content
        gV = document.getElementById('chkhunkclearin3').checked;
        if( gV )                            { clearTableWeKnow( Number( hunkNumberNow ) ); }

        // Redisplay hunk stuff
        DOMupdateVisibleHunkOnScreen( 'eaah' );
    }
}


// Set memory for local hunk name 28apr21-A
function SetLocalMemName( hN, msg )
{
    // Save formatted fancy title with look number of hunk and also nakeder one

    AbsorbUiThing( 'hnasep', hN, msg );
    
    let fancierLook = bracketHunkTitleMaker( hunkNumberNow, msg ); // Ohh FANCY
    AbsorbUiThing( 'hnasef', hN, fancierLook ); 
}


// ID in
function prepareId3( aCf )
{
        // ID to use, just ' a came from '

        let m1 = 'username', m2 = '', m3;
        m3 = undefined;

    // Answer fact
        id3.fulltoken = ""; id3.country = ""; id3.account = 0; id3.pername = "";

        // Human left this for us
        let v = $('#ippd3d').val(); v = v.trim();

    // Left over text is uncool
    sWit = "your id here";
        if( isThisInThere( sWit, v ) ) { v = ""; }
        let aL = v.length;                                                                      // Pretend its empty

        // If possibly usable bust into pieces
        if( aL > 8 ) { id3 = id3CutUp( v ); }

    // Usable or what
        hint = 'bad';
    m2 = "Not usable"; m3 = "You can just enter a different one, of course";
        if( id3.country != "" ){
            m2 = v.trim(); m3 = "Name is usable, " + id3.pername + ", You can do fancy stuff on the server now";
        }

    // Saving to local db store too so can be re popped up when stuff restarts
        let aLo = id3.fulltoken;
        if( aLo != "" )
        {
            let jUz = JSON.stringify( id3 );
            localDbAddNumberedTableFact( entryId3usual, jUz );
        }

        // Info line for human at screen top
        TopLineDirect( m1, m2, m3 )
}


// Cut up an id 05aug20
function id3CutUp( iT )
{
        // Bust out pieces of an id like   cn.104555.daveRandal   ok

        let an = {};
        an.fulltoken = ""; an.country = ""; an.account = 0; an.pername = "";
    let aP = '.';

        let aL = iT.length;

        // Country
        let dRest; let p1 = iT.indexOf( aP ); iT = iT + '  ';
    if( p1 > 0 ){ dRest = iT.substring( p1 + 1 ); an.country = iT.substring(0, p1 ); }
    else        { return an; }

        // Number
        let dEnd; let p2 = dRest.indexOf( aP ); dRest = dRest + '  ';
        if( ( p2 > 3 ) & ( p2 < 8 ) )                                                                           // >
        { an.account = dRest.substring(0, p2 ); dEnd = dRest.substring( p2 + 1 ); }
        else
        {   an.country = ""; return an; }

        // Personal id name code whatever about the human
        pN = dEnd.trim();
        if( pN.length < 3 )                                                                                             // >
        { an.country = ""; an.account = ""; return an; }

        // Good, .fulltoken is still maintained though for telling humand etc, test country for goodness
        // of answer generally
        an.pername = pN;
        an.fulltoken = iT.trim();
        return an;
}

// Slide and see #slidersee
function sliderToSeeable( aKi, e )
{
    // Use slider

    if( theRecords == undefined ) return;

  // Wheres that clicker ?
    let eV = F_elmA9slider.value; let nIn;
    
    if( ( miscOp.area9Slider == 'click' ) && ( aKi == 'ch' ) )
    {
        area9AudioCues( 'rec9motion' );
        let nNu = theRecords.length * ( eV / 1000000 ); 
        nIn = parseInt( nNu, 10 );
        if( nIn < 1 ) { nIn = 1; }
    }   
        
    if( ( miscOp.area9Slider == 'touch' ) && ( aKi == 'mm' ) )
    {
        let uz = F_elmA9slider.getBoundingClientRect();
        let wiAl = F_elmA9slider.getBoundingClientRect().width;
        let seeX = e.offsetX;
        if( seeX != lX )
        {
            let fr = seeX / wiAl;
            lX = seeX;
            let nNum = theRecords.length;
            let aR = nNum * fr;  nIn = parseInt( aR, 10 );
            DOMslider9Pos( nIn );
        }
    }

    if( nIn != undefined )
    {   DOMshowArea9HumanSituation( nIn, ')clr9a' );
        Area9seeRecordByNumber( nIn ); almostSaidRn = nIn;      // Can be repeated to human 'sometimes'
        if( miscOp.area9Slider == 'click' ) { DOMmodalFactFlasher( modalRecNav1, 'fast-corner' ); }
    }
}
var miscOp = {}; miscOp.area9Slider = "click"; var lX = -1, almostSaidRn = 0; 


// Set slider text to state #slidertop
function sliderTitleFusser()
{
    let uz = stTch;
    if( miscOp.area9Slider == "click" ) { uz = stClk; }
    
    // Change human readable
    $('#sliderbutton').html( uz );
}
var stTch = "--- Touch to review records ---", stClk = "=== Click to review records ===";


// Clickable option(s) #sliderchange
function alterSliderMojoness( forThis )
{
    // Various real time settable human factors optons changer

    let uz = "click";

    if( forThis == 'area9slo' )
    {
        if( miscOp.area9Slider == 'click' ) { uz = 'touch'; }

        // This situation means we should show the record number 'late' the human changed looking ideas
        if( ( miscOp.area9Slider == 'touch' ) && ( uz == 'click' ) )
        {
            let m = recordLookWithNum( almostSaidRn );
            DOMmodalFactFlasher( m, 'medium-middle' );
        }
        
        // New state
        miscOp.area9Slider = uz;
    }   

    // Its important to people
    sliderTitleFusser()
}


// Clear text entries 05aug20
function clearTextEntry( aNaTb )
{
  // Just clear any named text box, might work on other texty tags too

  let c = document.getElementById( aNaTb ) 

    // Focus matters to human esp maybe tablet touch screens
    c.value = ""; c.focus();
}


// Get db without cutting it up at all 29jan20
//function GetDb() 
//{
// DB to me please
// 15may20
// alert('gdb');
// The second argumet is a callback to do what to do with it
//let textyDb = getDbLikeItsATableAlmost( "dbtablefiller", testNedb );
//}


// Test NeDb 29jan20
//function testNedb(likeSo, anArg) 
//{
        // Try to get it to do anything
//      console.log("testNedb top arg: " + likeSo);
//      switch (likeSo) {
//          case 1:
//          everythingDb.insert({
//                  planet: 'Earth',
//                  spot: 3
//              });
//              everythingDb.insert({
//                  planet: 'Mars',
//              spot: 4
//              });
//              break;
//          case 2:
//              everythingDb.insert(anArg);
//              break;
//          default:
//      }
        // seeThis = everythingeverythingDb.find({ planet: { 'Earth' } } );
//      let fThisExistsSn = {
//          shortnumber: {
//          $exists: true
//      }
//  }
//  let fThisExistsDm = {
//      shortnumber: "0770"
//      }
//      everythingDb.find(fThisExistsDm, function(err, docs) {
//          console.log('A no sql find it report: ');
//      console.log(docs);
//      });
//      console.log('testNedb ending');
//}

// Try
//$("#testdb1").click(function() 
//{
//      testNedb(1);
//});


// Find a person by short number using in memory db 15feb20
//function z0findPersonUsualWay(likeSo, aGivenThing, cb) 
//{
//      // Try to figure who is indicated
//      var sayName = "";
//      // Ready db test for existence of this key and actually find it, maybe
//      let fThisExistsSn = {
//          shortnumber: {
//              $exists: true
//          }
//      }
//      let fThisExists = {
//          shortnumber: aGivenThing
//      }
//      console.log('aaaaaa1: ', fThisExists);
//      console.log('aaaaaa2: ', everythingDb.length);
//      // If very not set up thats it   Do not crash       ok
//      //if( everythingDb.length == undefined )    return;
//      everythingDb.find(fThisExists, function(err, docs) {
//          console.log('aaaaaa3:', docs);
//          if (docs != []) {
//              console.log('aaaaaa4: ', docs[0]);
//              if (docs[0] != undefined) sayName = docs[0].casualname;
//          }
//          if (sayName.length < 4) sayName = sayName + "           ";
//          $("#idquest").val(sayName);
//          $("#btnwipeid").focus()
//      });
//  }


// Get rid of parellel array for makeable DOM buttons #modalemptier
function sharedModalContentEraser( doThis, aThing )
{
    // A step in a process

    let jWipe =         isThisInThere( 'mt', doThis );          // Empty div in DOM
    let jBtn =          isThisInThere( 'tb', doThis );          // Make button(s)
    let jnullButMem =   isThisInThere( 'nullbut', doThis );     // Remove mem of fancy buttons

    // Wipe whats in there now, in the visible shared modal divs
    // If there is more then one living at once this needs refactoring
    if( jWipe ) $( "#writablefour" ).empty();
    if( jWipe ) $( "#writableeight" ).empty();
        
    // Forget buttons in memory copy all about them
    if( jnullButMem )   buttonFacts_HF = {};    

    // Make a test button
    if( jBtn ) modalJustButtons( 'redbag', 'writablefour' );
}


// Button to be a test usually, might be a ok start for something else
function modalJustButtons( lp, rp )
{
    // Routine buttons in variable modal

    let btnBtn = document.createElement( 'button' );

    // Style it
    let itsLook = "color: black; font-size: 75%; margin: 2px;";
    btnBtn.setAttribute( "style", itsLook );

    // Name it
    btnBtn.setAttribute( 'id', lp );

    // Human readable title it
    var domPtrTitleText = document.createTextNode( lp );
    btnBtn.appendChild( domPtrTitleText );

    // Attached 'under' in this div
    let pntrDoNow = document.getElementById( rp );
    pntrDoNow.appendChild( btnBtn );
}


// Change cells style by column
function z1alterWidthTableColumns(tn, wl, toThis) 
{
        // Apply worklist of cells to align

        var uzTab = document.getElementById(tn, wl);
        for (var i = 0, row; row = uzTab.rows[i]; i++) {
            for (var j = 0, col; col = row.cells[j]; j++) {
                let ap = document.getElementById(tn).rows[i].cells;
                if (wl.includes(j)) ap[j].style.width = toThis;
            }
        }
}


// Change cells style by row
function z1alterAlignTableRows(tn, wl, doThis ) 
{
        // Apply worklist of cells to align

        var uzTab = document.getElementById(tn, wl);
        for (var i = 0, row; row = uzTab.rows[i]; i++) {
            for (var j = 0, col; col = row.cells[j]; j++) {
                let ap = document.getElementById(tn).rows[i].cells;
                if (wl.includes(i)) ap[j].align = doThis;
            }
        }
}


// What shows in table 9 as video that isnt a table ever
function pickVideo(ahFile) 
{
        Area9WhatToShow('v');

        var v = document.getElementById('videosource');
        v.setAttribute('src', ahFile);

        var o = document.getElementById('videoplayer');
        o.setAttribute('src', ahFile);
}


// Pause for awhile
function videoPause() 
{
        var o = document.getElementById('videoplayer');
        o.pause();
}


// Run
function videoRun() 
{
        var o = document.getElementById('videoplayer');
        o.play();
}


// Shows here pick it
function Area9WhatToShow( op ) 
{
    // Some things share screen space pick what to show

    var t = F_elmTxtM;                      // Text
    var v = F_elmVidM;                      // Video

  // None or choices
    if (op == 'n') {
            t.style.display = "none";
            v.style.display = "none";
    }

    if (op == 'v') {
            t.style.display = "none";
            v.style.display = "block";
    }

    if (op == 't') {
            t.style.display = "block";
            v.style.display = "none";
    }
}


// Update
function update_progress( e ) 
{
        // progress bar
        progressbar = document.getElementById( "barhtml" );
        if( e.lengthComputable) {
            var percentage = Math.round(( e.loaded / e.total ) * 100 );
            progressbar.max = 100;
            progressbar.value = percentage;
        } else {
            console.log( "Unable to compute progress information since the total size is unknown" );
        }
}


// Post Low level comm DanK 09 Mar 2017 21:00
function Xhr_BasicPost( cm, name_part, more_data ) 
{
        // removed size feb20
}


// Command pull usually
function WrappedLeftCommand( min )  
{
        // Ya

        var aspot = min.indexOf( "~" );
        var see = min;
        if( aspot >= 0 ) {
            see = min.substr( 0, aspot );
        }
        return see;
}


// Combine concept for RPC our way
function MakeRpcGetLinePiece( whattoaskfor ) 
{
        // Make question our syntax

        // We have a different leftmost magic word when its going to go out POST

        var magicword = "imapost";
        var atest = whattoaskfor.indexOf( "POST" );
        if (atest < 0) {                                                                                                            // >
            magicword = "runme";
        }

        var pnamepart = "?" + magicword + "=";
        var answer = pnamepart + whattoaskfor;
        return answer;
}


// Combine concept for RPC our way
function MakeRpcGetLinePieceMore(whattoaskfor, morestuff) 
{
        // Make question our syntax

        // In knows about POST versus GET tiny difference
        var withaddin = MakeRpcGetLinePiece( whattoaskfor );

        // And extra fact one of two ways, first is the absence of word POST
        if( whattoaskfor.indexOf( "POST" ) < 0 ) {                                                      // >
            if( morestuff != "" ) {
                withaddin = withaddin + "-" + morestuff;
            }
        }

        return withaddin;
}


// Various things to be said to server 12aug20
function TellServerSomeFact( rpc_name, extra_fact )  
{
        // Say misc thing(s) to server
        var tellthem = MakeRpcGetLinePieceMore( rpc_name, extra_fact );

        // Back to other computer
        if( rpc_name.indexOf( "POST" ) < 0 ) {                                                      // >
            Xhr_BasicSend( "GET", tellthem, "" );
        } else {
            Xhr_BasicSend("POST", tellthem, extra_fact );
        }
        Do_LittleReport();
}


// Go to a url 21apr21
function Xhr_JustJump( a_url_in ) 
{
    // Set aside now

    return;

    // Go to a URL
    // To be usable
    var full_url = "";

    // Make usable
    var a_spot = a_url_in.search( "http" );
    full_url = a_url_in;
    if (a_spot < 0) {                                                                                           // >
        full_url = "http://" + a_url_in;
    }

    // Go there
    window.location.assign( full_url );
}


// Specific JSON extract for top lines that might be broken blank, wrong etc
function Our_JSON_Top_Looker( input_line, what_to_extract ) 
{
        // Return a value for a left hand part for "" for bad built, not found etc

        // Could be more to do
        if( input_line.length < 4 ) {                                                                   // >
            return "";
        }

        // First instance of what we are seeking, leave if not found at all
        var first_spot = input_line.search(what_to_extract);
        if (first_spot < 0) {
            return "";
        }

        // This = that is this new fragment                                                             // >
        var top_generally = input_line.substring(first_spot);

        // Look for quote I think 
        var lookie_for = "\"\:";
        var foundit_spot = top_generally.search(lookie_for);

        // There to quote is the dependant part, our answer
        var leading_cut_ans = top_generally.substring(foundit_spot + 3);
        var end_q_spot = leading_cut_ans.search("\"");
        var real_ans = leading_cut_ans.substring(leading_cut_ans, end_q_spot);

        return real_ans;
}


// Do file things
function ProcessIncoming( aKind, aFiNa, aTableName, cb ) 
{
        // Process

        cb( aTableName );
}


// Use file fixed up
function ToTableVaries( namedThing ) 
{
        // Use
        let m = "hi ";
        alert( m + namedThing );
}


// Catch it back
function A_Xhr_Thread_Handler( e ) 
{
        // See answer from a local thead

        if( e.data == "" ) {
            return;
        }
        var uz = e.data;
        if (uz.charAt( 0 ) == ")" ) {
            return;
        }

        // From thread hop off point
        rawrequestresult = e.data;
        if( rawrequestresult.trim() == "" ) {
            return;
        }

        // Almost all clients like this way out with the thing as a global
        FinishUpXhr("");
}


// Tests pretty misc
function TestT( anum ) 
{
        // Tries

        if (anum == 4 ) {
            ToastToPlace( "inlogotop" );
            toast_kounter = 100;
        }

        if (anum == 5) {
            alert("Setting lisp like properties engine to facts about my home town");
            StorePropertyPair("piconsole.log( a", "", 0.069);
            StorePropertyPair("1309", "street", "Sycamore");
        }

        if (anum == 6) {
            alert("Pulling facts for testing properties engine");
            t1 = "";
            t2 = "";
            t3 = "";
            t4 = "";
            t5 = "";
            var a_ref = "1309";
            t1 = GetPropertyPair(a_ref, "street");
            t2 = GetPropertyPair("1309", "Resident ");
            alert(t1 + t2 + t3 + t4 + t5);
        }
}


// Get to see reports
function ReportButton( pafina ) 
{
        // See a file from the server

        // Path and file
        var a_dirnam = "reports";
        var a_filena = pafina + ".txt";
        var get_from = a_dirnam + "/" + a_filena;

        // Make request of it and send
        var rpc_name = "factualfileget";
        var tell_them = MakeRpcGetLinePieceMore( rpc_name, get_from );

        Do_LittleReport( '1' );
        Xhr_BasicSend( "GET", tell_them, "");
        Do_LittleReport( '2' );
}


// Pick a table for a purpose specified
function pickTableForHuman( aKind )
{
    // Select one

    let ans = 0;                                                    // If none figured
    let lowMt = 0;

    for( let tt = 2; tt <= tableCount; tt++ )
    {
        var sT = $('#table' + tt ).DataTable();

            let aKnt = sT.data().length;
            if( aKnt < 1 ) { if( lowMt == 0 ) lowMt = tt; }
    }   

    if( aKind == 'lowmt' )  ans = lowMt;

    return ans;
}


// To table apparently #area9go
function copyArea9TextToTable()
{
    // Copy text area 9 to a table

    // If a taregt table is not already selected, try to pick one, lowest empty number is good 
    let pHunkN = 0;
    if( hunkTaNumToAccess < 1 )
    {
        // Maybe none are pickable
        pHunkN = pickTableForHuman( 'lowmt' )
        if( pHunkN < 1 )
        { cannedAudioOut( 'sortofbad' ); return; }
            hunkTaNumToAccess = pHunkN;                     // This is a good one
        }
        
    // Make it open for viewing 
    winShowHide( hunkTaNumToAccess, 'show' );

    // The DOM messes up the table visually so we need to go back and move around whitespace
    // this says which tbale it is by the nambers, thats all its for
    // 05aug21
    tableTouchUp = hunkTaNumToAccess;

    // Human ( or me ) hopefully picked a good number
    selectTable( hunkTaNumToAccess );

    // Cue(s)
    delayedTtsOut( 'iaft','sd' );                           // I am filling table
    
    // Copies Orthoset facts to shape expected for table filling in hunks #area9fill
    doArea9EditToTable();                                   // The argument is little humany notions
    hunkTaNumToAccess = 0;                                  // Can be refound new pass, sure
}
var tableTouchUp = 0;


// Data compression
function zlwDecompress( compressed ) { 
        // Build the dictionary.
        var i,
            dictionary = [],
            w,
            result,
            k,
            entry = "",
            dictSize = 256;
        for (i = 0; i < 256; i += 1) {
            dictionary[i] = String.fromCharCode(i);
        }

        w = String.fromCharCode(compressed[0]);
        result = w;
        for (i = 1; i < compressed.length; i += 1) {
            k = compressed[i];
            if (dictionary[k]) {
                entry = dictionary[k];
            } else {
                if (k === dictSize) {
                    entry = w + w.charAt(0);
                } else {
                    return null;
                }
            }

            result += entry;

            // Add w+entry[0] to the dictionary.
            dictionary[dictSize++] = w + entry.charAt(0);

            w = entry;
        }
        return result;
    }


// Compress 04aug20
function zlwCompress( uncompressed ) 
{
        // Build the dictionary.
        var i,
            dictionary = {},
            c,
            wc,
            w = "",
            result = [],
            dictSize = 256;
        for (i = 0; i < 256; i += 1) {
            dictionary[String.fromCharCode(i)] = i;
        }

        for (i = 0; i < uncompressed.length; i += 1) {
            c = uncompressed.charAt(i);
            wc = w + c;
            //Do not use dictionary[wc] because javascript arrays 
            //will return values for array['pop'], array['push'] etc
           // if (dictionary[wc]) {
            if (dictionary.hasOwnProperty(wc)) {
                w = wc;
            } else {
                result.push(dictionary[w]);
                // Add wc to the dictionary.
                dictionary[wc] = dictSize++;
                w = String(c);
            }
        }

        // Output the code for w.
        if (w !== "") {
            result.push(dictionary[w]);
        }
        return result;
}


// Displayer for variable stuff
function Show_Btns() 
{
    // Show from local store texts

        StickShow("backup1");
        StickShow("backup2");
        StickShow("backup3");
        StickShow("restore1");
        StickShow("restore2");
        StickShow("restore3");
        StickShow("upgrade1");
        StickShow("other1");
        StickShow("other2");
        StickShow("other3");
        StickShow("other4");
        StickShow("mailto");
}


// Help look in sticky
function StickShow( nam ) 
{
        // Facts, sure

        var m = "";
        m = GetStickyFact("f", "a_desc", nam);
        if (m == "") {
            return;
        }
        document.getElementById(nam).innerHTML = m;
}


// Make jQuery 'top part' to get an a number table using DatTable 19apr21
function JQdtExe( aTableNum )
{
    // Return $ this part
 
    // Use like this:
    // var yourThing = $( JQdtExe( TableN ) ).DataTable();
    // Tack on sub predicates:
    // yourThing.HERE()
    // Or inline

    ans = '#table' + aTableNum;
    return ans;
}


// Get current showing table headers 07apr21
function gimmeTableHeadersNow( aTabN )
{
    // Get whats really 'there' now
    // Figured out 21 March 20_21

    // Answer will be a list of fieldnames ( well headers usually from fieldnames )
    let ans = [];

    // Get table object by number this is done just ike this for speed, a jQuery call $ style see
    var daTable = $( JQdtExe( aTabN ) ).DataTable();

    // Iterate through every column
    daTable.columns().every( function () 
    {        
        ans.push( this.header().innerHTML );
    });
    
    return ans;
};


// Explanation change
function ChaExp( aname ) 
{
    // Set

    var msg = prompt("Enter:");
    if (msg == "") {
        return;
    }
    SetStickyFact("f", "a_desc", aname, msg);
}


// Sets DOM changed catcher 02apr21
function DOMchangedSoDoThis( cb, helpFact ) 
{
    // Any DOM change to call this callback 

    document.addEventListener( 'click', function( event ) 
    {
        // Do this as given
        cb( helpFact )
    }, false);
}


// Other starts
function Start_Like_So() 
{
    // Maybe planned in who knows, I am called  

    let aTt = 0;
}
</script>


<script>
    // Special named DOM var to show a count going up sometimes
    var wThingCountableShow = "";

    // Gobbling back a local file can be complex, probably
    var localWork = {};
    localWork.tableByNumber = 0;
    localWork.textItself = "";
    localWork.filename = "";
    localWork.userid = "";
    localWork.itsKind = "";

    // Timer for showing
    var pIn;

    // Versioning 
    var vNow, vTz, vDevBox;
    vTz = 'e'; vDevBox = 'pioneer';
    vNow = "09 Aug 2021 20:27 Z";


// Do when going
function ImLoaded() 
{
    // Startup 

    // Can be useful wringing out IDes etc
    let startWithD = true;
    if( startWithD )                            
    { let s = 0; }

    // Exception trip test 30aug20
    let d = $("#doesnotEXisTT");

    // Hello let's go
    console.log( 'Im loaded' );

    // Lodash access test
    let ldT = false;
    if( ldT )
    {   let randomL = _.random(15, 20);
        console.log( 'lodash rnd: ' + randomL );
    }

    // Initialize the looks of all modals using REACT
    ReactInitLooks();

    // Define lots of human language things
    BuildLanguageLocalization();
 
    // Window size change 24apr20
    window.addEventListener("resize", getSizes, false)
    function getSizes()
    {
        let body = document.body
        // console.log( "Resizing: " + body.clientWidth +"px x " + body.clientHeight + "px" ) 
    }

    // Slider(s) setups 03aug20
    $("#sliderthing").change(function() 
    {
        sliderToSeeable( 'ch' );                    // Catch a change to this slider in area 9
    });
    $("#sliderthing").mousemove(function( e )
    {
        sliderToSeeable( 'mm', e )  
    });

    // Important show how test to write to a table just so #tablepokeinshown
    $("#testtablepokein").click(function() 
    {
        console.log( 'yelowdress00' );
        let pIn1 = ['alpha', 'beta', 'charlie', 'delta', 'echo', 'foxtrot'];
        let pIn2 = ['2alpha', '2beta', '2charlie', '2delta', '2echo', '2foxtrot'];
        let pHookup = [];
        pHookup.push( pIn1 );
        pHookup.push( pIn2 );
        let uz1 = messageSendFixerUpper( 'tablefill1', 'table4', "", "", "", pHookup );

        selectTable('3');
        tableStuff = uz1[ 'tablepayload' ];

        // console.log( 'yellowdress19' );
            
        jj = 0;
        DoIncrementally()
        console.log( 'yellowdress01 ', tableStuff );
    });

    // Get local DB going 27mar21
    daKeys = PrepareIdbLocalDatabaseToUse();                // Should be asynch, just open a little

    // Test dunno
    $("#btnarea9save").click( function() 
    {
        cannedAudioOut( 'bigrow1' );
        let t = $("#divtextarea9").text()
        localDbAddNumberedTableFact( entryTextEdit, t );
    });

    $("#btnarea9open").click( function() 
    {
        cannedAudioOut( 'bigrow1' );
        localDbReadNumberedFact( entryTextEdit );
        setTimeout( OpenPart2, 1200 );
    });

    $("#t9clear").click(function() {
        $('#edithere9').val('');
    });

    // Make a splash dude 26jul20
    globalExamples();
            
    // Start visibility state #sidedebug 21apr21
    debugManager( 'ton' );
    debugManager( 'toff' );
    debugManager( 'ton' );

    // Hunk help settings names
    InitHunkStuff(); DOMupdateVisibleHunkOnScreen( 'inego' );

    // Show stuff 30aug20
    DOMallHUNKShowsHowSetter( 'show' );
    winShowHide( 1,'hide' );

    // Modal start
    LocalRealTimeStuff( 'go1' );

    // Dom Ids domidi domdom idid domid domid #dommap
    F_elmTxtM       = document.getElementById( 'divtextarea9'   );
    F_elmVidM       = document.getElementById( 'areaplayer9'    );
    F_elmExpT       = document.getElementById( 'explainer9'     );
    F_elmMod4       = document.getElementById( 'mwm_picker1'    );
    F_elmMod8       = document.getElementById( 'mwm_picker2'    );
    F_elmSpalsh     = document.getElementById( 'mwm_splash'     );
    F_elmAudioOc    = document.getElementById( 'audiooutctrl'   );
    F_elmAudioOf    = document.getElementById( 'audiooutfile'   );
    F_elmReuseDiv1  = document.getElementById( 'writablefour'   ); 
    F_elmReuseDiv2  = document.getElementById( 'writableeight'  ); 
    F_elmA9slider   = document.getElementById( 'sliderthing'    );

    // Test message leave in sometimes nice to have to do a thing
    let z = "Bil Jac is a registered trademark of Bil-Jac ";
    z = z + "Foods Inc Cesar Eukanuba ams Pedigree Nutro Royal Canin are ";
    z = z + "registered trademarks of Mars Incorporated. Alpo Purina Beneful ";
    z = z + " Purina Dog Chow, Purina ONE and Purina Pro Plan are registered ";
    z = z + "trademarks of SociÃ©tÃ© des Produits NestlÃ© S.A. Diamond is a ";
    z = z + "Last line.";
    var longTestLine = z;

    // Setup modal  
    InitModalBasics();

    // Starts 30mar21
    let sI3;
    sI3 = 'YOUR ID HERE';
    sI3 ='ca.13099.xxx';
    $("#ippd3d").val(sI3);

    // Top line 12aug20
    TopLineDirect( "user setting", "none", "Universal default account is selected" );

    let daT = "Unified media framework" + " " + vNow;
    $(document).attr( "title", daT );

    $("#btnarea9text").click(function() {
        Area9WhatToShow( 't' );
    });
    $("#btnarea9video").click(function() {
        Area9WhatToShow( 'v' );
    });
    $("#t9none").click(function() {
        Area9WhatToShow( 'n' );
    });

    // I call them placemats
    $('#btnss').click(function() {
        DOMButtonFlashMsgCannedDoIt( 100 + 4 );
    })

    $('#table1 tr td').click(function() {
        // 28may20
        var cval = $(this).text();
        var avsl = ($(this).index() + 1);
        alert('zwankwank ' + avsl);
    });

    // Everytime the DOM changes, this sets a called function. It can touch up visuals,
    // count things, who knows. Uses cascaded callbacks, thats the argument
    // here what to call 31mar21
    DOMchangedSoDoThis( TouchUpTableDOM, 'DOMchanged' );

    // Get value on button click and show alert 08jun20
    $("#idquest").mouseleave(function() 
    {
        var sNow = $("#idquest").val();
        sNow = sNow.trim();
        if (sNow != "") {
            alert('doing ' + sNow)
            localDbAddNumberedTableFact( entryIdDbLocalAtNum, sNow );
        }
    });

    // Add row to a table as a test etc
    $("#addtotable").click(function() 
    {
        PlopWellFormattedDropIntoTable( 'usual' );
    });

    // I wonder what this does
    Area9WhatToShow('t'); // What shows starting    
        <!-- IMLOADED startup hooks maker new stuff can go here BIGMARK -->
        // Figuring out datatables as object 04aug20

    // Button
    $("#btnbl6").click(function()
    {   
        avoidLocalBunga = !avoidLocalBunga;
        if( !avoidLocalBunga )                              cannedAudioOut( 'miniclick' );
    });

    // Fifteen
    $("#btnbl5").click(function()
    {   
        cannedAudioOut( 'miniclick' );
        if( improveByLineCodes == "" )  { improveByLineCodes = 'remexq'; return; }
        improveByLineCodes = "";
    });

    // Figuring out something sure
    $("#btnbl2").click(function()
    {
        doBl2();
            //  let d = 0;
            //  var snaggedT = $('#table' + hunkTaNumToAccess ).DataTable();
            //  let aP = snaggedT.row(1).data();
            //  aP[0] = "Boogertronium";
            //  snaggedT.row(1).data(aP);
            //  snaggedT.draw();
            //$('#table' + hunkTaNumToAccess ).rows().invalidate().draw();
            //dt.DataTable().rows().data(aP).draw();
            //dt.DataTable().rows().data(aP).invalidate().draw();
            //dt.DataTable().data(aP).invalidate().draw();
            //dt.DataTable().invalidate().draw();
            //console.log('Snagged T all');
            //console.log(snaggedT);
            //console.log( 'Line size reported: ' +  snaggedT.length );
            //let aZ = snaggedT[ 0 ];
            //let ll1 = JSON.stringify( aZ );
            //console.log( 'Size stringified one line: ' + ll1.length );
            //let ll2 = JSON.stringify( snaggedT );
            //console.log( 'Size stringified entire: ' + ll2.length );
            //let zc = zlwCompress(ll1);
            //let arlen = zc.length / 1024;
            //console.log( "Zlw compressed length: " + arlen + ' k symbols' );
            // And back
            //let plain = zlwDecompress( zc );
            //let min = 9999999, max = -1;
            //let aL = zc.length;
            //for( let i = 0; i < aL; i++ )
            //{
            //  if( zc[i]>max ) max = zc[i];
            //  if( zc[i]<min ) min = zc[i];
            //}
            //console.log( 'min max ',min,max);
            // So
            //console.log( plain );
            //console.log( "remade size: " + plain.length );
});

    // BL 3 #modalflashshow
    $("#btnbl3").click(function() {
        let m = "btnbl3"; 
        DOMmodalFactFlasher( m, 'medium-middle', localId3rebuild ); 
    });

    // See version this Html 16apr21
    $("#btnver").click(function() {
        let m = versionSay(); 

        // Use the custom text in REALM thing:
        REACToneLiner( { L1: versionSay(), L2: 'Development code', L3: 'On Pioneer',
                                MO: 'Call back to home base', displayLength: 'golong' },                
                                'medium-middle', cbTest );
    });

    // Convienent #emptyjumpexam    
    $("#setasidebigboy1").click(function() {
        // exe goes here
    });

    $("#setasidebigboy2").click(function() {
        // exe goes here
    });

    $("#setasidebigboy3").click(function() {
        // exe goes here
    });

    $("#setasidebigboy4").click(function() {
        // exe goes here
    });

    // Some 30jun20
    $("#adjustsome1").click(function() {
        let aN = 1;
        alterAlignTableColumns('table3', [0, 1, 2, 3, 4, 5], 'center');
    });

    // Some
    $("#adjustsome2").click(function() {
        let aN = 2;
        let mT = "left";
        alert( "adjustsome " + aN );
    alterAlignTableColumns( 'table3', [ 0, 1, 2, 3, 4, 5 ], mT );
    });

    // Some 30jun20
    $("#adjustsome3").click(function() {
        let aN = 3;
        let mT = "center";
        alert( "adjustsome " + aN );
        let ddn = document.getElementById('table3');
        let nRow = 2,
            nCol = 1;
        ddn.rows[nRow].cells[nCol].align = "center";
    });

    // Alt function area 9 sliderbutton
    $('#sliderbutton').click( function()
    { alterSliderMojoness( 'area9slo' );
    });

    // Some 05aug20
    $("#z8preptabletoupload").click(function() {
        alert( 'table to upload working with ' + hunkTaNumToAccess );
        var vals = $('#table' + hunkTaNumToAccess );                // Find all <td> elements in table

        // Transform to a list of jQuery objects
        let aT = vals.map( function( i, e )
        {
            return e.innerText;
        });
        alert('30bottom');
    });

    // Some Just for testing #testamodal
    $("#modalFo4").click(function() {
        let specSize = modShapeLarge3;
        specSize = modShapeMedium1;
        DOMopenModal('mwm_picker1', specSize );
        sharedModalContentEraser( 'mt nullbut tb' );
    });

    // Some 01aug20
    $("#racoon").click(function() {
        console.log('Many into table 8 now');

        let aNN = 8;        
        selectTable( aNN );

        let HUH = performance.now();

        let rMM = [];
        r1 = "NCT04260594";
        r2 =  "17 February 2020","Clinical Study of Arbidol Hydrochloride Tablets in the Treatment of Pneumonia Caused by Novel Coronavirus";
        r3 = "Randomized, Open, Multicenter Study on the Efficacy and Safety of Arbidol Hydrochloride Tablets in Treating Pneumonia in Patients Infected With Novel Coronavirus (2019-ncov)"
        r4 = "Parallel Assignment. Primary purpose: Treatment. Masking: None (Open Label).   Inclusion Criteria: <br> <br>          1. Sign the informed consent form      2. Age   18 years, regardless of gender";
        r5 = "Randomized, Open, Multicenter Study on the Efficacy and Safety of Arbidol Hydrochloride Tablets in Treating Pneumonia in Patients Infected With Novel Coronavirus (2019-ncov)";
        r6 = "Jieming QU  Age =18 years, regardless of gender    3. Subjects with pneumonia diagnosed as 2019-nCoV infection A) Detection of 2019-nCoV <br>             nucleic acid positive by RT-PCR in respiratory tract or blood samples.";
        rMM.push( r1 );rMM.push( r2 );rMM.push( r3 );
        rMM.push( r4 );rMM.push( r5 );rMM.push( r6 );

        //let makeNN = 5000;
        //for( nn = 1; nn < makeNN; nn++ )
        //{
        //    addRowToTable( rMM );
        //    //console.log(nn);
        //}
        //t1 = performance.now();
        //let d = t1 - t0;
        //console.log("timed: ", parseInt( d, 10 ) );
    });

    // Some 23jul20
    var nodLook;
    $("#walrus").click(function() {
    alert('WALRUS');
    });

    // Some 09jul20
    $("#adjustsome9").click(function() {
    var c = document.body.childNodes;
    var txt = "";
    var i;
    for (i = 0; i < c.length; i++) {
        console.log(c[i].nodeName + ' ' + c[i].id);
    }
    });     

    // Some 01sep20
    $("#mod7test").click(function()     
    {
        // alert('mod7test');
        DOMopenModal( 'mwm_sequpdate' );
    });

    // Well
    function SetAside()
    {
        let startThing = "table3_wrapper";
        nodLook = document.getElementById(startThing);

        //nodLook = nodLook.nextSibling;
        //console.log( 'DUMP: ', nodLook );
        //console.log( 'TYPE: ', nodLook.nodeType );
        //console.log( 'VALUE: ', nodLook.nodeValue );
        //console.log( 'INNER: ', nodLook.innerHTML );
        //console.log( 'STRINGIFY: ', JSON.stringify( nodLook ) );
        //console.log( '------------------');

        var c = nodLook.childNodes;
        let s = " !!! ";
        let sngrp1 = false;

        if (sngrp1) {
            console.log("ZERO    CHILD: ", c[0].nodeName, s, c[0].id, s, c[0].nodeType);
            console.log("ONE     CHILD: ", c[1].nodeName, s, c[1].id, s, c[1].nodeType);
            console.log("TWO     CHILD: ", c[2].nodeName, s, c[2].id, s, c[2].nodeType);
            console.log("THREE CHILD: ", c[3].nodeName, s, c[3].id, s, c[3].nodeType);
        }

        console.log("2ZERO: ", c[0]);

        let d = c[0].childNodes;
        console.log("D: ", d);

        let e = d[0];
        console.log("E: " + e);
        console.log("More E1:    ", e.toString());
        console.log("More E2:    ", JSON.stringify(e));
        console.log("More Eih: ", e.innerHTML);

        // Show <select name="table3_length" aria-controls="table3" class="" style="color: green;">
        // <option value="10">10</option><option value="25">25</option><option value="50">
        // 50</option><option value="100">100</option></select> entries

        let asIs = e.innerHTML;
        let aMod1 = replaceAllStr("Show", "", asIs);
        let aMod2 = replaceAllStr("entries", "View", aMod1);
        e.innerHTML = aMod2;

        //console.log( 'CN: ', c );
        //var txt = "";
        //  var i;
        //  for (i = 0; i < c.length; i++) {
        //  console.log( c[i].nodeName + ' ' + c[i].id );
        //  }
    }

    // Some peekie trial 30jun20
    $("#adjustsome19").click(function() {
        let aN = 9;
        let mT = "center";
        alert( "adjustsome " + aN );
        let ddn = document.getElementById('table3');
        let nRow = 2,
            nCol = 1;
        ddn.rows[nRow].cells[nCol].align = "center";
    });

    $("#peekiel1").click(function() {
        let ttable = $('#table1').DataTable();
        let tinfo = ttable.page.len();
        alert(tinfo);
    });

    // Make
    $("#makepagelengththis").click(function() {
        let ttable = $('#table1').DataTable();
        ttable.page.len(25).draw();
    });

    $("#z2getdrugprogress").click(function() {
        $('#moetwosee1').text('Building');
        SayMoLines("A Drug progress table");
        getTableUsual('drugprogresstablefiller', 'table3');
    });

    // Writing to db test BLECH 27mar21 #gottado
    $("#blech1").click(function() 
    {
        testNow.theExe();
        alert( testNow.theDescription );
    });

    // Work with JQ and tables
    $("#blech2").click(function() 
    {
        // Keep addint to this

        // Look at learn
        messyHowTo29();
    });

    // Read write direct BLECH 29mar21
    $("#blech3").click(function() 
    {
        alert('blech 3 A 2 to 3 in mem clone');

        console.log( 'Two to three in memory clone:')

        var tT5 = $('#table2').DataTable();
        console.log( tT5 );

        let t5b = JSON.stringify( tT5 );
        console.log( t5b );

        // $('table3').DataTable().destroy();
        // $('#table3').DataTable( tT5 );

        // This line throws an error I hoped it was reading values error impliesitw witing them which is bad
        // var daTable = $('#table2').DataTable( { ajax: "data.json" } );
        // console.log( "Datatable data json pull:")
        // console.log( daTable );

        console.log( "------------ blech 3 report done -------------------");
    });

    // Insert test blech 27mar21
    $("#blech4").click(function() 
    {
        var dataSet = [
        [ "Tiger Nixon", "System Architect", "Edinburgh", "5421", "2011/04/25", "$320,800" ],
        [ "Garrett Winters", "Accountant", "Tokyo", "8422", "2011/07/25", "$170,750" ],
        [ "Ashton Cox", "Junior Technical Author", "San Francisco", "1562", "2009/01/12", "$86,000" ],
        [ "Cedric Kelly", "Senior Javascript Developer", "Edinburgh", "6224", "2012/03/29", "$433,060" ]
        ];
 
        let daT = 3;
        
        // Some things we use, use this to id table worked over
        selectTable( daT );                                         // Uses 'real' Datatable entirely

        // Empty but do not rebuild entirely    
        clearTableWeKnow( daT );                                    // DT user
        addLinesToTableWeKnow( daT, dataSet );                      // Yup DT not 'direct'

        let uz = [ 'ball', 'puck', 'birdie', 'stick', 'glove', 'net' ];
        replaceHEADERSInTablWeLike( uz );

        // Get real showing column tops aka headers 07apr21
        let headers_source = gimmeTableHeadersNow( 3 );
        alert( headers_source );
    });

    // Read IDB with key test 25mar21 #gottado fillsavegethunks
    $("#blech5").click(function() 
    {
        let aV = versionOfIdb();
        alert( aV );

        let tN = 2;

        let fromSpec = {}, toSpec = {}; howSpec = {};
        
        let setN = 2;

        if( setN == 1 )
        {   fromSpec.source = 'local'; 
            fromSpec.spot = tN;
            fromSpec.title = ")default";
            toSpec.tableNum = tN; 
            howSpec.placement = "replace";
        }
    
        if( setN == 2 )
        {   fromSpec.source = 'local'; 
            fromSpec.spot = tN;
            fromSpec.title = "Beavers";
            toSpec.tableNum = tN; 
            howSpec.placement = "replace";
        }
        
        RestoreHunkFromLocalIdb( fromSpec,toSpec,howSpec );
    });

    // Create start kit in indexed db #gottado
    $("#blech6").click(function() 
    {
        let aV = versionOfIdb();
        let nNa = prompt( "New key: " );
        makeRecordsJustSo( nNa );
    });

    // Replace put in indexed db 29mar21 #gottado
    $("#blech7").click(function() 
    {
        let aV = versionOfIdb();
        let dKey = prompt( "Key: " );
        let dTxt = prompt( "Text: " );
        makeRecordInto( dKey, dTxt );
    });

    // Load test table usually 3 carefully from various things incl db fillsavegethunks
    $("#blech8").click(function() 
    {
        let aV = versionOfIdb();
        alert( 'gm blech8 here ' + aV );

        let hNow = 3;

        // Clears it leaving its mods intact"
        //$('#table'+ hNow.toString() ).DataTable().clear().draw();
    
        // Insert test blech
        var dataSet = [
        [ "Tiger Nixon", "System Architect", "Edinburgh", "5421", "2011/04/25", "$320,800" ],
        [ "Garrett Winters", "Accountant", "Tokyo", "8422", "2011/07/25", "$170,750" ],
        [ "Ashton Cox", "Junior Technical Author", "San Francisco", "1562", "2009/01/12", "$86,000" ],
        [ "Cedric Kelly", "Senior Javascript Developer", "Edinburgh", "6224", "2012/03/29", "$433,060" ]
        ]

        $('#table3').DataTable().rows.add( dataSet ).draw(true);

        //$('#table3').DataTable( {
        //data: dataSet
        //,
        //columns: [
        //    { title: "Name" },
        //    { title: "Position" },
        //    { title: "Office" },
        //    { title: "Extn." },
        //    { title: "Start date" },
        //    { title: "Salary" }
        //    ]
        //} );
    });

    // Time and date LL 07apr21
    $("#blech9").click(function() 
    { 
        let dd = Date.now();
        let aWhen = EpochTimeRemapper( dd, 1 );
        alert( aWhen );
        aWhen = EpochTimeRemapper( dd, 2 );
        alert( aWhen );
        aWhen = EpochTimeRemapper( dd, 3 );
        alert( aWhen );
        aWhen = EpochTimeRemapper( dd, 4 );
        alert( aWhen );

    });

    // Time and date LL 07apr21
    $("#blech10").click(function() 
    { 
        alert('fancy td');
    });

    // Test a REACT thing
    $("#blech11").click( function() 
    { 
        REACTsayMore( { L1: 'I love lucy', L2: 'B and W Fun', L3: 'Was fun',
                                MO: 'In NYC', howclose: 'waitforclick' },                
                                'medium-middle' );    });

    // Test url gets 21apr21              
    $("#blech12").click(function()
    {
        // $("#table2:has(td)").click(function(e) {
        // var clickedCell= $(e.target).closest("td");
        //alert( clickedCell.text() );
        // });

        let pfp1 = "https://petfoodplatters.com/";
        window.open( pfp1, '_newtab' );
    }); 

    // Test modal heads up 21apr21
    $("#blech13").click(function()
    {
        let aNameAction = "URL WWW Grabber";
        let aHin = "One click usually does this named action";
        REACTheadsUp( { L1: aNameAction, L2: aHin, L3: 'on moon',
                                MO: 'Call back to home base', howclose: 'waitforclick' },              
                                'top-right' );
    });

    // Test modal heads up 21apr21
    $("#blech14").click(function()
    {
        let aNameAction = "z0URL WWW Grabber";
        let aHin = "z0named action";
        REACTaniFrame( { L1: aNameAction, L2: aHin, L3: 'z0moon',
                                MO: 'Call back to home base', howclose: 'waitforclick' },              
                                'top-right' );
    });

    // Test DB tables a specific
    $("#blech15").click(function()
    {
        alert( 'Look thru DB for multiple tables per hunk' );
        console.log( 'Going to try now:' );
        wvbi();
    });

    // Learn and apply modal lists options
    $("#blech16").click(function()
    {
        REACTpickLine( { L1: 'List development', L2: 'ideas sure', L3: 'Lemons',
                                MO: 'Call back to home base', howclose: 'waitforclick' },              
                                'top-right' );
    });

    // Prep hunk lists
    $("#blech17").click(function()
    {
        REACTpickLine( { L1: 'List development 17', L2: 'ideas sure', L3: 'Walnuts',
                                MO: 'Call back to home base', howclose: 'waitforclick' },              
                                'top-right' );
    });



    // Table stuff for its wrap around package   datatables     does lotsa good stuff 18apr21
    // Different values call different setups these developed in order, dont fear the dead code
    // its not dead, its sleeping
    let picked = 2;
    OrganizeTables(  picked );

    // Various 02apr21
    TableTouchedOnce();

    // Startup button titles and states
    Start_Like_So();

    // Stuff for starting yet more of it    
    watcherSetsAtStartsup();

    // Orderly looking 15aug20
    DOMallHUNKShowsHowSetter( 'hide' );

    // Off now its distracting when there
    visibilityGhddiOval( 'invisible' );

    // Coldstart after timer
    setTimeout( StartForReal, 1000 );
}


// End of start stuff to avoid endless horror of www 15aug20
function StartForReal()
{
    // Lets really go this is the tail end of a cold start

    // Splash / placemats can be turned on or off on startups
    let splashFired = false;
    if( mrBoole.coldStartSplash ) { makeSplash ( 'im_loaded' ); splashFired = true; }

    // Other start dont let them interfere though
    if( mrBoole.startHiThere && ( !splashFired ) )
    {   REACToneLiner( { L1: ll.hithere, L2: versionSay() },
                                'medium-middle' ); }

    // Changes to DOM around tables 05aug21
    adjustDOMTabStart();
}


// Write a table to a local db 27Mat21
function SaveTableIntoLocalDb( aTableNum )
{
    // To local indexed WWW Db
}


// Clear in memory table 27Mar21
function clearTableWeKnow( aTabN )
{
    // Remove content

     // Wipe content
     $('#table'+aTabN.toString()).DataTable().clear().draw();
}


// Add lines to in memory table 27Mar21
function addLinesToTableWeKnow( aTabN, someLines )
{
    // Probably a fast table line adder

    // As of Apr 20_21 only caled from test click, no idea if its useful in general

    // Put in lines
    var t = $( '#table' + aTabN.toString() ).DataTable().rows.add( someLines ).draw( true );
}


// Fill table from outside world, ( or my indexed db ) 28apr21-A #fillsavegethunks
function DOMfillTableBigtime( whatToPlace, toTableN )
{
    // Called with a   cb   usually to fill a table from scratch

    // Some things we use, use this to id table worked over
    selectTable( toTableN );                                   // Use this one for next operations

    // Get out pieces of tables, table is most of but not all of a 'hunk'
    let ob = JSON.parse( whatToPlace ); let backToObj = ob.tis.body;

    // All living there together but now its   BACK TO   what there for
    let backToHeader = ob.tis.header;
    let backToField = ob.tis.field;
    let backToMeta = ob.tis.meta;

    // Still be careful its known good
    if( toTableN > 0 )
    {
        // This really applies table BODY to the table
        $( JQdtExe( toTableN ) ).DataTable().rows.add( backToObj ).draw( true );

        // Top line of a table is special
        replaceHEADERSInTablWeLike( backToHeader );

        // And meta data is carefully restored, names etc
        replaceMETASInTablWeLike( toTableN, backToMeta );
    }    
}


// Restore SOME metadata from an object 28apr21-A
function replaceMETASInTablWeLike( tableN, daM )
{
    // Replace meta data carefully

    let uz;         // Troubleshooting matters

    // Using CLONE might seem good. but its better to accidentlly lose a copied fact
    // then copy one without knowing it

    uz = daM.localhunktitleFormatted; AbsorbUiThing(    'hnasef',       tableN, uz );
    uz = daM.localhunktitlePlain;     AbsorbUiThing(    'hnasep',       tableN, uz );
    uz = daM.serverhunktitle;         AbsorbUiThing(    'srvrhnkti',    tableN, uz );

    // To display
    DOMupdateVisibleHunkOnScreen( 'rmttil' );
}


// Debug master point of control #debugdoer
function debugManager( aCo )
{
    // Various. This may seem involved but this lets any concepts drop
    // in, there is more to debug in fancy programs the one state

    let c = document.getElementById( 'devclicks' );

    let k = '';
    if( aCo =='toff' )  { k = 'none';       dbaboutDb = 'off'; }
    if( aCo == 'ton' )  { k = 'block';      dbaboutDb = 'on'; } 
    if( k != "" ) { c.style.display = k; return; }
        
    // Toggle it
    if( aCo == 'togi')  
    {   
        if( dbaboutDb == 'off' ) 
        { dbaboutDb = 'on';         c.style.display = 'block'; return; }    // Shows

        if( dbaboutDb == 'on' )
    {   dbaboutDb ='off';           c.style.display = 'none'; }             // Hidden
    }
}


// Position anything in percent
function SetPositionPercent( domP, lorList, t, w, h )
{
        // List or 4 nums

    // What to resize could be DOM pointer or string name of it
        let oObj = domP;
        if( typeof domP === 'string' ) oObj = document.getElementById( domP );

    // Argument could be numbers in a list or loose numbers
        let p = "%"; let l;
        l = lorList;                                            // Left sometimes
        if( h == undefined )
        {
            l = lorList[ 0 ];
            t = lorList[ 1 ]; 
            w = lorList[ 2 ];
            h = lorList[ 3 ];
        }

        oObj.style.left = l + p;        oObj.style.top = t + p;
        oObj.style.width = w + p;   oObj.style.height= h + p;
}


// Fun drop down maker 01jun20
function DropDownMaker() 
{
        // Make a drop down without HTML of it at all 

        var values = ["dog", "cat", "parrot", "rabbit"];
        var select = document.createElement("select");
        select.name = "pets";
        select.id = "pets"

        for (const val of values) {
            var option = document.createElement("option");
            option.value = val;
            option.text = val.charAt(0).toUpperCase() + val.slice(1);
            select.appendChild(option);
        }
        var label = document.createElement("label");
        label.innerHTML = "Choose your pets: "
        label.htmlFor = "pets";
        document.getElementById("testcontainer").appendChild(label).appendChild(select);
}


// Local fixed almost db numbers point to db names 12aug20
let aNinc = 700;
var entryIdDbLocalAtNum = aNinc++;
var entryIdDbTgTitle = aNinc++;
var entryIdDbTgShow = aNinc++;

// Set aside indexed number for each table to use sort of privately
var manyPerTable = 8;
var entryTablePrivateStart = aNinc;
aNinc = aNinc + ( tableCount * manyPerTable );
aNinc = aNinc + 30; // Safety margin set aides

// Text special
var entryTextEdit = aNinc++;

// Username 3 parts best one likely for use on this computer
var entryId3usual = aNinc++;

// Basic local hunks. Lots of nums in the universe give as a lot 13sep20
let aLoth = 1020;
var entryHunksBasicStart = aNinc; aNinc = aNinc + aLoth;

// String that must be a number
function StrNumStr( aS ) 
{
    // Be sure a number is a number

    let uze = parseInt( aS, 10 );
    let ans = JSON.stringify( uze );
    return ans;
}


// Usual functions - just laying here waiting to get called

// Show line 06jul20
var hint = "na";
function TopLineDirect( lp, mid, rp )
{
    // Show line at top

  // Prep left right mid msg with gaps
  let g = '&nbsp &nbsp';
  let o1 = lp + ":"; let o2 = " " + mid + " "; let o3 = " " + rp + " ";
  o1 = o1.toUpperCase() + g; o2 += g; o3 = "- " + o3;

  // Wipe variable 1 of 3
  $('#tl2good').html('');$('#tl2ok').html( '');$('#tl2bad').html( '');

  // Pick visual cue form hint, destroy next setting
  let kno = false;
    if( hint == 'good') { $('#tl2good').html(o2); kno = true; }
    if( hint == 'ok') { $('#tl2ok').html(o2); kno = true; }
    if( hint == 'bad') { $('#tl2bad').html(o2); kno = true; }
  if( !kno ) { $('#tl2ok').html(o2); kno = true; }
  hint = '';

  // Shows
  $('#tl1').html( o1 );
  $('#tl3').html(  o3  );
}


// Do misc any changes to user ideas 21apr21
function AbsorbUiThing( aKind, aNumh, aCh )
{
    // Sometimes, like now, corruption of a value is so risky a wrapper around to check things is good

    // Make easy to use
    let n = parseInt( aNumh.toString(), 10 );
    if( ( n < 0 ) || ( n > tableCount ) ) { return; }

    // Avoid extra spaces, usually 
    let aChT = ""; if( typeof aCh != "boolean" ) { aChT = aCh.trim(); }

    // Set name for human with usually number showing   formatted
    if( aKind == 'hnasef')      { allHunks[ n ].localhunktitleFormatted = aChT; }   
        
    // Set name for human local hunk no formatting      plain
    if( aKind == 'hnasep')      { allHunks[ n ].localhunktitlePlain = aChT; }   
        
    // Boolean for append for hunks app do
    if( aKind == 'hhappdo' )    { allHunks[ n ].appendstuff = aCh; }

    // Server table piece name
    if( aKind == 'srvrhnkti' )  { allHunks[ n ].serverhunktitle = aCh; }
}


// More button in a hunk 28apr21-B
function DOMMoreMore( pHunk )
{
    // Show what we can do
    REACTtableOptions( { L1: 'Instant settings:', B1: 'Click on things to see', B2: 'DO thing 2',
                                MO: 'Call back to Boston', howclose: 'selfdecide' },                
                                'medium-middle' );
}


// How version looks often
function versionSay()
{
    return "HTML Version: " + vNow;
}


// Get more settings into management from hunk DOM #fillsavegethunks
function DOMhunkClickyFactsGrokker()
{
    // Update some memory facts about tables from windows

    // DO them all, most aren't showing but there set anyway
    for( let hN = 1; hN < ( tableCount + 1 ); hN++ )
    {
        // Some screened facts ( might have been changed by the human )
        let f1 = $( "#fieldwidth" +  hN ).children("option:selected").val();
        let f2 = $( "#savewhere" +   hN ).children("option:selected").val();;
        let f3 = $( "#edithere" +    hN ).children("option:selected").val();;  

        // The rest of the program expect them here, so put them here
        allHunks[ hN ].aboutfields =    f1;
        allHunks[ hN ].aboutstorage =   f2;
        allHunks[ hN ].aboutedits =     f3;
    }

    let d = 0;                                                          // Debug point
}

// Watch for funny chars
function ForgetFunnyChars( inT )
{
    // Lookout for tab and CR LF sometimes, browser compat for instance

    let aL = inT.length;
    if( aL < 1 ) { return ""; }
 
    let ans = "";

    for( let i = 0; i < aL; i++)
    {
        let cA = inT.charCodeAt( i );
        if( ( cA > 31 ) && ( cA< 128 ) ) { ans = ans + String.fromCharCode(cA);}
    }
        
    return ans;
}


// Prepare catch for motion involving tables 29apr21
function DOMsetupTableTouchingEvents( aN )
{
    // Table number to event setup
return;
    console.log('I dont get it');
    console.log( "#table" + aN.toString() + " td" )

    /* $( "#table" + aN.toString() + " td" ).click(function() 
    {
        console.text( 'xxx '+ aN );
        var column_num = parseInt( $( this ).index() ) + 1;
        var row_num = parseInt( $( this ).parent().index() ) + 1;
        console.log( 'ZincHorse: ' + column_num.toString() + " " + row_num.toString() );
    }); */
    
    // Prep handler for click to table data
    let tFuz1 = JQdtExe( aN ) + ':has(td)';
    $( tFuz1 ).click(function() {
        var row_num = $(this).closest("tr").text(); 
        var column_num = parseInt( $( this ).index() ) + 1;
        //var row_num = parseInt( $( this ).parent().index() ) + 1;
        console.log( 'ZincHorse: ' + column_num.toString() + " " + row_num );

        //var clickedCellP = $(e.target).closest( "td" );
        //ErnestBorgnine( aN, clickedCellP, {} );
    });

    // Prep handler for just cruising over a table
    let tFuz2 =  JQdtExe( aN ) + ' th';
    $( tFuz2 ).mouseover(function(e) {
        softTableGoing = aN;                                        // This fact can be used all over
        DOMhoverTableDoer();
    }); 

 
}


// Looking 29apr21
function ErnestBorgnine( aTnum, cellPtr, someMore )
{
    // Show an idea that comes form a cell click

    // To textual content
    let cellInIt = cellPtr.text();
    seeMore = cellPtr;

    console.log( 'ral1ph: ');
    console.log( cellPtr );
    console.log( cellInIt );

    // See what is suggested for a view Idea
    let fEntry = cellInIt;
    let viewNotion = ViewClickLookup( aTnum, fEntry, {} ); 

    // Choices
    if( viewNotion == ')url' )
    {
        let wholeUrl;
        let base1 = 'https://arxiv.org/pdf/';
        wholeUrl = "https://petfoodplatters.com/";
        wholeUrl = "https://petfoodplatters.com/pages/feeding-calculator";
        wholeUrl = "https://arxiv.org/pdf/0902.2695.pdf";
        wholeUrl = base1 + cellInIt;

        wholeUrl = cellInIt;

        window.open( wholeUrl, '_newtab' );
        return;
    }

    // Last choice
    if( viewNotion != ')noidea')      { return; }

    let m = "Table " + aTnum.toString() + ' Further look for: ';
    console.log( m );
} 
var seeMore = "";


// Need to understand this for sure 29apr21
function messyHowTo29()
{
    let dt = $( '#table2' );

    console.log( 'BATCH 1' );
    console.log( dt.text() );
    console.log( dt.html() );
    console.log( dt.find('td') );
    console.log( dt.find('td').text() );
    console.log( dt.find('td').eq(1).text() );
    console.log( dt.find('td').eq(0).text() );
    console.log( dt.find('tr').eq(0).text() );
    console.log( dt.find('tr').eq(1).text() );
    console.log( dt.find('tr').html() );


    console.log( 'BATCH 2' );
    let daCol = 1;
    $('#table2 tr').each(function() {
        var someItem = $(this).find("td").eq( daCol ).text();    
        console.log( '-- ' + someItem );
    });

}


// Decide what is a better view notion 29apr21
function ViewClickLookup( numTable, aThing, considerMore )
{
    // Various things to consider

    ans = ')noidea';

    // See if edits are allowed
    let edState = allHunks[ numTable ].edithow;
    if( edState == "none" )                         ans = ')url';

    return ans;
}

// Preconfigure reality for a table tickled by a human 28apr21-B
function DOMhoverTableDoer()
{
    // Pre configure one table at a time ideas even before much happens

    let aH = softTableGoing;                    // Hovers mousemoves etc set this

    let edtSetting = allHunks[ aH ].edithow;
    if( edtSetting == 'all' )  editCheats = 'getkeyb';      // Take edits
    if( edtSetting == 'none' ) editCheats = 'noedit';       // Ignore editty humans
}



// Show it all 23apr21 #hunkstosee
function DOMupdateVisibleHunkOnScreen( aCf ) 
{
    // All things to screen for this with   a come from   for troubleshooting

    // Write into visibles
    for( let i = 1; i < ( tableCount + 1 ) ; i++ ) 
    {
        // Facts to update hunks sitting in memory applied to human readables

        let toThis = allHunks[ i ].localhunktitleFormatted;
        if( toThis != "" ) {
            
            // DOM of title to be changed
            let liDom = document.getElementById( 'hunktit' + i ).innerHTML;

            let newLi = htmlCarefulChanger( ')usual', toThis, liDom );
            document.getElementById( 'hunktit' + i ).innerHTML = newLi; }
    }
}


// A changer for hunk H lines with buttons, specialized 19aug20
function htmlCarefulChanger(lookFor, toThis, inHere) 
{
    // Sub text and we cross browser aware, careful with tabs etc

    // Look in this, without fear of funny chars
    let lit1 = ForgetFunnyChars( inHere );
 
    // We kow this is end of HR start of a embedded tag
    let aP = lit1.search( "<" );
    let repPar1 = lit1.substring( 0, aP );
 
    // Spaces never hurt HR html
    let t = " " + toThis.trim() + " ";
    let lit2 = lit1.replace( repPar1, t );

    return lit2;
}


// Say a int VFfy
function sayInteger( aI )
{
    // Ok say it real voic cat vf usually mp3

    let pF = "";
    if( aI == 1 ) { pF = "one"; }
    if( aI == 2 ) { pF = "two"; }
    if( aI == 3 ) { pF = "three"; }
    if( aI == 4 ) { pF = "four"; }
    if( aI == 5 ) { pF = "five"; }
    if( aI == 6 ) { pF = "six"; }
    if( aI == 7 ) { pF = "seven"; }
    if( aI == 8 ) { pF = "eight"; }
    if( aI == 9 ) { pF = "nine"; }

  // Say and how Important
    let sPri = 7;
    if( pF != "" )  { ttsSpeech( pF, sPri ); }
}


// Make globals of how modals using React should look 17apr21
function ReactInitLooks()
{
   // Top line controls   more   close   buttons or clickable like buttons mostly
    m.styleMoreBtn = { width: '89px', fontSize: '89%', backgroundColor: 'white', fontWeight: '500' };
    m.styleXclose = { color: 'rgba( 170, 170, 170 )', float: 'right' };

    // First line of text importanter
    m.styleTline =  { marginTop: '15px', color: 'orange', fontSize: '160%', 
                      textAlign: 'center', width: '100%', letterSpacing: '3px' };

    // Select control look
    m.biggerSelect = { fontSize: '125%', width: '75%' };

    // Headers
    m.h1Ordinary = { fontSize: '135%', color: 'white' };
    m.h2Ordinary = { fontSize: '130%', color: 'white' };
    m.h3Ordinary = { fontSize: '125%', color: 'blueViolet' };
    m.h4Ordinary = { fontSize: '120%', color: 'CornflowerBlue' };

    // Buttons
    m.busyButton = { width: '29%', fontSize: '120%', color: 'blue', margin: '5px' };

    // Green like the famous frog
    m.prettyGreen = { color: 'rgba( 1, 254, 1, 0.99 )' };

    // Position has flavors   static   relative   fixed   absolute   sticky
    m.placeHow1 = { position: 'fixed' };

    // Built entire modal look piece by piece
    m.niceBorder = { border: '4px solid blue', color: 'white' };
    m.pickBorder = { border: '4px solid green', color: 'white' };
    m.boreBorder = { border: '4px solid black', color: 'white' };

    m.placeIt1 = { top: '4%', left: '7%' };
    m.placeIt3 = { top: '6%', left: '25%' };
    m.placeIt4 = { top: '6%', left: '25%' };
    m.placeIt5 = { top: '2%', left: '2%' };
    m.placeIt6 = { top: '2%', left: '2%' };
    m.sizeIt1 = { width: '430px', height: '175px' };
    m.sizeIt3 = { width: '650px', height: '300px' };
    m.sizeIt4 = { width: '500px', height: '150px' };
    m.sizeIt5 = { width: '800px', height: '350px' };
    m.sizeIt6 = { width: '620px', height: '320px' };
 
    m.bgColorF1 = { backgroundColor: 'rgba( 75, 76, 75, 0.77 )' };
    m.bgColorF2 = { backgroundColor: 'rgba( 175, 36, 35, 0.77 )' };

    m.paddingWhole = { padding: '11px' };

// Timing and look of stuff thats shows and setf goes
    m.timeInterval = 60;            // In Milliseconds
    m.holdOff = 45;                 // Lag to change in counts
    m.OpacityStart = 0.875; m.OpacityStop  = 0.2; m.OpacityIncr = -1 * ( 0.03 );
}
const m = {};


// Set our table to be ready 2 use for indicated one by Drag and drop
function SetTableFromDandD() 
{
    // Set table to be used for whatever is next from known pick

    let numTbl = 0;

    numTbl = localWork.tableByNumber;
    numTbl = parseInt( numTbl, 10 );
    if( numTbl < 1 ) {
        return 'bad';
    }

    selectTable( numTbl.toString() );
    return 'ok';
}


// Show what is what for this hunk modal 23aug20
function DOMfillHUNKmodalNowFacts()
{
    // Update what is showing

    // Append   check box 
    let chkd = allHunks[ hunkNumberNow ].appendstuff;
    document.getElementById( 'chkhunkappendin3' ).checked = chkd;

    // Clear   check box   always cleared of course !
    document.getElementById( 'chkhunkclearin3' ).checked = false;

  // Gettable set name
    let sNa = allHunks[ hunkNumberNow ].serverhunktitle;
    $('#modservername3').val( sNa );

  // Hunk title
    let sTi = allHunks[ hunkNumberNow ].localhunktitleFormatted;
    let sTiSho = fixupTextFunnies( sTi, 'r[]' );
  $('#modlocalname3').val( sTiSho );
}


// Put facts into table macros 24aug20
function doBl2()
{
    // Change table meta facts

  let m = "Table access is ready. All the GET names are poked in for you";
    DOMmodalFactFlasher( m, 'medium-middle', localId3rebuild );

  let uZ, sTi, hTi;

    let lp = "PULLED as "; let rp = " from SERVER";

  for( let hNum = 2; hNum < 6; hNum++ )
    {
        // Append 
        allHunks[ hNum ].appendstuff = false;

        // Clear   check box   always cleared of course !
        //document.getElementById( 'chkhunkclearin3' ).checked = false;

        if( hNum == 2 ) uZ = 'atoz_24a';
        if( hNum == 3 ) uZ = 'biologics_24a';
        if( hNum == 4 ) uZ = 'drugs_24a';
        if( hNum == 5 ) uZ = 'interventions_24a';
        if( hNum == 6 ) uZ = 'list_24a';
        if( hNum == 7 ) uZ = 'who_24a';

        sTi = uZ; hTi = uZ;

    // Gettable hunk name shared with server
        allHunks[ hNum ].serverhunktitle = sTi;

    // Hunk title
        seeIt = lp + hTi + rp;
        allHunks[ hNum ].localhunktitleFormatted  = bracketHunkTitleMaker( hNum, seeIt );

    //let sTiSho = fixupTextFunnies( sTi, 'r[]' );
    //$('#modlocalname3').val( sTiSho );
    }

  // Showable 
    DOMupdateVisibleHunkOnScreen( 'mcrsu' );
}


// Text carefully remove [ stuff ]
function fixupTextFunnies( inT, toDo )
{
        // Remove funny chars and bracketed content

    // Brack L and R
    let aL = inT.length;
        let pLb = inT.indexOf( '[' ); let pRb = inT.indexOf( ']' );
    let ans = inT.trim();

    // Remove [anything]
    if( toDo == 'r[]' )
        {
            if( pRb > pLb )
      { let u = inT + '  ';
        ans = u.substring( pRb + 1 );
                ans = ans.trim();
      }
        }

    return ans;
    }   


// Collect a possible changed hunk modal 28apr21-A
function ModalPickerUpperHunks()
{
        // Remember things about human choices regarding hunks via its modal(s)

        var appYup = false;
        if( document.getElementById('chkhunkappendin3').checked ) { appYup = true; }
        AbsorbUiThing( 'hhappdo', hunkNumberNow, appYup );
}


// Make table insert thing for the Drag and Drop we gotted 18juL20
function PlopWellFormattedDropIntoTable( aKind ) 
{
        // Copy drag and drop to table indicated for humans to see

        // Well we are into real facts so
        const weenySize = 11; // Smaller then this is crazy

        // D and D globals know which one hook it up for next filling to
        let itSaid = SetTableFromDandD();
        if (itSaid != 'ok') {
            return;
        }

        // This is Drag and drop text left for us to stuff into table
        let someStuffIn = localWork.textItself;
        let aLen1 = someStuffIn.length;
        if (aLen1 < weenySize) {
            return;
        }

        // This is a magic word kind global, an array of arrays like a table
        tableStuff = [];

        // All the incoming are chopped up to lines with this I hope
        let daLines = someStuffIn.split( "\n" );
        let lenLines = daLines.length;
        let innerL;
        let uChar = ","; // CSV or TSV you know

        // Get each line its a element in the array
        for( let kk = 0; kk < lenLines; kk++ ) 
        {
            // Consider first line special for many reasons
            if (kk == 0) {
                // Commas or tabs decided on first line
                let fC = daLines[ 0 ].split( "," );
                let fcCnt = fC.length;
                let fT = daLines[ 0 ].split( "\t" );
                let ftCnt = fT.length;
                if( ftCnt > fcCnt )
                {
                    uChar = "\t";
                }
            }

            // Each line is then cut up at the selected delimiter
            innerL = [];
            let aL = daLines[kk].trim();
            let aTl = aL.split( uChar );
            let aLen3 = aTl.length;
            for (let ll = 0; ll < aLen3; ll++) 
            {
                let aTok = aTl[ll];
                aTok = aTok.toString();
                aTok = aTok.trim();

                // Sometimes we might want to do something
                let putIn = TransformSome( ll + 1, aTok, 'hardupandshort' );
                innerL.push( putIn );
            }

            // An Array of arrays but human touch ups leave empty lines so ignore those
            if (aL != "") {
                tableStuff.push( innerL );
            }
        }

        // This method calls itself so other things can use the DOM like show things
        // it knows how to do a lot, the variable counter is useful start at zero
        jj = 0;
        DoIncrementally()

        // Debug hook and done      
        let dbh = 0;
        return innerL;
}


// Example(s) as globals
function globalExamples()
{
        // For fun

        tableExample1 = "<table   class=proteinfacttable fullwidth\
        <tr> <th>Entry 1</th><th>Description</th><th>Media notes</th>\
            <th>Show me</th>\
            </tr>\
        <tr>\
        <td>1Welcome!</td>\
        <td>How to use this program. A 5 minute video, needs your sound working</td>\
        <td>WWW video</td>\
            <td><button id=starter01 onclick=RUNstarter01()>Watch me</b></td>\
            </tr>\
        <tr>\
        <td>2W.H.O. Database<br>Covid-19</td>\
        <td>5000 Interventions - 11 hours current</td>\
        <td>Its big takes 2 minutes once to load><br>/td>\
            <td><button id=starter02>Watch me</b></td>\
        </tr>\
        <tr>\
        <td>3Ernst Handel</td>\
        <td>Three three</td>\
        <td>Mexico</td>\
        <td>Austria</td>\
        </tr>\
        <tr>\
        </table>";

        tableExample9 = "<table   class=proteinfacttable fullwidth\
        <tr> <th>Entry 9</th><th>Description</th><th>Media notes</th>\
            <th>Show me</th>\
            </tr>\
        <tr>\
        <td>Welcome!</td>\
        <td></td>\
        <td>WWW video</td>\
            <td><button id=starter01 onclick=RUNstarter01()>Watch me</b></td>\
            </tr>\
        <tr>\
        <td>NO server <b>Sorry</b></td>\
        <td></td>\
        </tr>\
            </table>";
}


// Language localization 23apr21
function BuildLanguageLocalization()
{
    ll.hithere =    "Hello - Running";

    ll.tablepop =   "Your table is being populated";
    ll.jna =        "NA";

    ll.readytouse = "Ready to use";
    ll.tablesaved = "Table is saved";
    ll.proceeding = "Proceeding";

    ll.portugal   = "Portugal ";

    ll.fillingtbl = "Filling table ";

    ll.nowriteitempty = "Source table is empty, SAVE is ignored";
}

// Transforms for table insertions are possible 30jun20
function TransformSome( cntr, daTok, aKind ) 
{
        // Possible shuffles

        // Rough line width cuts
        let sS1 = 13;
        let sS2 = sS1 * 2;
        let sS3 = sS1 * 3;
        let sS9 = 999;
        let ans = daTok.substring(0, sS9);

        // More polite resizing
        let moPo1 = 35,
            hardCut1 = 27;

        // Need to narrow somehow or it blows look of a table usually
        if (aKind == 'hardupandshort') {
            const jspa = ' ';
            let lNow = daTok.trim();
            let aLen = lNow.length;
            if (aLen > moPo1) {
                // Do visually easy to understand space inserting
                let a1 = replaceAllStr('p://', 'p:// ', lNow);
                let a2 = replaceAllStr('ps://', 'ps:// ', a1);
                ans = a2;

                // See if that fixed it, if so we are done
                let lookslike = LookAtChunkOfText(ans);
                if (lookslike.maxWidth < moPo1) {
                    return ans;
                }

                // Another incremental try
                ans = replaceAllStr('-', '- ', ans);
                lookslike = LookAtChunkOfText(ans);
                if (lookslike.maxWidth < moPo1) {
                    return ans;
                }

                // Another incremental try
                ans = replaceAllStr('_', '_ ', ans);
                lookslike = LookAtChunkOfText(ans);
                if (lookslike.maxWidth < moPo1) {
                    return ans;
                }

                ans = ans + "                           ";
                let p1 = ans.substring(0, hardCut1);
                let p2 = ans.substring(hardCut1);
                let cP = p1 + " " + p2;
                ans = cP;
                if (ans.length > moPo1) {
                    ans = ans.substring(0, moPo1);
                }

                let xxx = 0;
            }
        }

        return ans.trim();
}


// Count how line will be displayed so it can be modified for a visual purpose
// and it be
function LookAtChunkOfText(txtYaI) 
{
        // Eval something
        // WARNING ! These are estimates do ot use for hashes or crypto, etc
        // thse are for looking at by humans

        let ans = {},
            dS = " ",
            lCount = 0;
        let txtYa = txtYaI + dS;

        ans.maxWidth = 0;
        ans.linesShow = 0;
        ans.totalSized = 0;

        let aLen = txtYa.length;
        for (let jj = 0; jj < aLen; jj++) {
            // State machine
            let aC = txtYa.charAt(jj);

            // Is it a regular char or a space
            if (aC != dS) {
                lCount++;
            } else {
                if (lCount > ans.maxWidth) {
                    ans.maxWidth = lCount;
                    lCount = 0;
                    ans.linesShow++;
                }
            }
        }

        ans.totalSized = jj;
        return ans;
}


// Make visible pointer looked at match record number 03aug20
function DOMslider9Pos( aRecN )
{
    // Position it

    if( theRecords == undefined )   return;

    // Basic numbers are
    let fullRecKnt = theRecords.length;
    let widSli = F_elmA9slider.getBoundingClientRect().width;

    // Peremxts along
    let perOfIt = aRecN / fullRecKnt; perOfIt = perOfIt * 1000000;
    
    // Its 200 long so
    F_elmA9slider.value = perOfIt;
}


// String number as real number
function NumStr( aS ) 
{
    // Be sure sometimes numbers are numbers for sure

    let ans = parseInt( aS, 10 );
    return ans;
}

// Visible and Urls to use for modals
function SetModalDisplayable( t1, t2 ) 
{
        modalIdeas.topLineSays = t1;
        modalIdeas.secondLineSays = t2;
}


// Working lead out modal 05aug21
function popUpHeadsUpTo()
{
    // For table options nominally

    let aNameAction = "popup", aHin = '';
    aNameAction = REACT_IO.tableoptions.forHumans;
    aHin =        REACT_IO.tableoptions.lineHint;
    REACTheadsUp( { L1: aNameAction, L2: aHin, L3: 'not used zjgasjgdj',
                    MO: 'Call back to home base', howclose: 'waitforclick' },              
                    'top-middle' );
}


// Working lead out modal 05aug21
function popUpHeadsUpA9()
{
    // For table options nominally

    let aNameAction = "popup", aHin = '';
    aNameAction = REACT_IO.area9more.forHumans;
    aHin =        REACT_IO.area9more.lineHint;
    REACTheadsUp( { L1: aNameAction, L2: aHin, L3: 'not used zjgasjgdj',
                    MO: 'Call back to home base', howclose: 'waitforclick' },              
                    'top-middle' );
}


// Working modal thinking 27apr21 zotzot
function popUpProgressShow()
{
    let aNameAction = "popup", aHin = ll.fillingtbl + hunkNumberNow.toString();
    REACTprogressShow( { L1: aNameAction, L2: aHin, L3: 'fhf6ghoi',
                                MO: 'Call back to home base', howclose: 'waitforclick' },              
                               'top-right' );
}



// Test 12aug20
function TestAlpha( a1, a2, a3 ) 
{
    let mN = "Brass monkey";
    alert("Message to db: " + mN);
    localDbAddNumberedTableFact( entryIdDbLocalAtNum, mN );
}


// Pull id3 27mar21
function localId3rebuild( jFrom ) 
{
    // Get value may take a while its ok if it takes a second

    // localDbReadNumberedFact( entryId3usual );
    // setTimeout( OpenPart3, 1200 );
}


// Pull local hunk table 27mar21
function localHunkTableGot()
{
    // Fired for local DB get for hunk table filling

    justLocalDbGetPurposed( ')localhunkwow' );
}


// Real time   RT   clicker going
function DoDisplayFacts1() 
{
    // Generally show in a modal

    counter--;
    counter++;

    // Debug
    let d = counter;

    return;

    let aWin = "#" + "mwm_flash";
    let itShow = false;
    if ($(aWin).css('display').toString() == 'block') {
        itShow = true;
    }

    // Only look at db if window is open
    if (itShow) {
        // let tL = "Incoming facts from server:";
        // SayMoLines( tL );

        localDbReadNumberedFact(entryIdDbTgShow);
        let sNow = ansSimpleLocalDbLookedup;
        if (sNow != "") {
            SayMoLines("", sNow);
        }
    }
}
var counter = 11;


// Open and show text modal 23aug20
function OpenHelperModalShowThis( txl1, txl2, funnySize ) 
{
    // Tells humans in a modal window

    // Gets pulled over and over no big deal
    // localDbAddNumberedTableFact( entryIdDbTgShow, l2 );

    // And immediate too
    SayMoLines( txl1, txl2 );

    DOMopenModal( 'mwm_flash', funnySize );
}


// Shows info on a fixed purpose modal inset window
function SayMoLines( t1, t2 ) 
{
        // Make variable arg uses easy

        // Mine
        let m1 = t1, m2 = t2;
        let aC = arguments.length;

        if( aC == 0 ) {                                                                                         // Clear
            $('#moetwosee1').text(''); $('#moetwosee2').text('');
        }

        if( aC == 1 ) {                                                                                         // One
            $('#moetwosee1').text( m1 ); $('#moetwosee2').text('');
        }

        if( aC > 1 ) {                                                                                          // All
            $('#moetwosee1').text( m1 ); $('#moetwosee2').text( m2 );
        }
}


// Epoch time and date decoder 07apr21
function EpochTimeRemapper( inTs, aKind )
{
    // Just add in a clause for what shows best num is mSec since 1970

    let ans = "";

    let aTs = new Date( inTs );

    let yyyy = aTs.getFullYear().toString();
    let mm = padXX( aTs.getMonth() + 1 );
    let dd = padXX( aTs.getDate() );

    let hh = padXX( aTs.getHours() );
    let mi = padXX( aTs.getMinutes() );
    let ss = padXX( aTs.getSeconds() );

    let date1 = dd + "/" + mm + "/" + yyyy;
    let date2 = dd + "-" + mm + "-" + yyyy;
    let time1 = hh + ":" + mi + ":" + ss;

    if( aKind == 1 ) ans = date1;
    if( aKind == 2 ) ans = date2;
    if( aKind == 3 ) ans = time1;
    if( aKind == 4 ) ans = date2 + " " + time1;

    return ans;
}


// String to XX padd leading zero
function padXX( inNum )
{
    // Return string two chars from a number

    let inS = inNum.toString();
    return ( '0' + inS ).slice( -2 );
}


// Use the paths left in the DOM to find where any event occured via hunk number
function PathDOMfigurer( e ) 
{
    // Figure out which hunk a click is from

    // Prevent file from being opened
    e.preventDefault();

    // Look thru path of how DOM is shaped to decide what 'hunk'
    let repPaDep = e.composedPath().length;

    let taHunkNum = 0;
    try {
        for (var kk = 0; kk < repPaDep; kk++)  // >
        {                                                               
            // Carefully look at each nested DOM piece
            let thingInPa = e.composedPath()[ kk ];
            let idName = "";
            if( thingInPa != undefined ) {
                idName = thingInPa.id;
            }
            let iMab = isThisInThere( 'configoval', idName );
            if( iMab ) 
            {   taHunkNum = GetEndNum( idName );
            } 
        }
    } catch ( err ) 
    {   let z = 0; }

    return taHunkNum;
}   









// Catch file Drag and Drop s
function DeeDeeDrop( e ) 
{
        // Here is it could be many

        // Prevent file from being opened
        e.preventDefault();

        // Look thru path of how DOM is shaped to decide what 'hunk'
        // almost same as table number, is human intended
        let repPaDep = e.composedPath().length;
        //console.log('Its reported Path Depth: ' + repPaDep );

        let taHunkNum = 0; // We want to figure this
        try {
            for (var kk = 0; kk < repPaDep; kk++) {                                                             // >
                // Carefully look at each nested DOM piece, hoping to find a term
                let thingInPa = e.composedPath()[kk];
                let idName = "";
                if (thingInPa != undefined) {
                    idName = thingInPa.id;
                }
                let iMab = isThisInThere('configoval', idName);
                if (iMab) {
                    taHunkNum = GetEndNum(idName);
                } // Its the hunk number
                // console.log( "FIGURED_OUT ", taHunkNum );
            }
        } catch (err) {
            let z = 0;
        }

        // Use idea if it was figured out, this sets an important global
        if (taHunkNum > 0) {
            localWork.tableByNumber = taHunkNum;
        }

        // If / when xferred incoming shows, this goes to work
        if (e.dataTransfer.items) {
            // Use DataTransfer Item List interface to access the file(s)
            for (var i = 0; i < e.dataTransfer.items.length; i++) {                     // >
                // If dropped items aren't files, reject them
                if (e.dataTransfer.items[i].kind === 'file') {
                    var file = e.dataTransfer.items[i].getAsFile();
                    //console.log( 'A File[' + i + '].name = ' + file.name ); 

                    // This     filereader   class gobbles given txt stream to me
                    var reader = new FileReader();
                    reader.onload = function(e) {
                        // We expect asynch a little maybe, text shows up here
                        // so rmember it in 'good place', etc
                        localWork.textItself = e.target.result; // Important global
                        PlopWellFormattedDropIntoTable('fromdandd');

                        // Showable too
                        var sTextArea = document.getElementById("edithere9");
                        sTextArea.value = e.target.result;
                    };
                    reader.readAsText(file);
                }
            }
        }
}


// Multiple files in
function HandleFiles(files) 
{
        ([...files]).forEach(UploadOneFile)
}


// File in
function UploadOneFile( aFi ) 
{
    // Use file send whatever

    let seeS = aFi
    alert( seeS );
}


// Edits happening this is called AFTER a successful table edit 21apr21
function humanEditTableCellTry( updatedCell, updatedRow, oldValue ) 
{
    // Human pecking to the table cells

    let uc = updatedCell[ 0 ];
    let al = uc[ 0 ]
    let aRow = al.row, aCol = al.column;

    console.log( "Cell row and column touched : " + aRow + ' ' + aCol );
    console.log( "Entire updated row:" );
  
    let aChangedRow = updatedRow.data();
    console.log( aChangedRow );

    // Proceed
    let sendable = false;
    {
        sendToServerPostPkg( 'sixinline20j', aChangedRow );
     }
}


// Drag and drop drop incoming do nothing
function DeeDeeDoNothing(e) 
{
        // This one

        e.preventDefault();
}


// Manage real time timerish things
var stopValueT1 = 0;


// Line in hunks to help search #linehunkssome #fillsavegethunks
function LocalRealTimeStuff( doThis ) 
{
    // Whatever needs doing with time intervals IN THE PROGRAM NOT IN THE WORLD

    // Intervals mSec
    let tToT1 = 900,
        tToT2 = 1750;
    let tNow1 = tToT1;

    // A timer runs to make modal(s) show things in real time
    if (doThis == 'go1') {
        stopValueT1 = setInterval( DoDisplayFacts1, tNow1 );
    }

    // Set Drag and drop for all routine table entries
    let dropArea;
    let lc = tableCount;
    for ( let nn = 1; nn <= lc; nn++ ) {                                                                        // >

        dropArea = document.getElementById( 'configoval' + nn );

        // More general
        // dropArea = document.getElementById( 'table' + nn );

        dropArea.addEventListener('dragenter', DeeDeeDoNothing, false);
        dropArea.addEventListener('dragleave', DeeDeeDoNothing, false);
        dropArea.addEventListener('dragover', DeeDeeDoNothing, false);
        dropArea.addEventListener('drop', DeeDeeDrop, false);
    }
}


// Change to edit 21apr21
function cngEditSetting( aN )
{
    let va = getValHunkControl( aN, 'edithere' );
    allHunks[ aN ].edithow = va;                        // Set to   all   or   none   by human

    DOMhoverTableDoer();                                // Edit permissions are fussy need to be ahead in time
}


// Get values of hunk numbered controls
function getValHunkControl( aN, cName )
{
    // Return value

    return $( '#' + cName + aN.toString() ).val();
}


// Db input local DB
function addStickyNote( db, message ) 
{
    // Start a database transaction and get the notes object store
    let tx = db.transaction(['notes'], 'readwrite');
    let store = tx.objectStore('notes');

    // Put the sticky note into the object store
    let note = {
        text: message,
        timestamp: Date.now()
    };
    store.add(note);

    // Wait for the database transaction to complete
    tx.oncomplete = function() {
        console.log('stored note!')
    }
    tx.onerror = function(event) {
        alert('error storing note ' + event.target.errorCode);
    }
}


// reserved
function OpenPart1()
{}


// Show a text thing
function OpenPart2() 
{ $("#divtextarea9").text( ansSimpleLocalDbLookedup ); }


// Show id from db 08oct20
function OpenPart3() 
{
  // Decode some id3 idea

    // Debug
    let atpTty = false;

  if( atpTty )  console.log( 'OpenPart3 first line' );

    // Do nothing if it was not found
    if( didLocalDbGetStuff() )  {   return; }

    // Hope its good JSON
    let jId3pulled = ansSimpleLocalDbLookedup;

  // Should be 1.2.3 ish   human readable
    id3 = JSON.parse( jId3pulled );  
  let asTxt = id3.fulltoken;
    $("#ippd3d").val( asTxt ); 
}

// Last bit of a local get from built in db 08oct20
function justLocalDbGetPurposed( toDo )
{
    // Do a thing when a db local hunk get worked

    // Do nothing if not found
    if( didLocalDbGetStuff() )  {   return; }

    // Should be ready so
    let gotIt = ansSimpleLocalDbLookedup;

    // Do thing we should do
    if( toDo == ')localhunkwow' )
    {
        // Someplace its supposed to go
     serverGaveThisTableContent( JSON.parse( gotIt ) );
    }
}


// Is local DB connecting 08oct20
function didLocalDbGetStuff()
{
    // Check missing-ness

    // Intentionally backward true is bad

    // These are all bad things
    if( ansSimpleLocalDbLookedup == undefined )                             return true;    
    if( ansSimpleLocalDbLookedup == "no data record" )              return true;
    if( ansSimpleLocalDbLookedup == "" )                                            return true;

    return false;
}


// Checker for if a value is really a number
function isNumber( nvalue )
{
  return typeof nvalue === 'number' && isFinite( nvalue );
}


// Test Beta #testingbutton2
function TestBeta(a1, a2, a3) 
{
   
}

// Testing #testingbutton1
function TestCharlie() 
{
        alert('deleted hdcjkdhkjdxhk');
}


 // Remove SOMEDAY written Q23 20_20
function flkvdlkTest() 
{
    setInterval(showOnTtyPlease, 200);
    DOMopenModal('mwm_flash');
}


// Testing #testingbutton3
function TestEcho() 
{
    DOMcloseModal('mwm_flash');
}


// Preview for Area 9 from known record number 27jul20
function Area9seeRecordByNumber( aRec ) 
{
        // See a record a casual preview in area 9

        // Advisory ideas
        let eM = "";

        // Cue
        // cannedAudioOut( 'miniclick' );

        // Nothing to see
        if( theRecords == undefined ) return; 

        let aL = theRecords.length;                                                 // Edges of records to see
    let uzeR = aRec;
        if( aRec < 1 )      uzeR = 1;
        if( aRec > aL )     uzeR = aL;
        recordLovedNow = aRec;
        
        // To show it usual case
        let howItsGonnaLook = ")blandone";
        DOMrecordShow( recordLovedNow, howItsGonnaLook ); fieldNumWeLikeNow = 0;
    
        // Facts to be
        factLover( 'slider' );
}


// Interpret modal get hunk change directive 28apr21-A
function reactModalsaysGetThisHunk( daKind, anIndex, daText )
{
    // I'm told what to do from a modals buttons, usually

    let daTitle = ')default';
    let numTable = hunkNumberNow;                       // Good choice, was named in top level button call

    // Maybe not the generic one instead its named, so
    if( daKind == ')getselected' )  { daTitle = parseKey( daText, 'rightpiece' ); }

    // For easy troubleshooting this little piece is kind of uniformly built
    let fromSpec = {}, toSpec = {}; howSpec = {};
        fromSpec.source = 'local'; 
        fromSpec.spot = numTable;
        fromSpec.title = daTitle;
        toSpec.tableNum = numTable; 
        howSpec.placement = "replace";        

        RestoreHunkFromLocalIdb( fromSpec, toSpec, howSpec );
}


 // Audio for area9 uniform cues 03aug20
function area9AudioCues( doThis )
{
    // cues

    if( doThis == 'rec9motion' )                    cannedAudioOut( 'miniclick' );
}


// More in area 9 06aug21
function offerMoreA9()
{
    let m = "MORE";
    // REACToneLiner( {    L1: m, L2: 'Line 2', L3: 'Line 3',
    //                    MO: 'Call back to home base', displayLength: 'golong' },                
    //                    'medium-middle', cbTest );

    REACTArea9More( { L1: 'Idea Workspace Options', B1: 'floor', B2: 'now please',
                         MO: 'Call back to Boston', howclose: 'selfdecide' },                
                         'medium-middle' );
}


// Settable facts from REACT modals 06aug21
function rememberREACTsetting( aKind, aFact )
{
    // These are about things in general not just innards of modals
    // Are sorted in parellel by length, pick the mnu carefully

    if( aKind == 'a9text' )
    {   if( aFact.length == 3 )     { area9how.textsize = aFact;  }
        if( aFact.length == 5 )     { area9how.renderhow = aFact; }
        if( aFact == ")bigreset" )  { area9how.textsize = undefined; area9how.renderhow = undefined; }
    }
}


// Preview in area 9 02sep20 05aug21
function rawFactRecMotion( aM ) 
{
    // More through records, casual previews

    // Advisory ideas
    let eM = "";

    // Cue
    area9AudioCues( 'rec9motion' );

    // Careful
    if( theRecords == undefined ) 
    { DOMshowArea9HumanSituation( eBa1,')clr9a'); return; }

    let aL = theRecords.length;
    let see = "";

  // Real move probably   first   last   previous   next
    if( aM == 'fr' ) { recordLovedNow = 0; }
    if( aM == 'lr' ) { recordLovedNow = aL - 1; }
    if( aM == 'pr' ) { recordLovedNow = recordLovedNow + ( -1 ); }
    if( aM == 'nr' ) { recordLovedNow = recordLovedNow + 1; }
        
    // Is it a first or last record ( including moving to it one by one )
  let atEdge = false;
    if( recordLovedNow < 2 )                            atEdge = true;
    if( recordLovedNow > ( aL - 1 ) )           atEdge = true;

    // Off edge of records in mem that 'we love' now
    if( recordLovedNow < 1)         { eM = "looped low"; recordLovedNow = 1;}
    if( recordLovedNow > ( aL - 1 ) )
    { eM = "looped high"; recordLovedNow  = aL - 1;}

    // Debug
    if( aM == 'rr' ) { showRawerRecord(); fieldNumWeLikeNow = 0; return; }
    if( aM == 'cf' ) { showRawerField(); return; }

    // Show test of record 03aug20
    let howItsGonnaLook = ")blandone";
    DOMrecordShow( recordLovedNow, howItsGonnaLook ); fieldNumWeLikeNow = 0;
    DOMslider9Pos( recordLovedNow );

    // Facts
    factLover( eM );

    // If there is a modal worthy thing to display show it, pick best spot
  let showStyle = "fast-corner"; if( atEdge ) showStyle = 'medium-middle';
    if( modalRecNav1 != "" )    
    {   DOMmodalFactFlasher( modalRecNav1, showStyle ); }
}
var recordLovedNow = 0;                                 // Number to be lookin at
var eBa1 = "Empty object - sorry";          // Just a thing to see
var recordTouchup = "";                                 // General idea of mods to records as moved thru
var fieldNumWeLikeNow = 0;                          // Sometimes we think about fields one by one


// Facts to be conveyed on secondary channnel, or logs 17jul20
function factLover( daM )
{
    // Well will be
}


// Rawer records in CSV like intermediate statuses 04aug20
function showRawerRecord()
{
    // Records and fields figuring out

    let thisOne = theRecords[ recordLovedNow ];
    if( meMe.rawrecsho =='a' ) alert(thisOne);

    // More full edit
    if( meMe.rawrecsho=='mfe') 
    {
        DOMshowLargeImportantEdtContents(thisOne);
    }
}


// Set smaller of two numbers
function returnLesser( n1, n2 )
{
    ans = n1;
    if( n2 < n1 ) return n2;
    return ans;
}


// Show fields and a record 03aug20
function showRawerField()
{
    // Look at fields

  let de = ',';

    let explain = "";

   // Debug
     if(fieldNumWeLikeNow < 1 )
     { DOMshowArea9HumanSituation( "START of RECORD",')clr9a' ); }

  // Get record we like right now
    let daRecord = theRecords [ recordLovedNow ];

  // Parse it to values each should ba named field
  let stuffInRec = slicerRecordZeros( de, daRecord ); 
    let factsRealCount = stuffInRec.length;
 
   // Names of fields but position should be still lurking use them
   let fieldsRealCount = fieldProperties_OS.length;

    // Smaller of either is what to use
    let showerCount = returnLesser( factsRealCount,fieldsRealCount );

    // Hook up ideas to make human readable line
    let ob = fieldProperties_OS[ fieldNumWeLikeNow ];
  let imFna = ob[ 'fieldname'];
    let otherFact = ' [ ' + imFna+ ' ] ';;
  let mP = "Field: " + ( fieldNumWeLikeNow + 1 ).toString() + otherFact + CRLF;
  explain += mP;

  // More explaining
  if( stuffInRec!= undefined )
    { let seeFld = stuffInRec[fieldNumWeLikeNow];
        explain += seeFld + CRLF;
        DOMshowArea9HumanSituation( explain ); }

  // Max check
  fieldNumWeLikeNow++;
    if( fieldNumWeLikeNow > ( showerCount - 1 ) ) 
    {
    let mE = "End of fields"; DOMshowArea9HumanSituation( mE );
        fieldNumWeLikeNow = 0; 
    }
}


// Color insert html 10aug20
function H_RED( aT )
 {
    let ans = " <span class=showred> " + aT +"</span> "; 
  return ans;
 }


// Human record number text #recordforpeople
function recordLookWithNum( aNum )
{
    return "Record: " + aNum.toString() + ' ';
}

// Work with one record in considerable detail #recordparsing 05aug21
function RecordLikeProcessing( doLike, daRec, recNum )
{
    // A record, and its index number is required,
    // both 'do something', theres a tricky reason this worth doing

    // Well we can live with it I suppose
  if( recNum == undefined ) recNum = "NA";

  // Answer is always shaped like this but can be anything its for humans
    let ans = { top: "", bot: "" };
    if( doLike == 'naked' ) ans.bot = [];

    // Find what line cutting is suggested
    let mFa = "";
    let suRecDelim =    ProcessRecInUsingDelim( daRec )
    let sizNow =        suRecDelim.thisMany; 
    let recFields =     suRecDelim.fieldsNow;
    let daC =           suRecDelim.usingThis;

    // Figured out delim turns to human readable of it
    if( daC == TA )         { mFa = "Cut at tab"; } 
    if( daC == CO )         { mFa = "Cut at comma"; }
    if( mFa == '' )         { mFa = "Lone lines"; }

	// Hmmm
	mFa = "";

    // Counts of ways to parse document / records
    ans.top = recordLookWithNum( recNum );
    ans.bot = "Constructing custom response per record";

    // Optional ideas ?
    ans.top = ans.top + SP + mFa;

    // Bad but not super serious really
    if( daC == '?' )
    {   ans.bot = "I don't understand this record at all, sorry";
        let ttt = "this record cannot be parsed"; factLover( ttt );
        return ans;
    }

    // Is possible there not ready yet, no big deal
    let oneOrMore = false;
    if( fieldProperties_OS == undefined ) 
    {  createFieldsOnTheFly( daC ); }                               // Make now, will last too

    // Maybe no file or some bad thing like that, so fieldnames we can use
    ans.bot = "Nothing to show";
    if( fieldProperties_OS == undefined ) return ans;
    if( fieldProperties_OS == [] ) return ans;

    // Sizes of field names we got and facts
    let sizFields = fieldProperties_OS.length;

    // Lesser of the two is the one to use, we don't trust anything
  cL =  returnLesser( sizNow, sizFields );

    // We may ( usually ) want a different presentation order then we
    // get by scanning, so make a land area thats pop with space and drop
    // in answers to displace those
    let gappedAns = []; let b = "";
    for( let h = 0; h < cL; h++)
    { gappedAns.push( b ); }

    // Lookup each field, concat to show it if we like it
    let catAns = "", catStack = [];
    for( let i = 0; i < cL; i++ )
    {
        // Look in an object by mnumonic position, this is the fieldnames
        // with usage facts like if there picked, whatever
        let lN = fieldProperties_OS[ i ];

        // Fieldname and fact ready to apply
        let aFieNa = lN[ 'fieldname' ];
        let namedFact = recFields[ i ];
        //if( i == 999 ) namedFact = "b " + recFields[ i ].substring(0,3)
        //if( i == 0 ) namedFact = ​Math.random().toString()

        let showMe;
        if( ( doLike == ')html1' ) || ( doLike == ')html2' ) )
        { showMe = showyFieldCombiner( aFieNa, namedFact, doLike );
            catAns = catAns + showMe; }
        else { catStack.push( namedFact ); showMe = namedFact; }
        
        // Gapped answers by button order clicks, if each one is wantable
        let sNow = lN[ 'status' ]; 
        if( sNow == 'displayin9' )
        {   oneOrMore = true;                                                           // Some are picked anyway
            let bOrd = lN[ 'clickindex' ] - 1; gappedAns[ bOrd ] = showMe;
        }
    }

    // For looking at fancy usually
    if(doLike != 'naked' )
    {
        // Order of fields here is sequential by pull of field name
        ans.bot = H_SPACE + catAns;                         // Ready to look at, an answer

    // IF some where picked, the rearranged order is used instead
        if( oneOrMore )
        {   let difOrd = "";
            for( let m = 0; m < cL; m++ )
            {
                // By button click order, as they have been re-binned
        if( gappedAns[ m ] != "" ) difOrd = difOrd + gappedAns[ m ];
            }
            ans.bot = difOrd;
        }
    }

    // Blander
    if(doLike == 'naked')
    {   
        ans.bot = catStack;

    // IF some where picked, the rearranged order is used instead
        if( oneOrMore )
        {   let ordCng = [];
            for( let m = 0; m < cL; m++ )
            {
                // By button click order, as they have been re-binned
            let th = gappedAns[ m ];
        ordCng.push( th );
            }
            ans.bot = ordCng;
        }
    }
        
    // Header line can be improved, probably
    if( ( !oneOrMore ) && ( recNum == 1 ) )     
            { putFirstRecordToTableHeaderAsHeadings( ')uarea9tota', 6, daC, tableFillExtras ); }
    if( oneOrMore && ( recNum == 1 ) )      
            { putFirstRecordToTableHeaderAsHeadings( ')usefiewp', 6, "", tableFillExtras ); }

    return ans;
}
var improveByLineCodes = "";
var eolRecWork = H_VSPACE_EOL + H_SPACE;


// Show record in local text div area its editable too #recorddomshow
function DOMrecordShow( aRecNum, soHow )
{
    // Show a record different ways
 
  // Well, caller must name a situation or they go nothing
    if( soHow == undefined )    return;

    let seeN = theRecords[ aRecNum ];                           // Lines in and count of them

    // Any art idea and we will do this
    if( soHow != "" )
    {   let eT = recordLookWithNum( recordLovedNow ); 
        DOMshowArea9HumanSituation( eT,')clr9a' ); }

    // Look is bland kinda red 10aug20
    if( soHow == ')blandone' )
    {
        let howTo = ')html2';                                                   // Human format
        let daRec =  theRecords[ aRecNum ];                     // A record

        // This makes human readable lines for a record numbered in the call
        let gotLine = RecordLikeProcessing( howTo, daRec, aRecNum );
        let topPart = gotLine.top;                              // Overview
        let botPart = gotLine.bot;                              // Conent that is fields

        // Work is usually applied to a overview and a detail
        DOMshowArea9HumanSituation( topPart,')clr9a');
        DOMshowLargeImportantEdtContents( botPart );
    }
}
var modalRecNav1 = "", modalRecNav2 = "";

// Make field descriptions but not buttons ( needed for some other reason )
function createFieldsOnTheFly( deli )
{
    // Top line will help us figure them

    // We are redoing it
    fieldProperties_OS = [];
    
    // First 'line' is presumed to have fieldnames
    let topline = theRecords[ 0 ];                                      // Presumed fields

    // Make fields into a list
    let tlFi = slicerRecordZeros( deli, topline );

  // Careful
    if( tlFi.length < 1 ) return;

  // Prepare fieldnames for use
    extractForUsageSomeFieldnames( tlFi );
}


// Easy to use char get for field cutting 11sep20
function gimmeFieldDelim()
{
    // Returns char to use not coded idea

    if( fiProcess == undefined )        return ',';

    let ans = ",";
    let x = fiProcess.delims.tc;
  if( x == 't' )    ans = '\t';
  if( x == 'c' )    ans = ',';

    return ans;
}


// Recommend a delimiter #delimiterfinder
function ProcessRecInUsingDelim( hereLine )
{
    // Consider delim that might be good for this record line

    let ans = {};                                               // To figure

    // Actual cut char
    ans.usingThis = gimmeFieldDelim();
    let figureRecDelim = fiProcess.delims.tc;

    // Use it
    let cut_byD;    
    if( figureRecDelim == 't' )     cut_byD = slicerRecordZeros( TA, hereLine );
    if( figureRecDelim == 'c' )     cut_byD = slicerRecordZeros( CO, hereLine );
  let aSiz = cut_byD.length;

    // Some facts sure
    ans.thisMany = aSiz; ans.fieldsNow = cut_byD;

    return ans;
}


// Combining fields for looking at directly 12aug20 06aug21
function showyFieldCombiner( aKw, fldContent, doThis )
{
    // Make human readable line, note fieldname is a keyword to us
        
    let ans = "";

    // Incomplete last record ?   This at end of record ?
    if( fldContent == undefined )   return ans;

    // Decide if there is 'no content' or has content, count good reasons
    let hasCont = false, reas = 0;
    if( aKw != "" )                                         reas++;
    if( fldContent.trim() != "" )                           reas++;
    if( reas == 2 )                                         hasCont = true;

    // A Way to render it
    if( doThis == ')html1' )
    {
        // We want a hook to change kw ideas depending on circumstance
        let hlpFacts = { dbsource: 'na', whattodo: improveByLineCodes };
        let fixedUpLi = improveHrFieldEntity( aKw, hlpFacts, fldContent );

        // Line which should be a mnumonicy fieldname and the filed fact
        ans = H_RED( aKw ) + H_SPACE + fixedUpLi + eolRecWork;
    }   

    // A different way ...
    if( doThis == ')html2' )
    {
        // Setting turn to sizes
        let aPx = ideaToPx( area9how.textsize ); 
        let biMe = {}; biMe.sizeFont = aPx; let biTi = {}; biTi.sizeFont = aPx + 2;

        // Two ideas a field name and content look a little different
        let insMe = insertableTextLook( biMe );
        let insTi = insertableTextLook( biTi );

        let fancyP = "<p " + insMe + ">";
        let fancyH = "<h2 " + insTi + ">";

        if( hasCont )
        {
            // Help facts, dunno
            let hlpFacts = { dbsource: 'na', whattodo: improveByLineCodes };
            let fixedUpLi = improveHrFieldEntity( aKw, hlpFacts, fldContent );

            // Line which should be a mnumonicy fieldname and the filed fact
            ans = fancyH + aKw + ":" + "</h2>" + fancyP + fixedUpLi + "</p>" + " ";

            // Could differ, less shows
            if( area9how.renderhow == 'hidef' )
            { ans = fancyP + fixedUpLi + "</p>" + " "; }
        }
    }   

    return ans;
}


// Idea for text size to font size in px 06aug21
function ideaToPx( aCode )
{
    let aPx = 16;

    if( aCode == 'tst' )    aPx = 10;
    if( aCode == 'tss' )    aPx = 14;
    if( aCode == 'tsn' )    aPx = aPx;          // Normal
    if( aCode == 'tsl' )    aPx = 20;
    if( aCode == 'tsh' )    aPx = 28;

    // Reserved
    if( aCode == 'stf' )    { let dmy = 0; }

    return aPx;
}




// Insertable text html changer 06aug21
function insertableTextLook( daKind )
{
    // Changable text look to be put in a tag. Made easy to extend

    let sNum = daKind.sizeFont;
    if( sNum == undefined ) return "";

    let st = "style=" + DQ + "font-size: " + sNum.toString() + "px" + DQ; 

    ans = st;
    return ans;
}


// Improve human readable line by mnumonic figuring 12aug20
function improveHrFieldEntity( fielNa, doList, daHr )
{
    // Do

    // Kludge probably
    if( daHr == undefined ) return "";

    let ans = daHr;                                     // Maybe no change

   // Operations 
    let opNames = doList[ 'whattodo' ];

    // Remove extra quotes
    if( spacedTokenLooker('remexq', opNames ) )
    {
        let t1 = replaceAllStr(SQ, SP, ans );
        ans = replaceAllStr(DQ, SP, t1 );
    }

  ans = ans.trim();
   return ans;
}


// A click to a created button now displayed goes here #madebuttondispatcher
function IMCLICKED_DOMmadeBtn( whFrom )
{
    // Called after a defined button is clicked

    // Well its lurking so be carefull
    if( whFrom == undefined ) { return; }

    // Its desirable to keep all this together this is usually called
    // from non created buttons. This might NOT be used, some code
    // I noted just did this more directly. Still here 'if you want'
    if( whFrom == ")resbtncount") { btnSeqNumK = 1; return; }

    // Cue uses the number of them ...
    if( fieldCountWarn != btnSeqNumK )  { sayInteger( btnSeqNumK ); }
    else                                                                { ttsSpeech( 'enufn' ); }

  // About what's been clicked from its DOM Id looking up
    let seeItId = whFrom.id;
    let doT = buttonFacts_HF[ seeItId ];
    let daSeqNum = doT[ 'itsval' ];     let daId = doT[ 'id' ]; 
    let daFieldNam = doT[ 'fname' ];    let daPurp = doT[ 'bpurpose' ];
  let handleHow = doT[ 'handle' ];

    if( daPurp == 'pickfields' )        doFromBtnFieldPick( seeItId );
    if( daPurp == 'picktable'  )        doFromBtnTablePick( seeItId );

    // Special thing to do
    if( handleHow == 'touchclose' ) DOMlittleFancierModalCloser( 'mwm_picker1' );
}
var fieldCountWarn = 6;


// Button click for field select 20mar20
function doFromBtnFieldPick( domId )
{
    // Field pick off a button marks the fact for other code to use

    let doT = buttonFacts_HF[ domId ];
    let daSeqNum =      doT[ 'itsval' ];    let daId = doT[ 'id' ]; 
    let daFieldNam =    doT[ 'fname' ];     let daPurp = doT[ 'bpurpose' ];

    // Supposed to be a counting number
    if( daSeqNum < 1 ) return;

    // Change state of field as button is getting clicked
    let n = fieldProperties_OS[ daSeqNum - 1 ];
    n[ 'status' ] = 'displayin9';
  
    // And the order it occurs some times matter to so
    n[ 'clickindex' ] = btnSeqNumK; btnSeqNumK++;

    // Shows
    let desc = "Table destination set"; 
    DOMshowArea9HumanSituation( daSeqNum + ' '+ desc );
}


// Button click for table number pick ( answer to which table ) 20jul20
function doFromBtnTablePick( domId )
{
        // Field pick off a numbered hunk table

    let doT = buttonFacts_HF[ domId ];
    let daValu =            doT[ 'itsval' ];    let daId =      doT[ 'id' ]; 
    let daFieldNam =        doT[ 'fname' ];     let daPurp =    doT[ 'bpurpose' ];

    // Supposed to be a counting number
    if( daValu < 1 ) return;

    // Change global
    hunkTaNumToAccess = daValu;

    // Shows
    DOMshowArea9HumanSituation( hunkTaNumToAccess + ' ' + daFieldNam );
}


// Add a button programatically #addbuttonenclosed
function wellButtonAdder( aTitle, buttPurpose, aVal, specialHand, putHere ) 
{
    // Add button, these are really abstract, can be lots of kind sof things hanging off
    // a visual 'real' clickable button. Made and then squirted into the DOM

    // A value is optional usually a number could be text though
    let assValu = 0, handlingBtn = "";
    if( aVal != undefined )         assValu = aVal;
    if( specialHand != undefined )  handlingBtn = specialHand;

    // Button title needed
    if( aTitle == undefined ) return;

    // Button to be
    let btnBtn = document.createElement( 'button' );

    // Make btn here
    let domPtrTitleText = document.createTextNode( aTitle );
    let itsLook = "color: black; font-size: 70%; margin: 2px;";
    btnBtn.setAttribute( "style", itsLook );

    // Loop thru id's  available, set one, get ready for next go
    if( bnTc > bnMax ) bnTc = bnMin;    if( bnTc < bnMin ) bnTc = bnMin;                // >
    btnBtn.setAttribute( 'id', bnRoNa + bnTc );
    
    // Button title is a fieldname for a typical use, but could be ANYTHING really
    let fNamNow = aTitle.trim();

    // Look through parellel global on buttons now in existence in my control
    let lookF = "";
    for( let i = bnMin; i < bnMax;i++ )                                                             // >
    {
        let lookF = bnRoNa + i; lookF = bnRoNa + i;                         // Look at this one

        // Parellel global describes each showing made button
        let lAt = buttonFacts_HF[ lookF ]
    
        // If its already there, leave early, to do NOTHING ( no problem )
        if( lAt != undefined )
        {   if( lAt[ 'btnsays' ] == aTitle )    return; } 
    }

    // Remember so clicks can find what to do   SOMEDAY   if clicked
    let lp = btnBtn.getAttribute( 'id' );                                 // Set a few lines above, already

    // Base facts for a showing button, every button will get an object like this for its lifetime
    let howToUse = {    id: lp,  itsval: assValu, btnsays: aTitle,
                                        handle: handlingBtn, fname: fNamNow, clickindex: 0, 
                                        bpurpose: buttPurpose };
    buttonFacts_HF[ lp ] = howToUse;                                            // Filed in memory

    // Make clicks to it reach a dispacher method. This is pretty advanced ECMA JS, kiddo
    // this button   click   holds this function call
    btnBtn.onclick = 
            function() {
            IMCLICKED_DOMmadeBtn( this );
            return false;
            };

    // Text dangles off the button node, attach HR text to the button being made
    btnBtn.appendChild( domPtrTitleText );

    // Into the DOM finally
    let tC = document.getElementById( putHere ); 
    tC.appendChild( btnBtn );
    bnTc++;                                                         // In the DOM really, counter etc

    // For troubleshooting
    let dd = 0;
}
var bnTc = 0;                       // Button number to create
const bnMin = 10;                   // Min number assigned
const bnMax = 99;                   // Mlast number assigned
const bnRoNa = 'btnMfZ';            // Button make root names
var btnSeqNumK = 1;                 // Button click order counter CLICKS not creation


// Just clear button
function specinnerclr()
{
    DOMshowArea9HumanSituation("", ')clr9a' );
}


// Cut up a line 'at the top' #recoedlinesliced
function slicerRecordZeros( deLim, someLi )
{
    // Slice up a line 'just so'

    let ans = [];
    let mFr = ' ' + someLi + ' '; mFr = mFr.trim();

    // Better one for commas
    if( deLim == ',' )
    {
        // Better comma cutter
        mAns = csvToArray( someLi );
        if( mAns == undefined ) { return ans; }
        return mAns;
    }

    // Special cases
    if( isThisInThere( superIgnore, mFr ) ) { return ans; }
    if( mFr.length < 1 ) { return ans; }

    let aL = mFr.length;
    let inSp = mFr.split( deLim );
    
    let aC = inSp.length;
    if( aC < 1 ) { return ans; }

    // Be sure each is neat
    let an2 = [];
    for( i = 0; i < aC; i++ )
    {
        let inRaw = inSp[ i ];
        if( isThisInThere( '\r', inRaw ) ) inRaw = replaceAllStr('\r',"", inRaw);
        if( isThisInThere( '\n', inRaw ) ) inRaw = replaceAllStr('\n',"", inRaw);
        an2.push( inSp[ i ].trim() )
    }
 
    return an2;
    }
    var superIgnore = '%';


// Open a local file as incoming text 'area 9 experimentey' 16apr21 #localfileeater
function getLocalFileIntoMe( inputHere ) 
{
    // Look at hopefully ANY RELIVANT file indicated by that pesky human
    // from the local filesystem

    // Outside world needs to know
    fileGetting.rawFiNa = ""; fileGetting.fiNaShowable = "";

    // Proceed, sequence of self defined input tasks ( do all in turn )
    let doThis = 'k m ss sta ev1';

    // File human indicates
    let oneFile = inputHere.files[ 0 ]; // Fancy HTML leaves facts for me

    // Leave nice facts as easy to use striny object around for titling etc
    let uz = inputHere.files[0].name;
    fileGetting.rawFiNa = uz.toString();
    let v1 = replaceAllStr( '.csv', '', fileGetting.rawFiNa ); 
    let v2 = replaceAllStr( '.tsv', '', v1 ); 
    fileGetting.fiNaShowable = v2;

    // We usually put results in these, so get them ready
    theRecords = [], incToCr = [];

    // Wipe so multiple doing is not confused 
    clrFilPickCtrl();

    let reader = new FileReader(); // We need a file reader, so
    reader.readAsText( oneFile );

    reader.onload = function() 
    {
        // Decide what to do from linear directive 
        let fK =    spacedTokenLooker( 'k',     doThis ); // Show in k count
        let fM =    spacedTokenLooker( 'm',     doThis ); // Show in m count
        let fTc =   spacedTokenLooker( 'tc',    doThis ); // To console
        let fSs =   spacedTokenLooker( 'ss',    doThis ); // Show sample
        let fSta =  spacedTokenLooker( 'sta',   doThis ); // Small text area
        let fEv1 =  spacedTokenLooker( 'ev1',   doThis ); // Eval 1
        let fEv2 =  spacedTokenLooker( 'ev2',   doThis ); // Eval 2
        let fEv3 =  spacedTokenLooker( 'ev3',   doThis ); // Eval 3
        let fEv4 =  spacedTokenLooker( 'ev4',   doThis ); // Eval 4
        let fEv5 =  spacedTokenLooker( 'ev5',   doThis ); // Eval 5

        // Its order of execution is not bny how it been made, this is intentional
        if (fK) {
            let aSrc = reader.result.length;
            let aK = Math.round(aSrc / (1024));
            console.log("LENGTH in thousands: " + aK);
        }

        if (fM) {
            let aSrc = reader.result.length;
            let aM = Math.round(aSrc / (1024 * 1024));
            console.log("LENGTH in millions: " + aM);
        }

        if (fTc) {
            console.log(reader.result);
        }

        if (fSs) {
            console.log(sLines);
            console.log("its a small show:");
            let aL = 2000;
            let smal = (reader.result).substring(0, aL);
            console.log(smal);
            console.log(sLines);
        }

        if (fSta) {
            console.log(sLines);
            console.log('TO TEXT AREA limited sample size');
            console.log(sLines);
            let aL = 2 * 1024;
            let smal = (reader.result).substring(0, aL);
            DOMshowLargeImportantEdtContents(smal);
        }

        if (fEv1) // Evaluate 10sep20
        {
            // This is big, this cuts up i/p there are legit globals
            let stuf = reader.result;
            incToCrLf =     stuf.split( '\r\n' );
            incToCr =           stuf.split( '\r' );
            incToLf =     stuf.split( '\n' );
            incToTab =      stuf.split( '\t' );
            incToComma =    stuf.split( ',' );

            // Show human metrics
            let m1 = "Char count: " +   reader.result.length + H_EOL;
            let m2 = "CrLf count: " +   ( incToCrLf.length - 1 ) + H_EOL;
            let m3 = "Cr count: " +         incToCr.length + H_EOL;
            let m4 = "Lf count: " +         incToLf.length + H_EOL;
            let m5 = "Tab count: " +        incToTab.length + H_EOL;
            let m6 = "Comma count: " +  incToComma.length + H_EOL;

            // Seeable sometimes
            DOMshowArea9HumanSituation( "", ')clr9a' );
            DOMshowArea9HumanSituation( m1 ); DOMshowArea9HumanSituation( m2 );
            DOMshowArea9HumanSituation( m3 ); DOMshowArea9HumanSituation( m4 );
            DOMshowArea9HumanSituation( m5 ); DOMshowArea9HumanSituation( m6 );

            // Insert an erase button in human showable text
            let mBu = "<button onclick = specinnerclr()>&nbspC&nbsp</button>";
            // DOMshowArea9HumanSituation( mBu );

            // How to do work with this file
            let parseLikeSo = decideParsingOfFilesIn( stuf );
            fiProcess = {}; fiProcess.delims = parseLikeSo;

            if( fiProcess.delims.lc == 'crlf' )         theRecords = incToCrLf;
            if( fiProcess.delims.lc == 'cr' )           theRecords = incToCr;
            if( fiProcess.delims.lc == 'lf' )           theRecords = incToLf;

            // If there is a modal worthy thing to display show it
            modalRecNav1 = theRecords.length;
            modalRecNav2 = "Records: " + ( modalRecNav1.toString() );
            modalRecNav2 = "Record count: " + ( modalRecNav1.toString() );
            DOMmodalFactFlasher( modalRecNav2, 'long-middle' );
        }
    };

    reader.onerror = function() 
    {
        console.log("ERROR: ", reader.error);
    };
}
var incToCrLf, incToCr, incToLf, incToTab, incToComma, fiProcess;
var sLines = '-----------------------------------------------------';


// Decide parsing of files pulled in 16apr21
function decideParsingOfFilesIn( sStuff )
{
    // How to take apart a file

    let kntChars =      sStuff.length;
    let kntCrLf =       incToCrLf.length;
    let kntCr =         incToCr.length;
    let kntLf =         incToLf.length;
    let kntTab =        incToTab.length;
    let kntComma =      incToComma.length; 
    
    // Result to be
    ans = {}; ans.usable = false;

  if( kntChars < 50 ) { return ans; }

  // Decide line count to make experimental records
  let xLineCount = 0;
  if( kntCrLf > xLineCount )    xLineCount =        kntCrLf;
  if( kntCr > xLineCount )      xLineCount =        kntCr;
  if( kntLf > xLineCount )      xLineCount =        kntLf;

  // Too few lines is crazy for usable
  if( xLineCount < 4 )              return ans;                                     // Sorry

  // Decide on a sample size
    let sSiz = parseInt( ( xLineCount / 100 ), 10 );
    if( sSiz < 30 )                         sSiz = 30;
    if( sSiz > ( xLineCount - 1 ) )         sSiz = xLineCount - 2;
    if( sSiz > 33 )                         sSiz = 33;

  // Try all rational combos remember scores
    let t1a = {}, t2a = {}, t3a = {}, t4a = {}, t5a = {}, t6a = {};
    let t1 = tryCut( 't',   incToCrLf,  sSiz, 'crlf t' );       t1a.lc = 'crlf'; t1a.tc = 't'; 
    let t2 = tryCut( 'c',   incToCrLf,  sSiz, 'crlf c' );       t2a.lc = 'crlf'; t2a.tc = 'c'; 
    let t3 = tryCut( 't',   incToCr,    sSiz, ' cr t' );        t3a.lc = 'cr';   t3a.tc = 't'; 
    let t4 = tryCut( 'c',   incToCr,    sSiz, 'cr c' );         t4a.lc = 'cr';   t4a.tc = 'c';
    let t5 = tryCut( 't',   incToLf,    sSiz, 'lf t' );         t5a.lc = 'lf';   t5a.tc = 't'; 
    let t6 = tryCut( 'c',   incToLf,    sSiz, 'lf c' );         t6a.lc = 'lf';   t6a.tc = 'c'; 

  // Take best as answer
    let sco = -1;
    if( t1 > sco ) { ans = t1a; sco = t1; }
    if( t2 > sco ) { ans = t2a; sco = t2; }
    if( t3 > sco ) { ans = t3a; sco = t3; }
    if( t4 > sco ) { ans = t4a; sco = t4; }
    if( t5 > sco ) { ans = t5a; sco = t5; }
    if( t6 > sco ) { ans = t6a; sco = t6; }
    ans.usable = true;

  // Use these
    return ans;
}


// Experimental parsing tables in 16apr21
function tryCut( dC, daRecs, maxKnt, refcode, altAttempt )
{
    // Decide on a decode method
    // delim code, da records split up, max number to consider, human code, Alt Fun

    // Debug
    let ttyDd = true;

    let ans = {};                                                                           // Might be used
    let cF = 0;                                                                             // Complete fail

    // Easy for humans code to real char
  let del = ',';
    if( dC == 'c' )     del = ',';
    if( dC == 't' )     del = '\t';

    // Seeable
    if( ttyDd )                     console.log( "Trying: ", refcode );

    // End of line. It did not work at all
    if( daRecs == undefined )                   return cF;

    let tC = 0;                                                             // Count successes
  for( let nn = 1; nn < maxKnt; nn++ )
    {
        // Not enough is usually a serious fail
        if( nn > ( daRecs.length - 1 ) )                return cF;

        // Get first token
        let aSpot = daRecs[ nn ].indexOf( del, 0 );
        if( aSpot > 0 )                                                     // Found or not
        {   let p1 = daRecs[ nn ].substr( 0, aSpot )
            if( ttyDd )                                 console.log( p1 );
            if( p1.length > 0 ) tC++;                                       // Count as good
        }
    }   

    return tC;
}


// More facts about file scanned into area 9
function factCountSayer()
{
    DOMmodalFactFlasher( modalRecNav2, 'long-middle' );
}


// Do a html called insert thing
function RUNstarter01()
{
    alert("starter01");
}


// Wipe filename picker name get 06aug20
function clrFilPickCtrl()
{
    let n = 'filedowndoer';
    document.getElementById( n ).value = "";
}   


// Helper for token 10jul20
function spacedTokenLooker( lookFor, inThisStuff )
{
    // Look for tokens spaced delim

    // Happend in a big progam so what
    let f = false;
    if( ( lookFor == undefined ) || ( inThisStuff == undefined ) )      return f;
    if( ( lookFor == "" ) ||                ( inThisStuff == "" ) )                     return f;

    // If the term is found the act is probably to be done
    let ans = isThisInThere( ' ' + lookFor + ' ',' '+ inThisStuff +' ' );

    return ans;
}
    

// Return array of string values, or NULL if CSV string not well formed
function csvToArray( text ) 
{
    // Untangle those commas

    // Return NULL if input string is not well formed CSV string
    //if (!re_valid.test( text ) )                                                                                          return null;
    if ( false )                                                                                            return null;
    var a = [];                                                                                                 // Initialize array to receive values
    text.replace( re_value,                                                                         // Walk the string using replace with callback
        function( m0, m1, m2, m3 ) {
            // Remove backslash from \' in single quoted values
            if      ( m1 !== undefined ) a.push( m1.replace(/\\'/g, "'" ) );
            
                        // Remove backslash from \" in double quoted values
            else if( m2 !== undefined )             a.push( m2.replace(/\\"/g, '"' ) );
            else if (m3 !== undefined )             a.push( m3 );
            return '';                                                                                  // Return empty string
        });

    // Handle special case of empty last value
    if(/,\s*$/.test( text ) )                               a.push( '' );

        //t1 = performance.now()
        //console.log( "csv decode: " + ( t1 - t0 ) + " ms" ); 
    return a;
};
var re_valid = /^\s*(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,'"\s\\]*(?:\s+[^,'"\s\\]+)*)\s*(?:,\s*(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,'"\s\\]*(?:\s+[^,'"\s\\]+)*)\s*)*$/;
var re_value = /(?!\s*$)\s*(?:'([^'\\]*(?:\\[\S\s][^'\\]*)*)'|"([^"\\]*(?:\\[\S\s][^"\\]*)*)"|([^,'"\s\\]*(?:\s+[^,'"\s\\]+)*))\s*(?:,|$)/g;
var t0 = 0, t1 = 0, t2 = 0, t3 = 0, t4 = 0, t5 = 0, t6 = 0;

// Show in HTML capable text see  edit area 10aug20
function DOMshowLargeImportantEdtContents( sT )
{
    // Show it editable text div or read back

    // I can just return contents of yhis editable DIV
    if( sT == undefined )
    { let ans = F_elmTxtM.innerHTML; 
        return ans;
    }
   
    // Put text in it to look at
    F_elmTxtM.innerHTML = sT;
}


// Testing making good pieces   12jul20   I hope
function DispachDetailRecordCmds( doThis )  
{
    // Do names things

    if( doThis == 'm1111' )
        {
            kDown = 200;
            let tiIntx = 2000;
            setInterval( fastReview, tiIntx );
        }   

    if( doThis=='m3333')
    {
            alert('availavail m3m');
        }

    if( doThis=='m4444')
        {
            wellButtonRemover('vv45');
        }

        if( doThis =='m5555')
        {
            //improveByLineCodes = 'remexq';                        // Remove extra quotes
            //DOMshowArea9HumanSituation( 'm5555' + SP+ recordLovedNow,')clr9a')
        }
}
var kDown = 0;


// Explainer helper text to area 9
function DOMshowArea9HumanSituation( sayThis, doThis )
{
    // Text tp help big text

    // This DOM in where I will write to
    let dcMain = F_elmExpT; let dcHelp = '#moefoursee1qq';
        
    // Easier
    if( doThis == undefined ) { doThis = ""; }
    if( sayThis == undefined ) { sayThis = ""; }

    // Wipe sometime
    if( doThis == ')clr9a') { dcMain.innerHTML = ""; }

    // We append to whats there
    let tN = dcMain.innerHTML;

    // First white insert line depends on the content so far
    let finSay = "";
    if( tN == "")
    {   finSay = sayThis; }
    else
    { finSay = tN + CRLF + sayThis; }

    // Can show in two places like   record 9   or some explaination humanany
    dcMain.innerHTML = finSay;
    modalRecNav1 = finSay;

    // Move to show newest to main idea(er)
    dcMain.scrollTop = dcMain.scrollHeight;
        
    // More focused content
    let mSaMor = sayThis;
    if( dcHelp != undefined ) { $(dcHelp).text(mSaMor);}
}


// Top line stuff #recordheader
function putFirstRecordToTableHeaderAsHeadings( doThis, specSize, deli, otherTweaks )
{
        // As told

        let tRl = [];

        // Various things to the 'top line' thats visible
        if( doThis == ')neatertl' )
        {
            for( let k = 0; k < specSize; k++ )
            {
                let seeIt = "Field " + ( k + 1 );
                tRl.push( seeIt );
            }
        }

        // Usually some area 9 fieldnames. Note the size arg doesn't do much for this
        if( doThis == ')uarea9tota' )
        {
            // Make fields into a list, change sel table top line
            let iTop = theRecords[ 0 ];
            tRl = slicerRecordZeros( deli, iTop );
        }

        // Use picked fieldnames
        if(  doThis == ')usefiewp' )
        {
            // Construct human readable from descriptions of the field button states
            // There in a different order, then I get them, so start with empty slots to fill
            for( let i = 0; i < specSize; i++ )
            { tRl.push( "" ); }

            // Construct human readable from descriptions of the field button states
            for( let i = 0; i < fieldProperties_OS.length; i++ )
            {    
                if( i < fieldProperties_OS.length )
                {   let lN = fieldProperties_OS[ i ];
                    let clIn = lN[ 'clickindex' ];              // Order they came in 1 2 3 etc
                    if( clIn < specSize )
                    {   let aFieNa = lN[ 'fieldname' ];
                        let sNow = lN[ 'status' ]; 
                        if( sNow == 'displayin9' )  { tRl[ clIn - 1 ] = aFieNa; } }
                }
            }

            // Maybe more to do, if Human ideas clobber pulled ones, fine its up to them
            if( otherTweaks.MarginNotes == 'usualonrightplease' )
            {   let aClobberName = msgNameOfNotes;              // For human notes
                tRl[ specSize - 1 ] = aClobberName; }
        }

    if( tRl != [] )
        { replaceHEADERSInTablWeLike( tRl ); }
}


// Do area 9 copy to real table #area9realcopy
function doArea9EditToTable()
{
    // Move area 9 to table. Sometimes some usual human huh do this for me
    // stuff is tacked in at the arguments above
 
    // Not usable
    let nogo = ")empty";
    if( theRecords == undefined )           return nogo;
    if( theRecords == [] )                      return nogo;

    let recKnt = theRecords.length;
    if( recKnt < 2 )                                    return nogo;

    // Replace text on header top line. Best possible are fieldnames
    // but needs something orderly, ok. Table should be already selected
    putFirstRecordToTableHeaderAsHeadings( ')neatertl', 6, "", "" );   // Can be improved someday

    // Global with lines to become table entries
    tableStuff = [];

    // Speedups
    t0 = performance.now(); t0 = parseInt( t0, 10 );

    recKntAll = recKnt; recKntPtr = 1;
    setTimeout( Area9toBestTableIterator, 1 );
}
var recKntAll = 0, recKntPtr = 0, recKntGrp = 33; 
var theRecords;

// Gets called until table is filled from area 9 #area9somefiller
function Area9toBestTableIterator()
{
    let howTo = "naked";                                                    // Little or no formatting
  let didDo = false;
  console.log( "FILLING ", recKntPtr, "to ", recKntAll )

    for( let i = recKntPtr; i < ( recKntPtr + recKntGrp ); i++ )
    {
        if( i == recKntPtr ) { t5 = performance.now(); t5 = parseInt( t5, 10 ); }
        if( i < recKntAll )
        { let daRec =  theRecords[ i ];                         // A record
            gotLine = RecordLikeProcessing( howTo, daRec, i );
            addRowToTable( gotLine.bot );
            didDo = true;
        }       
    }
    if( didDo ) 
    { recKntPtr = recKntPtr + recKntGrp;

        t6 = performance.now(); t6 = parseInt( t6, 10 );
        console.log( "Loopyloop: " + ( t6 - t0 ) + " ms" ); 
        t3 = performance.now();

        setTimeout( Area9toBestTableIterator, 1 );
    }

    if( !didDo )
    {
        t2 = performance.now()
        console.log( "All: " + 
                 ( ( t2 - t0 ) / 1000 ) + " ?" ); 

        let d = (t2 - t0) / 1000;
        let perI = d / recKntAll;
        console.log( "And mS per record: ", perI * 1000 );

        // This   br   messes up th look sometimes, tricky to apply only when useful 05aug21
        TouchUpDOMbr( tableTouchUp );
    }
}


// Figure fields in memory image of edit area #fieldsinmem
function BtnselectFields( aMsg )
{
    // Absorbed document to buttons to work with it by field names

    let ttyBf;

    // Char for field cutting is known 
    let delimNow = gimmeFieldDelim();

    // Empty modal before we write into it
    reallyResetSharedModal();

    // Just in case
    if( theRecords == undefined ) return;
    if( theRecords.length < 2 ) return;

    // First 'line' is presumed to have fieldnames
    let topline = theRecords[ 0 ];                                                  // Presumed fields
  
    // Make fields into a list
    let tlFieldNames = slicerRecordZeros(delimNow,topline);
    let lookieFiNames = tlFieldNames.toString();

    // Make buttons
    let fldKnt1 = tlFieldNames.length; if( fldKnt1 < 1) return;

    // Prepare fieldnames for use
    extractForUsageSomeFieldnames( tlFieldNames );

    // Make buttons from the fieldnames and remember lots about each one
    let fldKnt2 = fieldProperties_OS.length;

    // The details planned and fieldnames better have the same count, but we
    // pick the smaller of the two to dominuate the rest of everything
    let fldSureCount =   returnLesser( fldKnt1, fldKnt2 );
    
    // Work thru each
    for( let j = 0; j < fldSureCount; j++ )
    {
        // Each button has a couple facts assoc with it, so
        let iDex = j + 1;                                                           // 1 2 3 etc column number almost
        let factToUz = ( tlFieldNames[ j ] ).trim();    // Fieldname
        wellButtonAdder( tlFieldNames[ j ], 'pickfields', iDex, "", 'writableeight' );
    }   

    // Pick a size for modal dialog box that should look ok
    let modShapenow = modShapeLarge1;
    if( fldSureCount < 60 ) modShapenow = modShapeMedium1;
    if( fldSureCount < 27 ) modShapenow = modShapeSmall1;
    
    // Fun sure
    // alert( modShapenow )

    // Human message
    DOMshowArea9HumanSituation( '',')clr9a');

    // Can open a modal too
    let moreSho = true;                                                         // Maybe some variations someday
    if( moreSho ) { DOMopenModal( 'mwm_picker2', modShapenow ); 
                    $('#moeeightsee1qq').text( aMsg ); }
    // Debug
    if( ttyBf ) console.log( 'button making: ' + lookieFiNames );
}   


// Extract fieldnames to a general resource list 15jul20
function extractForUsageSomeFieldnames( parsedRecord )
{
    // Fieldnames please

    // Sometimes a field is empty so we want to gentely fake a name
    let fakeFieldNa = "User Field ", fakeFieldNu;

  // Careful
    if( parsedRecord == undefined )             return;
    let fldKount = parsedRecord.length;
  if( fldKount < 1 )                                        return;

  // Get each fieldname and leave an orderly description of it around
    for( let j = 0; j < fldKount; j++ )
    {
    // Just init this maybe need a fake name thing
        if( j == 0 )                                                                        fakeFieldNu = 1;

        // Each button has a couple facts assoc with it, so
        let iDex = j + 1;                                                           // 1 2 3 etc column number almost
        let factToUz = ( parsedRecord[ j ] ).trim();                                // Fieldname

        // If if not usable make up a name for a field
        if( factToUz == "" )
        {
            // Two naming ideas, could matter human organization of work a lot 
            let nameMeth = 2;
            if( nameMeth == 1 ) factToUz = fakeFieldNa + fakeFieldNu; fakeFieldNu++; 
            if( nameMeth == 2 ) factToUz = fakeFieldNa + ( j + 1 );
            parsedRecord[ j ] = factToUz;
        }

        // We want a more parse ready copy of fields. Button text and inner name can differ
        if( j == 0 ) fieldProperties_OS = [];
        let aLi = { buttext: parsedRecord[ j ], fieldname: factToUz, status: 'found' }
    fieldProperties_OS.push( aLi );
    }   
}


// JQuery pointer can be a given number on pick last in favor 01oct20
function jqTableDOMPtr( daN )
{
    // Point is to be specific, we want to just use DataTable Part !

    let ans = 'na';

    // Always use an argument if given if not try what ever was touched lately
    let nn = hunkTaNumToAccess;
    if( daN != undefined )                  nn = daN;

    if ( nn > 0 )
    {   ans = $('#table' + nn ).DataTable(); }
    
    return ans;
}


// Update memory for what this page can change
function LastChanceSaveMemUpdate( n )
{
    // Get it save just right

    let aF = $( '#modnamequest6' ).val(); aF = aF.trim();  
    allHunks[ n ].localhunktitlePlain = aF;  
}


// Close or execution click modal for doit or close button in hunks 25apr21 #fillsavegethunks
function DOMforDoItorAnySaveClose( aFrom )
{
    // The human is done with this modal. They clicked either 'do it' or just close

    var howGo = "";                                                     // Helper functions say stuff to

    // Local funs might need this fact
    let hN = hunkNumberNow;                                            // Its global anyway this is 'for fun'

    // If its a   get save   close   its also a exe for this stuff
    if( ( aFrom == ')btndoit' ) || ( aFrom == ')btndoitoneof' ) )      // Btn execute get save
    {
        // This is a 'last chance' look thing so it legitimately duplicates visuals, update correctly 
        LastChanceSaveMemUpdate( hN );

        // Human might have reached behind modal and changed something
        DOMhunkClickyFactsGrokker();

        // Its doit so call the   doit   thing to do save or get
        howGo = "probablyok";
        if( gOrScontent == 'g' )        {       howGo = DOMdoItGetContent(  ')btndoit' ); }
        if( gOrScontent == 's' )        {       howGo = DOMdoItSaveContent( aFrom ); }
    }   

    // Closing this way is when its closed no further action. There's usually a button for that, etc
    DOMlittleFancierModalCloser( 'mwm_server' );

    // Fading message modal. There's always something useful to say about important stuff like not losing work
    let m = ll.proceeding;                                              // Happy talk
    
    // Better comm to human
    if( gOrScontent == 'g' )            { m = ll.tablepop; }
    if( gOrScontent == 's' ) 
    {   if( howGo == 'ok' )             { m = ll.tablesaved; }
        if( howGo == 'emptynowrite' )   { m = ll.nowriteitempty; }
    }    

    DOMmodalFactFlasher( m, 'medium-middle', localId3rebuild ); 
}


// Test for callback 16apr21
function cbTest()
{
    // See it

    console.log( 'Callback test fired' );
    // alert( "I am a callback" );
    callbackCounter = callbackCounter + 1;
}
var callbackCounter = 0;


// Hunk save   content execution 22apr21 #fillsavegethunks
function DOMdoItSaveContent( aKind )
{
    // Whether save button was used matters

    // We should return a 'how it went' so
    var ans = "";

    if( aKind == ')btndoit' )
    {
        // Here is the human assigned name in the modal box there looking at and can change
        let gV = $( '#modnamequest6' ).val();
        SetLocalMemName( hunkNumberNow, gV );

        // Can be   saved   in different places here is named place they speced
        let goesHere = allHunks[ hunkNumberNow ].aboutstorage;
        ans = SaveThisOneTable( hunkNumberNow, goesHere );         // Out to someplace else
    }   

    return ans;
}


// Fill table from anywhere identifable 28apr21-A #fillsavegethunks
function RestoreHunkFromLocalIdb( aFrom, aTo, aHow )
{
    // Get and put content 'just so'

    let uzKey = "";

    // Is it default 'no name'
    if( aFrom.title == ')default' )
    {   uzKey = keyLp + 'stub' + keyGap + aFrom.spot.toString() + keyRp; }
    else
    {   uzKey = keyLp + 'title' + keyGap + aFrom.title + keyRp; }

    // Where it goes I sure hope
    let toTabN = aTo.tableNum.toString();
        
    // World full of details huh
    let placeHow = aHow.placement;

    // This is the only one I know how to do
    if( aFrom.source == 'local')
    {        
        GimmeOneHunkByKey( uzKey, DOMfillTableBigtime, toTabN );

        // Of course open the hunk as a courtesy
        DOMhunkShow( aTo.tableNum );
    }
}    


// Actual get content execution 25apr21 #fillsavegethunks
function DOMdoItGetContent( aKind )
{
    // Get table from someplace to favored hunk, name for its in memory ready

  // Debug
    let jdcTty = true;

    // Some meanings 'left over' mean do less or nothing
    let dn1 = "na", dn2 = "tbd";                            // Maybe make global dunno
    dn1 = "bsdkfhkshk";

  // Magic word keyword for asking server
    let endyVerb = 'getcloudreadytable';                    // Calls idea interpreter on server side

    // Maybe no go
    if( aKind != ')btndoit' || ( hunkNumberNow < 1 ) )                                // >
    {   DOMlittleFancierModalCloser( 'mwm_server' ); return; }

  // This name can be changed by human in the modal, so remember it for 'someday'
    let gV = $( '#modnamequest6' ).val();
    AbsorbUiThing( 'srvrhnkti', hunkNumberNow, gV );       // With other hunk info

    // Top line next line
    let mN1 = "", mN2 = "", tGet = "", toTab = "", aT = "";
    
    // Can be   got from   different named places
    let fromHere = allHunks[ hunkNumberNow ].aboutstorage;

    // What to get by name we only worry if its from the server ( gonna try )
    if( fromHere == 'inet' )
    {   aT = allHunks[ hunkNumberNow ].serverhunktitle.trim();
        if( ( aT == dn1 ) || ( aT == dn2 ) || ( aT == "" ) )
        {   ttsSpeech( 'notanm' );                                                              // Says its not ok
            DOMlittleFancierModalCloser( 'mwm_server' ); return; }
    }   

    // And local
    if( fromHere == 'local' )
    {   aT = allHunks[ hunkNumberNow ].serverhunktitle.trim();

        // Funny tradeoffs whats numbered how for local get this is subject to
        // new ideas change etc 03oct20
        aT = hunkNumberNow;
        let d = 0;
    }

    // Hook for named entity like a 'extention, can be none
    let eMaybe = ""; eMaybe = ".ralph"; eMaybe = "";
    
    // Cue sound
    cannedAudioOut( 'bigrow1' );                  // Don't move this

    // Close modal, We know there is more to do, this is all asynch code, so relax
    DOMlittleFancierModalCloser( 'mwm_server' );

    // Pop up modal that is nice to see for this moment
    let nS = false; if( nS )
    {   DOMmodalFactFlasher( 'Getting table content from server', 'argument-twoski' ); }

    // Get content poke where it goes
    fillHunkTableFromSomeplace( fromHere, hunkNumberNow, hunkNumberNow );
}


// Control a specific oval a lot #ghddihide
function visibilityGhddiOval( doIt )
{
    if( doIt == 'invisible' )   { $('#configoval1').css("display", "none"); }
}


// Fill table from outside could be different sources 25apr21 #fillsavegethunks
function fillHunkTableFromSomeplace( whereFrom, toGet, toTable )
{
    // Get from named place, thats   whereFrom

    let fancySpec1 = ')humanwannatablecontenthunker';       // Low level will know this
    let fancySpec2 = ')humanwannatablehunkerlocal';

    // From server or anyway some IP ish thing
    if( whereFrom == 'inet' )
    { getTableUsual( toGet, toTable, fancySpec1 ); }

    // Built in db in WWW browser, the 'spec' changes where it goes to fetch the thing
    if( whereFrom == 'local' )
    {
        // Get and put content in hunk table, 
        // these three objects should absolutlely define all facts needed, retrieve should
        // do metadata and keep records, etc
        let fromSpec = {}, toSpec = {}; howSpec = {};
        fromSpec.source = 'local'; 
        fromSpec.spot = toTable;
        fromSpec.title = ")default";
        toSpec.tableNum = toTable; 
        howSpec.placement = "replace";        
        RestoreHunkFromLocalIdb( fromSpec, toSpec, howSpec );
    }
}    


// Get table from local db 13sep20 
function getTableFromLocalDb( ahGet, ahTable, detailSpec )
{
    // Abandoned but name is reserved

    return;

    // Get from local db store and put in real table
    let aLocInDb = entryHunksBasicStart + hunkNumberNow;
    console.log( "get from loc db: ", aLocInDb, ahGet, ahTable );
}


// Common modal get save shower 24apr21 25apr21 26apr21 27apr21 #fillsavegethunks
function DOMgetOrSaveContent( aK, hN )
{
    // Common modal code for server interface I need KIND and Hunk number

    // Table number
    hunkNumberNow = hN;                         // Almost global anyway, just planning for more general stuff

    // Needed if they click to do it
    gOrScontent = aK;                           // Almost global

    // Make changable facts show
    DOMfillGetSaveModelBonusInfo( hN );         // Clickable stuff on the bottom of a hunk

    // Update parellel array for all hunks 29mar21 #fillsavegethunks
    DOMhunkClickyFactsGrokker();

    // Change button   doit   for save
    if( aK == 's' ) $( "#modalbtndoit6" ).text( 'Save' );                   // A DO IT key
    if( aK == 's' ) $( "#modalbtndoit6altcmd" ).css( "display", "none" );   // A DO IT key

    // Open modal about details of each thing we knwo how to do
    if( aK == 's' )     { DOMopenModal( 'mwm_server' ); }

    // So   get   has a REACT modal
    if( aK == 'g' )
    { REACTpickLine( { L1: 'maybe piconsole.log( a', L2: 'ideas are', L3: 'Walnut futures',
                       MO: 'Call back to home base', howclose: 'selfdecide' },
                       popUpProgressShow );
    }                            

    // Turn of visibility of more key for old fashioned modal
    $( '#btndoxfermore6' ).css( 'display', 'none' );    // And no show for   more   btn
}
var gOrScontent = "";                           // A get or save in progress


// Show what is what for this modal 23apr21
function DOMfillGetSaveModelBonusInfo( n )
{
    // Update what is showing

    // This field is reshown to human
    let aName = allHunks[ n ].localhunktitlePlain;
    $( '#modnamequest6' ).val( aName );
}


// Save for combines used for various saves 07oct20
function saveTableHunkCombine( aKw, arg1, somePayload )
{
  // Put stuff together to make saved stuff really complete

    // Not every slot in the envelope is used, thats completely reasonable
  let pS = messageSendFixerUpper( aKw, arg1, "", "", "", somePayload );
  let ans = JSON.stringify( pS );

    return ans;
}


// Report
function cl( t )
{
    console.log('---------------');
    console.log( t );
    console.log('');
}


// Object maker to make storable ascii JSON image of a hunk aka table with LOTSA metadata 28apr21-A
function saveCombiner( tN, gfacts, bigjQdT, daMeta, tHead, tBody, aKind )
{
    let sc_ans = "";

    // Placeholders I suppose, dunno
    let aCom = 'Getting there Q1 and a bit 20_21 Apr now';
    let aboutFields     = { overview: 'empty' }
    let versionDataHow  = { number: 1.1, comment: aCom }

    // alert(tN);alert(gfacts);alert(bigjQdT);alert( daMeta);alert( tHead);alert( tBody);alert( aKind);

    console.log( "saveCombine:");

    cl(tN); cl(gfacts); cl(bigjQdT); cl(daMeta); cl(tHead); cl(tBody); cl(aKind);

    // All going in here
    let jn = {}; 
    
    // Fill tis   tis.body   tis.header   tis.field   tis.meta
    jn.tis = {};
    jn.tis.body =       tBody;
    jn.tis.header =     tHead;
    jn.tis.field =      aboutFields;
    jn.tis.meta = daMeta;

    // fill ver   ver.number   ver.comment
    jn.ver =            versionDataHow;

    // Maybe not essential for indexed DB, to string now
    sc_ans = JSON.stringify( jn );

    return sc_ans;
}


// Save a hunk table to local built in WWW db 28apr21-A #fillsavegethunks
function saveOneHunkLocally( tNum, a1mSfacts, frmjQdT, metaInf, daHeads, daBody, aKind )
{
    // Save this one

    ans = "ok";

    console.log('dogsleg');
    console.log( a1mSfacts )
    console.log('OTHER DOGLEG');

    // Note and mix match directive has a single char difference for local versus server
    let aNewerKind = 'l' + aKind;
    let wholeThing = saveCombiner( tNum, a1mSfacts, frmjQdT, metaInf, daHeads, daBody, aNewerKind );

    // Pluck a naming fact from deep in the thing; ( cant be wrong this way )
    let humanTitle =  allHunks[ tNum ].localhunktitlePlain;
    if( humanTitle == "" ) humanTitle = ll.jna;                     // Clearer to always have a name
    
    // Place in db, its key is defined on 'what kind' it is
    let dkey;
    if( aKind == 'stub' )   { dKey = keyLp + 'stub'     + keyGap + tNum.toString() +    keyRp; }
    if( aKind == 'title' )  { dKey = keyLp + 'title'    + keyGap + humanTitle +         keyRp; }

    // Same thing but different keys
    makeRecordInto( dKey, wholeThing ); 

    return ans;
}   


// Parse 25apr21 26apr21 27apr21
function parseKey( aKey, aPurpose )
{
    // Ways to remap keys

    let ans = "";

    if( aKey == undefined ) return ans;

    let kLpPtr = aKey.indexOf( keyLp );     if( kLpPtr < 0 )    { return ans; }
    let kRpPtr = aKey.indexOf( keyRp );     if( kRpPtr < 0 )    { return ans; }
    let kLpEnd = kLpPtr + keyLp.length;
     
    // Right of left lead in
    let left1 = aKey.slice( kLpEnd );
    let nextPtr = left1.indexOf( keyGap );  if( nextPtr < 0 )   { return ans; }
    let ansLeftKw = left1.slice( 0, nextPtr );

    // To start of right ending
    let rightEndPtr = left1.indexOf( keyGap );  if( rightEndPtr < 0 )   { return ans; }
    let right1 = left1.slice( rightEndPtr + 1);
    nextPtr = right1.indexOf( keyRp );          if( nextPtr < 0 )       { return ans; }
    let ansRightPiece = right1.substring( 0, nextPtr );

    // Just for thinking with
    let ansPeek = ansLeftKw + " " + ansRightPiece;
    let ansModal1 = ""; if( ansLeftKw == "title" )      { ansModal1 = ansRightPiece; }

    // How to format return, entirely variable, its for humans
    if( aPurpose == 'leftkw' )           { return ansLeftKw; }
    if( aPurpose == 'rightpiece' )       { return ansRightPiece; }
    if( aPurpose == 'peek' )             { return ansPeek; }
    if( aPurpose == 'modalquickie' )     { return ansModal1; }

    return ans;
}
// Just to test the above, remove when for sure stable probably
// var t25 ="[[[[Walter MITTY23]]]]";
// console.log( 'Test answer:' + parseKey( t25, 'leftkw') );
// console.log( 'Test answer:' + parseKey( t25, 'rightpiece') );


// Save a hunk table to server built in WWW db 03apr21 #fillsavegethunks 
function SaveOneHunkServerly( aKw, aTabl, a3 )
{
    // Saving

    // This needs some heavy thinking now is 07apr21 02:15 Z
    return 'ok';

    // To server, note keyword does a lot, different stuff up differs
    ans = sendToServerPostPkg( aKw, aTabl, a3 )

    return ans;
}


// A live table to string representation of its contents 07apr21 #fillsavegethunks
function LiveTableContentToStr( tN, aKind )
{
    // From data itself to text
    // Might be any ways to get what one wants, so fine

    // Body of the data table
    if( aKind == 'bodystring' )
    {   let aT1 = $( '#table' + tN.toString() ).DataTable().rows().data().toArray();
        return aT1;
    }    

    return ')bad';
}


// Save for combines used for various saves 07oct20
function tableHunkCombineForHere( aKw, arg1, somePayload )
{
  // Put stuff together to make saved stuff really complete

    let pS; let pick = 2;

    // Not every slot in the envelope is used, thats completely reasonable
    if( pick == 1 )
  { pS = messageSendFixerUpper( aKw, arg1, "", "", "", somePayload ); }

    // Not every slot in the envelope is used, thats completely reasonable
    if( pick == 2 )
  { pS = BoogaBooga( aKw, arg1, somePayload ); }

    // Ready for outside world, so
  let ans = JSON.stringify( pS );

    return ans;
}


// File going back to WWW query 07oct20
function BoogaBooga( aKw, arg1, somePayload  )
{
  // Called to prepare table for local storage

    // Debug
  let teoTty = true; teoTty = false;

  if( teoTty )      console.log( "Top of BoogaBooga a size: ", somePayload.length );

  // We want to do anything 'someday' so this wrapper has extra capability
  let cmdName = "yelp666";
  let a1 = "", a2 = "", a3 = "", a4 = "";
  a1maybe = "v2p0p0";                                                   // Version of something

    // Info
    if( teoTty )                console.log( "Smushing table starts" );

    // Smush the table, remove aspects of it that have no utility to us
    let smushTab = [], aKnt = 0; 
    let ky, daRow;

    for( ky in somePayload )
    {
        // Extract a next piece, there kinda numbered
    daRow =  somePayload[ ky ]; 
    if( teoTty ) console.log( "Key and row: ", ky, daRow );
        let kyN = parseInt( ky, 10 );
    if( teoTty ) console.log( "As num: ", kyN );
        // Only take umbered ones others are not sent ( forgotten )
        if( isNumber( kyN ) )                           
        { smushTab.push( daRow ); aKnt++; }
  }

    if( teoTty )    console.log( "Smushing table done", aKnt );

    let ans = messageSendFixerUpper( aKw, arg1, "", "", "", smushTab );

    return ans;
}


// Hunk saves 23apr21 #fillsavegethunks 
function SaveThisOneTable( aN, aPlace )
{
    // Hunk going to be saved in named place. That's a table and meta data of all kinds,
    // This 'save' could be local indexed db, remote server or maybe some oterh unknown
    // thing, a notebook, who knows. Its important security means some facts should not be
    // leaked through, so if a black hat intercepts, its just 'not there'. So its better to
    // Make everything almost go everywhere and be deleted, so the shaps is not permuted
    
    let stAns = "";

    // Would be really crazy, but still be carefull
    if( aN < 1 ) return;                                                                                            // >

    // Get jQuery table pointer into DataTable part from our hunk number, use it to get
    // whole table could be huge, well this is a pointer 'really', ok. 
    // This is is a jQuery DatatTables image
    let aT = jqTableDOMPtr( aN );
    let tblAllFrmjQdT = aT.rows().data();         // Includes misc facts not just data

    // Get table facts, settings etc
    let metaFacts = allHunks[ aN ];                     // Settings, etc                       

    let tableTops = gimmeTableHeadersNow( aN );         // Headers of each table column

    // Get a string of content of a table
    let actualBody = LiveTableContentToStr( aN, 'bodystring' );
    if( actualBody == [] )      { stAns = "emptynowrite"; }
    if( actualBody == "[]" )    { stAns = "emptynowrite"; }
    if( stAns != "" ) { return stAns; }                     // Can't save it, leave early

    // Final combine, decision where it goes too
    // let itsSaveable = tableHunkCombineForHere( aKind, descTable, wTable );

    // This gets a template of extensive ideas of every kind
    a1m = imaHunk;

    // Hmm assembled humanish id is given with request
    let uzId = { idthisbloke: id3.fulltoken };                    // Three parts together

    // Put real facts over defualty stuff
    a1m.justTabNum = aN;                    // Source table usually not too important 
    a1m.fromHere = 'na';                    // Contexts like IP maybe           
    a1m.somePersona = id3                   // Presumed who
    a1m.timeStamp = Date.now();             // Ok millisecond date and time
    a1m.whenZone = 'uct';                   // When locale
    a1m.hunkMeta = metaFacts                // Meta data re table Im from, fina in here usually
    a1m.someWhy = 'humclick';               // Reason human click 
    a1m.userCodes = 'nocrypto'              // No hash or crypto
    a1m.maybeMore = {};                     // Other contexts 

    // Any special save instruction
    let sI = "usual"; let hW = "";

    // Send to server could be internet likeish anywhere
    if( aPlace == 'inet' )
    { hW = SaveOneHunkServerly(); }

    // Two into local indexed store, one by hunk number the other by assigned title
    if( aPlace == 'local' )
    { hW = saveOneHunkLocally( aN, a1m, tblAllFrmjQdT, metaFacts, tableTops, actualBody, 'stub' );
           saveOneHunkLocally( aN, a1m, tblAllFrmjQdT, metaFacts, tableTops, actualBody, 'title' ); }

    return stAns;
}
let sMt= "";
var imaHunk = {};
imaHunk.justTabNum =                sMt;                    // Table number source
imaHunk.fromHere =                  sMt;                    // Contexts like IP maybe           
imaHunk.somePersona =               sMt;                    // Presumed who includes account person and ID already
imaHunk.timeStamp =                 sMt;                    // Iso number time and date
imaHunk.whenZone =                  sMt;                    // When
imaHunk.hunkMeta =                  sMt;                    // OLD hunk names and settings
imaHunk.someWhy =                   sMt;                    // How absorbed mostly in major command but still 
imaHunk.userCodes =                 sMt;                    // Possibly some crypto ish Infection 
imaHunk.maybeMore =                 sMt;                    // Other contexts if any 


// Hunk save   content starts modal show 23apr21 #fillsavegethunks 
function DOMhSaveContent( hNum )
{
    // Save content a click gets here from each hunk

    DOMgetOrSaveContent( 's', hNum );                       // Get and save share a modal 's' is save
}   


// Hunk   get  content starts modal show 25apr21 26apr21 #fillsavegethunks
function DOMhGetContent( hNum )
{
    // Get content a click gets here from each hunk

    DOMgetOrSaveContent( 'g', hNum )                        // Uses same modal 'g' is get
}


// Table get has two pieces
function tableConcatSyntaxer( tNa, daVerb )
{
    // Hey its a system, ask for namable table like entity 'this way'

    let ans = "";

    ans = tNa + "_" + daVerb.toLowerCase().trim();
    return ans;
}


// Hunk settings modal opener #domtablesetter 28apr21-A
function DOMTableSettings( hNum )
{
    // About this hunk, a modal we are given its number
        
    // Cue
    cannedAudioOut( 'bigrow2' );

    // Can change, so rewrite it evertime into visible modal
    let aM = "Table Settings"; aM = "Settings for this table";
    $('#moethreesee1').text( aM );
    
    // Needed all over, this is a number of the hunk that is of interest to the human now
    hunkNumberNow = hNum;                      // Sometime intentionally zeroed if unsure
        
    // Do open           Left Top Width Height
    let fussyPlacement = [ 9, -13, 50, 40 ];
    DOMopenModal( 'mwm_hunkbasics', fussyPlacement );

    // Show official values on it
    DOMfillHUNKmodalNowFacts();
}


// Test
function tp() 
{
        //let uzeC = $("#url3");
        //uzeC.css('background-color', 'blue');
        //let aUrl = "https://embed.molview.org/v1/?mode=balls&cid=1099";
        //aUrl ="https://embed.molview.org/v1/z0";
        //uzeC.css('href',aUrl);
        //uzeC.css('background-color', 'yellow');

        let newUrl = "https://embed.molview.org/v1/?mode=balls&cid=1099";
        $('#urlt3').attr("href", newUrl)
}


// Setup to make modal function 
function InitModalBasics() 
{
    // Modal box(es) need love to get started up    

    // Ref the button that opens the modal 29jul20
    var btnYup = document.getElementById( 'btnsa' );

    // When the user clicks the button, open the modal, change content sometimes
    btnYup.onclick = function() {
        DOMopenModal("mwm_atoms");
        $("#moeinfoline1").text(modalIdeas.topLineSays);
        $("#moeinfoline2").text(modalIdeas.secondLineSays);
    }

    // Update
    $('#btnmorecontext').click(function() {
        modalIdeas.topLineSays = "Trazodone Hydrochloride";
        modalIdeas.secondLineSays = "From list [T1]";
        DOMmoleculeReshower();
    })

// Special file get button 22jul20
$('#bfid').click( function(){
    cannedAudioOut( 'bigrow1' );
});

// Tests
$('#btn1000').click(function() {
    ttsSpeech( 'ilg' );
    //SetModalDisplayable('CID 1000', 'helper 1000', 'thing 3', 'thing4')
});

$('#btndoxfermore2').click(function() {
    ModalMiniInfoMore2();
});

$('#modnamedo3').click(function() {
    DOMcloserHUNK( 'applybtn' );
});
$('#btndoxfermore3').click(function() {
    ModalMiniInfoMore3();
});
$('#modnameclr3').click(function() {
    clearTextEntry('modlocalname3');
});

$('#modsetclr3').click(function() {
    clearTextEntry('modservername3');
});

$('#btndoxfermore4').click(function() {
    ModalMiniInfoMore4();
});

$('#btndoxfermore5').click(function() {
    ModalMiniInfoMore5();
});

$('#modnameclr6').click(function() {
    clearTextEntry('modnamequest6');
});
$('#modalbtndoit6').click(function() {
    DOMforDoItorAnySaveClose( ')btndoit' );
});
$('#modalbtndoit6altcmd').click(function() {
    DOMforDoItorAnySaveClose( ')btndoitoneof' );
});

    
    $('#btmSeePlace').click(function() {
        seePlacematsSerially();
    });

    $('#btnAlpha').click(function() {
        TestAlpha('a', 'aa', 'aaa');
    });

    $('#btnBeta').click(function() {
        TestBeta('a', 'aa', 'aaa');
    });

    $('#btnCharlie').click(function() {
       getTableUsual( 'placematsets', ')localplacemat' );
    });

    $('#btnDelta').click(function() {
        DOMremDivContent( 'writablefour' );
        DOMcloseModal( 'mwm_picker1' );
    });

    $('#btnEcho').click(function() {
        TestEcho();
    });

    // Test
    $('#btnT1014').click(function() {
        fghdfjhjkjk();
    });

    // Setup when clicks anywhere outside of the modal, close it
  // This is a loose exe on startup called piece but turned off anyway
    if( false )
    {
        window.onclick = function(event) {

            // Ref the modal window
            var modalShowing = document.getElementById("mwm_atoms");
            if (event.target == modalShowing) {
                DOMcloseModal("mwm_atoms");
            }
        }
    }
}


// Remove all div contents by div name 19jul20
function DOMremDivContent( nDi )
{
    $('#'+ nDi).empty();
}


// Open a named modal 28apr21-A #fillsavegethunks
function DOMopenModal( modalDivId, placeAndSize ) 
{
    // Open modal, can have optional size

    // Not required, Can be changed from elsewhere or already be an ok size
    if( placeAndSize != undefined )  { SetPositionPercent( modalDivId, placeAndSize ); }

    // Set initial 'sort of' whole backdrop, can be translucent 
    // uses Rgb 0 to 255
    let opStart = 88;                                               // Opacity percent 100 is opaque
    opStart = 95;
    let stateAndColor = {  r: 81, g: 82, b: 83, o: opStart, mtask: 'open', 
        mstate: 'open', nam: modalDivId };

    // Place that starting look on what will be the modal
    modalSetVisibles( stateAndColor );
}


// Just a modal close with some common   fx   effect #domfancycloser
function DOMlittleFancierModalCloser( aNa )
{
    // Ok for usual stuff, a fade usually

    let dFx = 'fadeusual';
    DOMcloseModal( aNa, dFx );
}


// Close a named modal 21mar20
function DOMcloseModal( modalDivId, fxE ) 
{
    // Make not visible, no other actions here except audio
    // Can have some spiffy named effect   fx   yea

    // Audio cue unless its speaking !
    if( spOrCue != 's' )
    {   cannedAudioOut( 'closemodal' ); spOrCue = ""; }

    let stateAndColor = {  r: 81, b: 82, g: 83, o: 81, mtask: 'close', 
                           mstate: 'close', nam: modalDivId };
        
    // Just close it, no effect
    if( fxE == undefined ) { modalSetVisibles( stateAndColor ); return; }
    
    // Some effect(s) it seems, could involve audio too maybe 
    DOMcloseHelper( stateAndColor, fxE );
}


// Closing modals, Im a DOM helper 23jul20
function DOMcloseHelper( namM, nProcess )
{
    // Close with other ways then just shut modal

  // The way to doit is a   task   you see and we are changing now 
    namM.mtask = nProcess;
  namM.mstate = "changing"; 
    
    // Name od main control
    modStat = namM;                                     // This variable is global for this 

  // This function will call itself usually until its happy with results
  let firstDelrt = 50;                          // In ms
    setTimeout( realTimeModalFxDoer, firstDelrt );
}
var modStat;


// Various real time Modal Things 23jul20
function realTimeModalFxDoer()
{
    // Real time

    // Be careful if work is not speced, dont do stuff and don't retrigger
    if( modStat.mtask == "" )   return;
    if( modStat.mstate == "" )  return;

    // We decide when we are done and don't refire outself
   let loopMore = true;
    let reTrigMs = 50, opaqLo = 20;
        
  if( modStat.mtask == 'fadeusual' ) 
  { 
        modStat.o = modStat.o - 3;                          // Effects
        reTrigMs = reTrigMs * 0.375;                        // Stuff
  }

  
  if( modStat.o > opaqLo )   { modalSetVisibles( modStat ); }
  else
  { 
        loopMore = false; modStat.o = "0"; modStat.mstate = 'close'; 
    modalSetVisibles( modStat ); modStat.mtask = ""; modStat.mstate = "";
        loopMore = false;
    }

  if( loopMore )
  { setTimeout( realTimeModalFxDoer, reTrigMs ); }
}


// Make color and transparency nalues for Css 23jul20
function compose_rgba( rr, gg, bb, ss )
{
        // RGB is 0 to 255 and opacity is 0 to 100

        let aN = ss / 100;
        let ssUz = aN.toString();
        if( aN < 0 ) ssUx = "0";
        if( aN > 1 ) ssUz = "1";

        let ans;
        let cs = ", ";
        ans = 'rgba(' + rr + cs;
        ans += gg + cs;
        ans += bb + cs;
        ans += ssUz + ')';

        return ans;
}

// Here we further apply modal desired look to visible thing, colors location width whatever
function modalSetVisibles( sho )
{
    // Setting a modal look

    // Make easy to get at using real JS
    let namedMoSpa = document.getElementById( sho.nam ); 
        
    // We can get fancy there are facts needed for that
    let dFacts = aModalLookup( sho.nam ); let nn = dFacts[ 'num' ];
        
    // Changing this makes it 'open' to old timers, ( like me ? ) it is visible now ...
    let t = sho.mstate;
    if( t == 'open')  { namedMoSpa.style.display = "block"; }
    if( t == 'close') { namedMoSpa.style.display = "none";  }

    // Set color and transp, name of sub div is derived
    // The div has a name exactly like this expectation
    let deD = document.getElementById( 'imo' + nn );

    // The RGBa keyword can be dropped into JS commands for colors
    let cSpec = compose_rgba( sho.r, sho.g, sho.b, sho.o );
    deD.style.backgroundColor = cSpec;
}


// Show hide processor for window hunk pieces 30aug20
function winShowHide( hunkNum, toThis )
{
        // Work with one of them told what to show

        // Debug
    let wiTty = false; 
        
        let seeIt;

        // Debug 30aug20
        let superIgnoreWsh = false;
        if( superIgnoreWsh )                        return;

    // Ready to to DOM and remeber
    let ds = false; if( toThis == 'hide' ) { ds = true; sWin[ hunkNum - 1 ] = 'h'; }
                      if( toThis == 'show' ) { ds = false; sWin[ hunkNum - 1 ] = 's'; }
  
    // Find piece to manip buttons first
        if( wiTty )                                                                             console.log('herbert 1');
        let b1 = '#configoval' + hunkNum + ' button';
        seeIt = document.querySelectorAll( b1 );

        // Debug        
        if( wiTty )                                                                             console.log('nerbert 2');
        
        for( let i = 0; i < seeIt.length; i++ )                             // >
        {
        // We know which buttons to change by class
      let cN = seeIt[ i ].className, iDee = seeIt[ i ].id;
        if( isThisInThere( 'largestuff', cN ) )
        {
            seeIt[ i ].hidden = ds;
        }
    }

    // Find piece to manip select next
        let s1 = '#configoval' + hunkNum + ' select';
        seeIt = document.querySelectorAll( s1 );
        for( let i = 0; i < seeIt.length; i++ )                             // >
        {
        // We know which select tag to change by class
      let cN = seeIt[ i ].className, iDee = seeIt[ i ].id;
        if( isThisInThere( 'largestuff', cN ) )
        {
            seeIt[ i ].hidden = ds;
        }
    }

        // Find piece to manip span next
        let n1 = '#configoval' + hunkNum + ' span';
        seeIt = document.querySelectorAll( n1 );
        for( let i = 0; i < seeIt.length; i++ )                             // >
        {
        // We know which to change by class
      let cN = seeIt[ i ].className, iDee = seeIt[ i ].id;
        if( isThisInThere( 'cmdtitle', cN ) )
        {
            if( ds )    seeIt[ i ].style.display = "none";
            if( !ds )   seeIt[ i ].style.display = "inline-block";

        }
    }

        // And divs do a lot
    b1 = '#configoval' + hunkNum + ' div';
        seeIt = document.querySelectorAll(b1);
    
        // Debug
        if( wiTty ) console.log( 'PIECE2div ', seeIt );
    
        // Look thru divs
        for( let i = 0; i < seeIt.length; i++ )                                      //>
        {
        let cN = seeIt[ i ].className, iDee = seeIt[ i ].id;
        {
        // Leave title alone
            if( cN != 'dialogwelike' ) { seeIt[ i ].hidden = ds; }
        }
    }
}
</script>

<script id=REALTIMERS>

// A test function 07apr21
function just2p2()
{
    // Play with super real time add ins

    let aN = 2;
    let a = aN + 2;

    alert( "Its: " + a.toString() );
}
</script>


<body onload='ImLoaded()'>
    <div id=testcontainer></div>
    <!-- Test phrase Shiela is my dog she eats everyday. -->
    <br>
    <!--
            <div class="wy-grid-for-nav">
            <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
            <div class="wy-side-nav-search">
                <a href=".." class="icon icon-home"> Targeting COVID-19 Portal</a>
            </div>
            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul class="current">
                    <li class="toctree-l1">
                        <a class="" href="..">Home</a>
                    </li>
                    <li class="toctree-l1 current">
                        <a class="current" href="./">COVID-19 Worldwide Clinical Trials</a>
                        <ul class="subnav">
                            <li class="toctree-l2"><a href="#current-worldwide-clinical-trials-on-covid-19">Current worldwide clinical trials on COVID-19</a></li>
                            <li class="toctree-l2"><a href="#analysis-of-clinical-trial-data">Analysis of Clinical Trial Data</a></li>
                            <li class="toctree-l2"><a href="#selected-drug-information-of-current-ongoing-clinical-studies-on-covid-19">Selected Drug information of current ongoing clinical studies on COVID-19</a></li>
                        </ul>
                    </li>
                    <li class="toctree-l1">
                        <a class="" href="../preclinical/">COVID-19 Worldwide Preclinical Studies</a>
                    </li>
                    <li class="toctree-l1">
                        <a class="" href="../research_progress/">COVID-19 Worldwide Publications</a>
                    </li>
                    <li class="toctree-l1">
                        <a class="" href="../Data_analytics/">COVID-19 GHDDI Data Analytics</a>
                    </li>
                    <li class="toctree-l1">
                        <a class="" href="../nCov_Structures/">COVID-19 GHDDI Structure modeling</a>
                    </li>
                    <li class="toctree-l1">
                        <a class="" href="../computational/">COVID-19 GHDDI Computational Studies</a>
                    </li>
                    <li class="toctree-l1">
                        <a class="" href="../ghddi_news/">COVID-19 GHDDI News</a>
                    </li>
                    <li class="toctree-l1">
                        <a class="" href="../contact_us/">COVID-19 Discussion</a>
                    </li>
                    <li class="toctree-l1">
                        <a class="" href="../useful_links/">COVID-19 Useful Links</a>
                    </li>
                    <li class="toctree-l1">
                        <span class="caption-text">Literature Review and Data Download</span>
                        <ul class="subnav">
                            <li class="">
                                <a class="" href="../CoV_Experiment_Data/">Coronavirus Data Download</a>
                            </li>
                            <li class="">
                                <a class="" href="../nCov_Targets/">Coronavirus Potential Therapeutics Review</a>
                            </li>
                            <li class="">
                                <a class="" href="../review_paper/">Coronavirus Review Articles</a>
                            </li>
                        </ul>
                    </li>
                    <li class="toctree-l1">
                        <a class="" href="../history/">Github History</a>
                    </li>
                </ul>
            </div>
            &nbsp;
            </nav>
            <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
            <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
                <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
                <a href="..">Targeting COVID-19 Portal</a>
            </nav>
            <div class="wy-nav-content">
                <div class="rst-content">
                    <div role="navigation" aria-label="breadcrumbs navigation">
                        <ul class="wy-breadcrumbs">
                            <li><a href="..">Docs</a> &raquo;</li>
                            <li>COVID-19 Worldwide Clinical Trials</li>
                            <li class="wy-breadcrumbs-aside">
                            </li>
                        </ul>
                        <hr/>
                    </div>
                    <div role="main">
                        <div class="section">
                            <h2 id="current-worldwide-clinical-trials-on-covid-19">Current worldwide clinical trials on COVID-19</h2>
                            <p><a href="https://dimensions.ai">dimensions.ai</a> provides a <a href="https://docs.google.com/spreadsheets/d/1-kTZJZ1GAhJ2m4GAIhw1ZdlgO46JpvX0ZQa232VWRmw/edit#gid=1410737911">daily updated list</a> of clinical trials for COVID-19. </p>
                            <h2 id="analysis-of-clinical-trial-data">Analysis of Clinical Trial Data</h2>
                            <p>Using <a href="https://dimensions.ai">dimensions.ai</a> service and simple NLP scripts, the following figures show the distribution of COVID-19 clinical trials around the world and the different types of trials. The statistics will be updated daily. </p>
                            <p><img alt="countries" src="http://ghddiai.oss-cn-zhangjiakou.aliyuncs.com/file/figure_countries.png" /></p>
                            <p><img alt="types_of_trials" src="http://ghddiai.oss-cn-zhangjiakou.aliyuncs.com/file/figure_types.png" /></p>
                            <p>Similarily, using the same data, a preliminary small molecule treatment list with clinical trial counts was automatically generated using relevant key words. This list is only an estimate and will be updated weekly.</p>
                            <p><a href="http://ghddiai.oss-cn-zhangjiakou.aliyuncs.com/file/druglist.csv">Download Treatment list</a></p>
                            <p><img alt="therapeutics_trials" src="http://ghddiai.oss-cn-zhangjiakou.aliyuncs.com/file/figure_drugs_treatment.png" /></p>
                            <h2 id="selected-drug-information-of-current-ongoing-clinical-studies-on-covid-19">Selected Drug information of current ongoing clinical studies on COVID-19</h2>
                            <p>The information below is collected from recent research articles, news articles, or clinical reports of COVID-19 studies contributed from various research groups worldwide. The source links or full article download are provided to facilitate your own investigation and research on these molecules. </p>
                
                
                                    <hr />
                            <p>Last update: May 6, 2019</p>
                            <p><br></p>
                            <p><br></p>
                            <p><br></p>
                            <p>Your <a href="https://github.com/GHDDI-AILab/Targeting2019-nCoV/issues"><strong>feedback</strong></a> is highly appreciated.</p>
                        </div>
                    </div>
                    <footer>
                        <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
                            <a href="../preclinical/" class="btn btn-neutral float-right" title="COVID-19 Worldwide Preclinical Studies">Next <span class="icon icon-circle-arrow-right"></span></a>
                            <a href=".." class="btn btn-neutral" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
                        </div>
                        <hr/>
                        <div role="contentinfo">
                        </div>
                        Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
                    </footer>
                </div>
            </div>
            </section>
            </div>
            -->
    <!--
            <div class="rst-versions" role="note" style="cursor: pointer">
                <span class="rst-current-version" data-toggle="rst-current-version">
                <span><a href=".." style="color: #fcfcfc;">&laquo; Previous</a></span>
                <span style="margin-left: 15px"><a href="../preclinical/" style="color: #fcfcfc">Next &raquo;</a></span>
                </span>
            </div>
            <script>var base_url = '..';</script>
            <script src="theme.js" defer></script>
            <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
            -->
    <!-- ******************************************************** -->
    <!-- MASTHEAD                                                                                                   -->
    <!-- ******************************************************** -->
    <div id=mastheadfatdunno class=z0radiusused1 style="z0Clear: both; Display: block; 
            Background:#console.log( z;">
        <img id=mastheadimg src=masthead.png>
    </div>

    <!-- ******************************************************** -->
    <!-- NAVIGATION OVAL                                                                                     -->
    <!-- ******************************************************** -->
    <div id=navswitchboard class=usualtableframer1>
        <div class=dialogwelike></div>
        <div style="font-size: 90%; font-weight: bold; border-style: solid;
                 padding: 2px 2px 2px 9px; margin-left: 10px; 
                 margin-right: 10px; border-color: black; margin-bottom: -7px;
                 ">&nbsp 
                 <span id=tl1></span> 
                 <span id=tl2good></span><span id=tl2ok></span><span id=tl2bad>
                 </span><span id=tl3></span></div>
                <br class=teenyverticalspace>&nbsp
                <div style="display: flex;">
                    <button id=btnoa class=largestuff onclick="DOMButtonFlashMsgCannedDoIt( 100 + 1 )">OPEN all</button>
                    <button id=btnca class=largestuff onclick="DOMButtonFlashMsgCannedDoIt( 100 + 2 )">CLOSE all</button>
                    <button id=btnps class=largestuff onclick="DOMButtonFlashMsgCannedDoIt( 100 + 3 )">PREP Server</button>
                    <button id=btnss class=largestuff>SEE system</button>
                    <button id=btnui class=topstuff>USE Id</button>
                    <button id=btnci class=topstuff>C</button>
                    <input id=ippd3d class=largestuffbinp></input>
                </div>
                <div style="display: flex;">
                    <button id=btnsa  class=largestuff>See Atoms</button>
                    <button id=btnbl2 class=largestuff>Pull Fav for Me</button>
                    <button id=btnbl3 class=largestuff>bl 3</button>
                    <button id=btnver class=largestuff>Version(s)</button>
                    <button id=btnbl5 class=largestuff>Cleanup toggle</button>
                    <button id=btnbl6 class=largestuff>Sound toggle</button>
                </div>  
        </div>  

    <!---->
    <!-- ******************************************************** -->
    <!-- TABLE MODULE HUNK 9                                                                            -->
    <!-- ******************************************************** -->
    <div id=configoval9 class=usualtableframer1>
        <hr>
        <div class=dialogwelike>
            <h2  id=wellarea9 class=ovaltoplinetouchup>Idea Workspace
                <button id=toggler9 class=controlbutton onclick="DOMtoggleHUNKhideShow(9);">
                    Open / Close</button>
            </h2>
        </div>
        
        <div id=table9sidemenu>
            <div class=hrmarg>  
                <button id=rfirst>First</button>
                <button id=rprevious>Previous</button>
                <button id=rnext>Next</button>
                <button id=rlast>Last</button>
                <button id=rselectfields>Select <b>FIELDS</b></button>
                <button id=rselectBESTtable>Pick <b>BEST</b> target</button>
                <button id=rfillBESTtable>Fill <b>BEST</b> target</button>
                <button id=rreview>Review</button>
                <button id=rmore>MORE</button>
            </div>
            <div id=divtextarea9 contenteditable>Text Editor panel</div>
            <div id=slidecontainer1>
                <span id=slidertitle>
                       SUPER <br> browse:</span>
            <input id=sliderthing type="range" min="0" max="1000000">
                <div><button id=sliderbutton>Change click touch</button></div>
            </div>
            <br class=teenyverticalspace><br>
            <label id=bfid for="filedowndoer">Get file</label>
            <button id=btnarea9text     class=largestuff>Text</button>
            <button id=btnarea9video    class=largestuff>Video</button>
            <button id=btnarea9open     class=largestuff>Open</button>
            <button id=btnarea9save     class=largestuff>Save</button>
            <button id=btnarea9isay     class=largestuff>I say</button>
            <input  id=filedowndoer type="file"/ onchange="getLocalFileIntoMe(this)"></input>
        </div><br>
    </div>

    <div id=areaplayer9>
        <video id=videoplayer>
            <source id="videosource" type="video/ogg" src="">
            This browser cant do video, sorry.
        </video>
    </div>

   <!---->
    <!-- ******************************************************** -->
    <!-- TABLE MODULE HUNK 1                                                                            -->
    <!-- ******************************************************** -->
    <div id=configoval1 class=usualtableframer1>
        <hr>
        <div class=dialogwelike>
            <h2 id=hunktit1 class=ovaltoplinetouchup>[ T1 ] One
                <button id=toggler1 class=controlbutton onclick="DOMtoggleHUNKhideShow(1);">
                    Open / Close</button>
            </h2>
        </div>
        <p>
        <div id=table1box>
            <table id=table1 class=proteinfacttable>
                <thead>
                    <tr>
                        <th align="center"> Field 1</th>
                        <th align="center"> Field 2</th>
                        <th align="center"> Field 3</th>
                        <th align="center"> Field 4</th>
                        <th align="center"> Field 5</th>
                        <th align="center"> Field 6</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <br class=teenyverticalspace>
        <span class=cmdtitle>Best names</span><span class=cmdtitle>Get work</span>
        <span class=cmdtitle>Fields needed</span><span class=cmdtitle>WHERE stored</span>
        <span class=cmdtitle>Edit safety</span><span class=cmdtitle>Save work</span>
        <span class=cmdtitle>Everything else</span><br>
        <button class=largestuff onclick=DOMTableSettings(1)>       Table Settings</button>
        <button class=largestuff onclick=DOMhGetContent(1)>         Get Content</button>
        <select id="fieldwidth1"  class=largestuff><option value="min">Min fields</option><option value="max">All fields</option></select>
        <select id="savewhere1"   class=largestuff><option value="local">Local</option><option value="inet">Server</option></select>
        <select id="edithere1"    class=largestuff><option value="none">No changes</option><option value="all">Editable</option></select>
        <button class=largestuff onclick=DOMhSaveContent(1)>        Save Content</button>
        <button class=largestuff onclick=DOMMoreMore(1)>            <b>More...</b></button>
        <br>
    </div>

    
    <!---->
    <!-- ******************************************************** -->
    <!-- TABLE MODULE HUNK 2                                                                            -->
    <!-- ******************************************************** -->
    <div id=configoval2 class=usualtableframer1>
        <hr>
        <div class=dialogwelike>
            <h2 id=hunktit2 class=ovaltoplinetouchup>[ T2 ] WHO - Progress regarding Compounds
                <button id=toggler2 class=controlbutton onclick="DOMtoggleHUNKhideShow(2);">
                    Open / Close</button>
            </h2>
        </div>
        <p>
        <div id=table2box>
            <table id=table2 class=proteinfacttable>
                <thead>
                    <tr>
                        <th align="center"> Field 1</th>
                        <th align="center"> Field 2</th>
                        <th align="center"> Field 3</th>
                        <th align="center"> Field 4</th>
                        <th align="center"> Field 5</th>
                        <th align="center"> Field 6</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <br class=teenyverticalspace>
        <span class=cmdtitle>Best names</span><span class=cmdtitle>Get work</span>
        <span class=cmdtitle>Fields needed</span><span class=cmdtitle>WHERE stored</span>
        <span class=cmdtitle>Edit safety</span><span class=cmdtitle>Save work</span>
        <span class=cmdtitle>Everything else</span><br>
        <button class=largestuff onclick=DOMTableSettings(2)>       Table Settings</button>
        <button class=largestuff onclick=DOMhGetContent(2)>         Get Content</button>
        <select id="fieldwidth2"  class=largestuff><option value="min">Min fields</option><option value="max">All fields</option></select>
        <select id="savewhere2"   class=largestuff><option value="local">Local</option><option value="inet">Server</option></select>
        <select id="edithere2"    onclick='cngEditSetting(2)' class=largestuff><option value="none">No changes</option><option value="all">Editable</option></select>
        <button class=largestuff onclick=DOMhSaveContent(2)>        Save Content</button>
        <button class=largestuff onclick=DOMMoreMore(2)>            <b>More...</b></button>
        <br>
    </div>

    <!---->
  <!-- ******************************************************** -->
    <!-- TABLE MODULE HUNK 3                                                                            -->
    <!-- ******************************************************** -->
    <div id=configoval3 class=usualtableframer1>
        <hr>
        <div class=dialogwelike>
            <h2  id=hunktit3 class=ovaltoplinetouchup>[ T3 ] Three
                <button id=toggler3 class=controlbutton onclick="DOMtoggleHUNKhideShow(3);">
                    Open / Close</button>
            </h2>
        </div>
        <p>
        <div id=table4box>
            <table id=table3 class=proteinfacttable>
                <thead>
                    <tr>
                        <th align="center"> Field 1</th>
                        <th align="center"> Field 2</th>
                        <th align="center"> Field 3</th>
                        <th align="center"> Field 4</th>
                        <th align="center"> Field 5</th>
                        <th align="center"> Field 6</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <br class=teenyverticalspace>
        <span class=cmdtitle>Best names</span><span class=cmdtitle>Get work</span>
        <span class=cmdtitle>Fields needed</span><span class=cmdtitle>WHERE stored</span>
        <span class=cmdtitle>Edit safety</span><span class=cmdtitle>Save work</span>
        <span class=cmdtitle>Everything else</span><br>
        <button class=largestuff onclick=DOMTableSettings(3)>       Table Settings</button>
        <button class=largestuff onclick=DOMhGetContent(3)>         Get Content</button>
        <select id="fieldwidth3"  class=largestuff><option value="min">Min fields</option><option value="max">All fields</option></select>
        <select id="savewhere3"   class=largestuff><option value="local">Local</option><option value="inet">Server</option></select>
        <select id="edithere3"    onclick='cngEditSetting(3)' class=largestuff><option value="none">No changes</option><option value="all">Editable</option></select>
        <button class=largestuff onclick=DOMhSaveContent(3)>        Save Content</button>
        <button class=largestuff onclick=DOMMoreMore(3)>            <b>More...</b></button>
        <br>
    </div>

  <!---->
  <!-- ******************************************************** -->
    <!-- TABLE MODULE HUNK 4                                                                            -->
    <!-- ******************************************************** -->
    <div id=configoval4 class=usualtableframer1>
        <hr>
        <div class=dialogwelike>
            <h2  id=hunktit4 class=ovaltoplinetouchup>[ T4 ] FILES - Bucket files in your cloud
                <button id=toggler4 class=controlbutton onclick="DOMtoggleHUNKhideShow(4);">
                    Open / Close</button>
            </h2>
        </div>
        <p>
        <div id=table4box>
            <table id=table4 class=proteinfacttable>
                <thead>
                    <tr>
                        <th align="center"> Field 1</th>
                        <th align="center"> Field 2</th>
                        <th align="center"> Field 3</th>
                        <th align="center"> Field 4</th>
                        <th align="center"> Field 5</th>
                        <th align="center"> Field 6</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <br class=teenyverticalspace>
        <span class=cmdtitle>Best names</span><span class=cmdtitle>Get work</span>
        <span class=cmdtitle>Fields needed</span><span class=cmdtitle>WHERE stored</span>
        <span class=cmdtitle>Edit safety</span><span class=cmdtitle>Save work</span>
        <span class=cmdtitle>Everything else</span><br>
        <button class=largestuff onclick=DOMTableSettings(4)>       Table Settings</button>
        <button class=largestuff onclick=DOMhGetContent(4)>         Get Content</button>
        <select id="fieldwidth4"  class=largestuff><option value="min">Min fields</option><option value="max">All fields</option></select>
        <select id="savewhere4"   class=largestuff><option value="local">Local</option><option value="inet">Server</option></select>
        <select id="edithere4"    onclick='cngEditSetting(4)' class=largestuff><option value="none">No changes</option><option value="all">Editable</option></select>
        <button class=largestuff  onclick=DOMhSaveContent(4)>       Save Content</button>
        <button class=largestuff onclick=DOMMoreMore(4)>            <b>More...</b></button>
        <br>
        </div>

    <!---->
    <!-- ******************************************************** -->
    <!-- TABLE MODULE HUNK 5                                                                            -->
    <!-- ******************************************************** -->
    <div id=configoval5 class=usualtableframer1>
        <hr>
        <div class=dialogwelike>
            <h2  id=hunktit5 class=ovaltoplinetouchup>Table 5
                <button id=toggler5 class=controlbutton onclick="DOMtoggleHUNKhideShow(5);">
                    Open / Close</button>
            </h2>
        </div>
        <p>
        <div id=table5box>
            <table id=table5 class=proteinfacttable>
                <thead>
                    <tr>
                        <th align="center"> Field 1</th>
                        <th align="center"> Field 2</th>
                        <th align="center"> Field 3</th>
                        <th align="center"> Field 4</th>
                        <th align="center"> Field 5</th>
                        <th align="center"> Field 6</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <span class=cmdtitle>Best names</span><span class=cmdtitle>Get work</span>
        <span class=cmdtitle>Fields needed</span><span class=cmdtitle>WHERE stored</span>
        <span class=cmdtitle>Edit safety</span><span class=cmdtitle>Save work</span>
        <span class=cmdtitle>Everything else</span><br>
        <button class=largestuff onclick=DOMTableSettings(5)>       Table Settings</button>
        <button class=largestuff onclick=DOMhGetContent(5)>         Get Content</button>
        <select id="fieldwidth5"  class=largestuff><option value="min">Min fields</option><option value="max">All fields</option></select>
        <select id="savewhere5"   class=largestuff><option value="local">Local</option><option value="inet">Server</option></select>
        <select id="edithere5"    onclick='cngEditSetting(5)' class=largestuff><option value="none">No changes</option><option value="all">Editable</option></select>
        <button class=largestuff onclick=DOMhSaveContent(5)>        Save Content</button>
        <button class=largestuff onclick=DOMMoreMore(5)>            <b>More...</b></button>
        <br>
        </div>

    <!---->
    <!-- ******************************************************** -->
    <!-- TABLE MODULE HUNK 6                                                                            -->
    <!-- ******************************************************** -->
    <div id=configoval6 class=usualtableframer1>
        <hr>
        <div class=dialogwelike>
            <h2  id=hunktit6 class=ovaltoplinetouchup>Table 6
                <button id=toggler6 class=controlbutton onclick="DOMtoggleHUNKhideShow(6);">
                    Open / Close</button>
            </h2>
        </div>
        <p>
        <div id=table6box>
            <table id=table6 class=proteinfacttable>
                <thead>
                    <tr>
                        <th align="center"> Field 1</th>
                        <th align="center"> Field 2</th>
                        <th align="center"> Field 3</th>
                        <th align="center"> Field 4</th>
                        <th align="center"> Field 5</th>
                        <th align="center"> Field 6</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <br class=teenyverticalspace>
        <span class=cmdtitle>Best names</span><span class=cmdtitle>Get work</span>
        <span class=cmdtitle>Fields needed</span><span class=cmdtitle>WHERE stored</span>
        <span class=cmdtitle>Edit safety</span><span class=cmdtitle>Save work</span>
        <span class=cmdtitle>Everything else</span><br>
        <button class=largestuff onclick=DOMTableSettings(6)>       Table Settings</button>
        <button class=largestuff onclick=DOMhGetContent(6)>         Get Content</button>
        <select id="fieldwidth6"  class=largestuff><option value="min">Min fields</option><option value="max">All fields</option></select>
        <select id="savewhere6"   class=largestuff><option value="local">Local</option><option value="inet">Server</option></select>
        <select id="edithere6"    onclick='cngEditSetting(6)' class=largestuff><option value="none">No changes</option><option value="all">Editable</option></select>
        <button class=largestuff onclick=DOMhSaveContent(6)>        Save Content</button>
        <button class=largestuff onclick=DOMMoreMore(6)>            <b>More...</b></button>
        <br>
    </div>

    <!---->
    <!-- ******************************************************** -->
    <!-- TABLE MODULE HUNK 7                                                                            -->
    <!-- ******************************************************** -->
    <div id=configoval7 class=usualtableframer1>
        <hr>
        <div class=dialogwelike>
            <h2  id=hunktit7 class=ovaltoplinetouchup>Table 7
                <button id=toggler7 class=controlbutton onclick="DOMtoggleHUNKhideShow(7);">
                    Open / Close</button>
            </h2>
        </div>
        <p>
        <div id=table7box>
            <table id=table7 class=proteinfacttable>
                <thead>
                    <tr>
                        <th align="center"> Field 1</th>
                        <th align="center"> Field 2</th>
                        <th align="center"> Field 3</th>
                        <th align="center"> Field 4</th>
                        <th align="center"> Field 5</th>
                        <th align="center"> Field 6</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <br class=teenyverticalspace>
        <span class=cmdtitle>Best names</span><span class=cmdtitle>Get work</span>
        <span class=cmdtitle>Fields needed</span><span class=cmdtitle>WHERE stored</span>
        <span class=cmdtitle>Edit safety</span><span class=cmdtitle>Save work</span>
        <span class=cmdtitle>Everything else</span><br>
        <button class=largestuff onclick=DOMTableSettings(7)>       Table Settings</button>
        <button class=largestuff onclick=DOMhGetContent(7)>         Get Content</button>
        <select id="fieldwidth7"  class=largestuff><option value="min">Min fields</option><option value="max">All fields</option></select>
        <select id="savewhere7"   class=largestuff><option value="local">Local</option><option value="inet">Server</option></select>
        <select id="edithere7"    onclick='cngEditSetting(7)' class=largestuff><option value="none">No changes</option><option value="all">Editable</option></select>
        <button class=largestuff onclick=DOMhSaveContent(7)>        Save Content</button>
        <button class=largestuff onclick=DOMMoreMore(7)>            <b>More...</b></button>
        <br>
    </div>

    <!---->
    <!-- ******************************************************** -->
    <!-- TABLE MODULE HUNK 8                                                                            -->
    <!-- ******************************************************** -->
    <div id=configoval8 class=usualtableframer1>
        <hr>
        <div class=dialogwelike>
            <h2  id=hunktit8 class=ovaltoplinetouchup>Table 8
                <button id=toggler8 class=controlbutton onclick="DOMtoggleHUNKhideShow(8);">
                    Open / Close</button>
            </h2>
        </div>
        <p>
        <div id=table8box>
            <table id=table8 class=proteinfacttable>
                <thead>
                    <tr>
                        <th align="center"> Field 1</th>
                        <th align="center"> Field 2</th>
                        <th align="center"> Field 3</th>
                        <th align="center"> Field 4</th>
                        <th align="center"> Field 5</th>
                        <th align="center"> Field 6</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <br class=teenyverticalspace>
        <span class=cmdtitle>Best names</span><span class=cmdtitle>Get work</span>
        <span class=cmdtitle>Fields needed</span><span class=cmdtitle>WHERE stored</span>
        <span class=cmdtitle>Edit safety</span><span class=cmdtitle>Save work</span>
        <span class=cmdtitle>Everything else</span><br>
        <button class=largestuff onclick=DOMTableSettings(8)>       Table Settings</button>
        <button class=largestuff onclick=DOMhGetContent(8)>         Get Content</button>
        <select id="fieldwidth8"  class=largestuff><option value="min">Min fields</option><option value="max">All fields</option></select>
        <select id="savewhere8"   class=largestuff><option value="local">Local</option><option value="inet">Server</option></select>
        <select id="edithere8"    onclick='cngEditSetting(8)' class=largestuff><option value="none">No changes</option><option value="all">Editable</option></select>
        <button class=largestuff onclick=DOMhSaveContent(8)>        Save Content</button>
        <button class=largestuff onclick=DOMMoreMore(8)>            <b>More...</b></button>
        <br>
    </div>

    <!---->
    <!-- Insert are for REACT testing deployment, maybe not critical use too-->
    <div id=reactsandbox1></div><div id=reactsandbox2></div><div id=reactsandbox3></div>
    <div id=reactsandbox4></div><div id=reactsandbox5></div><div id=reactsandbox6></div>
    <div id=reactsandbox7></div><div id=reactsandbox8></div><div id=reactsandbox9></div>

  <!-- Modals live around here   Modals start here   Modals area   BIGMARK -->
    
    <!-- Modals defined here the showy parts -->
    <!-- The Modal for atoms MODAL CONCEPT 1 -->
    <div id="mwm_atoms" class="somemodalwindow">

        <!-- Modal content itself -->
        <div id=imo1 class="mycontentouterdivclass">
            <span id=modalclose1 class="modalcloseclicker">[&times] &nbsp Close</span>
            <button id=btndoscience>Do Science</button>
            <button id=btnmorecontext>More Context</button><br>
            <span id=moeinfoline1>This is an important title</span>
            <span id=moeinfoline2>Less important support idea</span></br>
            <iframe id=moleculevieweriframe name=t1 scrolling="no" frameborder="1">
            </iframe>
        </div>
    </div>


    <!-- The Modal for xfers MODAL CONCEPT 2 -->
    <div id="mwm_flash" class="somemodalwindow">

        <!-- Modal content itself -->
        <div id=imo2 class=mycontentouterdivclass>
            <button                              id=btndoxfermore2>More</button>
            <span     id=modalclose2 class=modalcloseclicker>[&times] &nbsp Close</span>
            <br><span id=moetwosee1  class=modalimportant>one</span><br>&nbsp
            <span     id=moetwosee2 class=modalordinary>two</span></br>
        </div>
    </div>

    
    <!-- The Modal for hunks settings that are local to the local instance MODAL CONCEPT 3 -->
    <div id="mwm_hunkbasics" class="somemodalwindow">

        <!-- Modal content itself -->
        <div id=imo3 class="mycontentouterdivclass">
            <button id=btndoxfermore3>More</button>
            <span id=modalclose3 class="modalcloseclicker">[&times] &nbsp Close</span>
            <br><span id=moethreesee1 class=modalimportant></span><br>&nbsp
            <span id=moethreesee2 class=modalordinary>Every table has its own settings ...</span></br>
            <input type=checkbox id=chkhunkappendin3>Append, (&nbsp Not replace &nbsp) contents</input><br>
            <input type=checkbox id=chkhunkclearin3>Clear, (&nbsp Table will be empty &nbsp)</input><br>
            Local Title, (&nbsp just for your screen -  Not server name &nbsp):<br>
            <input id=modlocalname3 type=text></input>
            <button id=modnameclr3>C</button><br>
            Server Title, (&nbsp Usually named for other users to understand &nbsp):<br>
            <input id=modservername3 type=text></input>
            <button id=modsetclr3>C</button><br>
            <button id=modalexport3 class=cutelittlebutedge style="display: none">Export</button>
            <button id=modalset3 class=cutelittlebut style="display: none">Set</button>
            <button id=modnamedo3>Apply</button></span>
            <br>&nbsp
        </div>
    </div>


    <!-- The Modal for building lists MODAL CONCEPT 4 #modalmiddleforms -->
    <div id="mwm_picker1" class="somemodalwindow">

        <!-- Modal content itself -->
        <div id=imo4 class="mycontentouterdivclass">
            <button     id=btndoxfermore4   class=innerboxnotshowing>More</button>
            <span       id=modalclose4      class=modalcloseclicker>[&times] &nbsp Close</span><br>
            <span       id=moefoursee1qq    class=modalordinary></span></br>
            <div        id=writablefour     class=innerboxofbuttons></div>
            <button     id=modalbtndoit4    class=innerboxnotshowing>Proceed</button></span>
            <br>&nbsp
        </div>
    </div>

    <!-- The Modal for splash MODAL CONCEPT 5 -->
    <div id="mwm_splash" class="somemodalwindow">

        <!-- Modal content itself -->
        <div id=imo5 class="mycontentouterdivclass">
            <button id=btndoxfermore5>More</button>
            <span id=modalclose5 class="modalcloseclicker">[&times] &nbsp Close</span>
            <div id=writablefive class=splashyboxofbuttons>
                <div id=bg5>
                    <span id=topl5>Intervention Workshop</span><br>
                    <span id=fromwho5><span id=from5>From:</span><span id=who5>&nbsp Local_user</span></span><br>
                    <span id=xline5>Greetings !</span><br>&nbsp
                    <hr id=hlabove5>
                    <span id=htmlinsert5>=tbd=</span>
                    <hr id=hlbelow5>
                    </div>
                </div>
                <button id=splashfirst class=widestuff style="width: 190px">Greeting Page</button>
                <button id=splashnext class=widestuff style="width: 190px">Next Page</button>
                <button id=splashclose class=widestuff style="width: 190px">Close</button>
        </div>
    </div>


    <!-- The Modal for hunks settings that are shared with the server CONCEPT 6 -->
    <div id="mwm_server" class="somemodalwindow">

        <!-- Modal content itself -->
        <div id=imo6                                class=mycontentouterdivclass>
            <button     id=btndoxfermore6>More</button>
            <span       id=modalclose6              class=modalcloseclicker>[&times] &nbsp Close</span>
            <br><span   id=moetopsee1               class=modalimportant></span><br>&nbsp
            <span       id=moetopsee2               class=modalimportant>Every TABLE has its own settings ...</span></br>
            <input type=checkbox id=chkhunkappendin6>-tbd-</input><br>
            <input type=checkbox id=chkhunkclearin6 >-tbd-</input><br>
            <br>Local title, ( &nbsp Local one and SYSTEM one can differ ):<br>
            <input      id=modnamequest6 type=text style="width: 270px; margin-top: 9px;"></input>
            <button     id=modnameclr6 style="width: 40px; margin-left: 7px;" >C</button><br>
            <br>
            <button     id=modsetclr6 style="width: 40px; margin-left: 7px; display: none">C</button><br>
            <button     id=modalexport6             class=cutelittlebutedge style="display: none">reserved1</button>
            <button     id=modalset6                class=cutelittlebut     style="display: none">reserved2</button>
            <button     id=modalbtndoit6altcmd>Ignore naming - Give me the most current one</button>    
            <span style="float: right">
            <button     id=modalbtndoit6>Do it</button></span>
            <br>&nbsp
        </div>
    </div>


    <!-- The Modal for sequential updates MODAL CONCEPT 7 -->
    <div id="mwm_sequpdate" class="somemodalwindow">

        <!-- Modal content itself -->
        <div id=imo7 class="mycontentouterdivclass">
            <button id=btndoxfermore8>More</button>
            <span id=modalclose7 class="modalcloseclicker">[&times] &nbsp Close</span>
            <span id=modseqsee1 class=modalimportant>Progress</span></br>
            <div id=slidecontainer2>
                <span id=slidertitleprog>
                       Percent:</span>
            <input id=sliderprog type="range" min="0" max="100">
            </div>
                    <span style="float: right">
            <button id=modalbtndoit7 class=cutelittlebut
                    style="font-weight: bold">Do it</button></span>
        </div>
    </div>

    <!-- The Modal for building lists MODAL CONCEPT 8 #modalnearendforms -->
        <div id="mwm_picker2" class="somemodalwindow">

        <!-- Modal content itself -->
        <div id=imo8 class="mycontentouterdivclass">
            <button     id=btndoxfermore8           style="display:none">More</button>
            <span       id=modalclose8          class="modalcloseclicker">[&times] &nbsp Close</span><br>
            <span       id=moeeightsee1qq       class=modalordinary></span></br>
            <div        id=writableeight        class=innerboxofbuttons></div>
            <br>
            <button     id=modalbtndoit8        class=innerboxcommand>Proceed</button>
            <button     id=modalbtndoitmore8    class=innerboxcommand style="width: 170px;">Proceed with ISAY</button>
            <br>&nbsp
        </div>
    </div>
    
    <!-- The Modal for splash MODAL CONCEPT 9 -->
    <div id="mwm_sreference" class="somemodalwindow" style="display: none" >

        <!-- Modal content itself -->
        <div id=imo9 class="mycontentouterdivclass">
            <button id=btndoxfermore9>More</button>
            <span id=modalclose9 class="modalcloseclicker">[&times] &nbsp Close</span>
            <span id=moeninesee1 class=modalimportant>Niner one</span></br>
            <span id=moeninesee2 class=modalordinary>Niner two</span></br>
            <div id=writablenine class=innerboxofbuttons>Im in the div Niner</div>
            
        </div>
    </div>

    <!-- The Modal that is REACT programmable -->
    <div id="mwm_react" class="somemodalwindow">

        <!-- Modal content itself -->
        <div id=imoREACT                                class=mycontentouterdivclass>
            <button     id=btndoxfermoreR>More</button>
            <span       id=modalcloseR              class=modalcloseclicker>[&times] &nbsp Close</span>
            <br><span   id=moeREACTsee1               class=modalimportant></span><br>&nbsp
            <span       id=moeREACTsee2               class=modalimportant>Every TABLE has its own settings ...</span></br>
            <input type=checkbox id=chkhunkappendinR>-tbd-</input><br>
            <input type=checkbox id=chkhunkclearinR >-tbd-</input><br>
            <br>Local title, ( &nbsp Local one and SYSTEM one can differ ):<br>
            <input      id=modnamequestR type=text style="width: 270px; margin-top: 9px;"></input>
            <button     id=modnameclrR style="width: 40px; margin-left: 7px;" >C</button><br>
            <br>
            <button     id=modsetclrR style="width: 40px; margin-left: 7px; display: none">C</button><br>
            <button     id=modalexportR             class=cutelittlebutedge style="display: none">reserved1</button>
            <button     id=modalsetR                class=cutelittlebut     style="display: none">reserved2</button>
            <button     id=modalbtndoitRaltcmd>                           Ignore naming stuff - Give me the most current one</button>    
            <span style="float: right">
            <button     id=modalbtndoitR>Do it</button></span>
            <br>&nbsp
        </div>
    </div>













<!-- Testing clickables of all sorts   BIGMARK -->
<br>
<div id=devclicks>
    <br /><button id=blech1>blech test 1 - CURRENT HOT THING TO FIGURE OUT</button><br />
    <button id=preptabletoupload>Prepare table to upload</button>
    <button id=modalFo4>open modal 4</button>
    <button id=racoon>Pack table 8 test</button>
    <button id=walrus>WALRUS</button>
    <button id=mod7test>Modal 7 test</button><br />
    
    <button id=btn1000>TTS</button>
    <button id=btmSeePlace>Startup testing 24jul20</button>
    <button id=btnAlpha>fixed fact to local db</button>
    <button id=btnBeta>copy db fact to buffer</button>
    <button id=btnCharlie><b>SEND placemat REQ</b></button>
    <button id=btnDelta>close modal 4</button>><br />
   
    <button id=testtablepokein>Inner table 3 previous poke in</button><br />
    <button id=blech2>blech test 2 - Work with JQ of tables</button>
    <button id=blech3>blech test 3 - Table 2 to table 3 copy</button>
    <button id=blech4>blech test 4 - Add lines to a table</button>
    <button id=blech5>blech test 5 - Hunk aka table filling</button>
    <button id=blech6>blech test 6 - Make empty start up kit</button>
    <button id=blech7>blech test 7 - Paired change key content</button>
    <button id=blech8>blech test 8 - Load table 3 from various states</button>
    <button id=blech9>blech test 9 - Date and time</button>
    <button id=blech10>blech test 10 - Write better table</button>
    <button id=blech11>blech test 11 - Present REACT test object</button>
    <button id=blech12>blech test 12 - Url test gets</button>
    <button id=blech13>blech test 13 - Heads up modal</button>
    <button id=blech14>blech test 14 - IFRAME modal</button>
    <button id=blech15>blech test 15 - Look thru DB for multiple tables per hunk</button>
    <button id=blech16>blech test 16 - Show modal lists that look nice</button>
    <button id=blech17>blech test 17 - Prepare lists for REACT of hunk names</button>
    <br>

    
    <a id=urlt1 class=seeurl href="https://embed.molview.org/v1/?mode=balls&cid=1001" target=t1>ONE</a>
    <a id=urlt2 class=seeurl href="https://embed.molview.org/v1/?mode=balls&cid=56652" target=t1>TWO</a>
    <a id=urlt3 class=seeurl href="https://embed.molview.org/v1/?mode=balls&cid=1002" target=t1>THREE</a>


<hr>
<span>https://www.collabovid.org/search?query=amoxapine&sorted_by=top</span>
<a href="https://www.collabovid.org/search?query=amoxapine&sorted_by=top"
   class=seeurl       target="_blank"            >GO amoxapine </a>
<hr>

<div style="display: none;">
  <input id=anextraslideything type="range" min="1" max="100" value="50" style="width: 800px;">
</div>

    <div class=rawfactcontrols>
        <button onclick="rawFactRecMotion('rr')">Rawer record</button>
        <button onclick="rawFactRecMotion('cf')">Click thru fields</button>
    </div>

    <div id=explainer9></div>

</div>

<audio controls id=audiooutctrl>
  <source id="audiooutfile" src=""></source>
Your browser does not support the
        <code>audio</code> element
</audio>
<div id="result"> Variable usage answers here</div>
<table id="myTable8" border="1" style="border-collapse: collapse;" cellpadding="8">
    <!--1st ROW-->
    <tr>
        <td>row 1, col 1</td>
        <td>row 1, col 2</td>
        <td>row 1, col 3</td>
        <td>row 1, col 4</td>
        <td>row 1, col 5</td>
    </tr>

    <!--2nd ROW-->
    <tr>
        <td>row 2, col 1</td>
        <td>row 2, col 2</td>
        <td>row 2, col 3</td>
        <td>row 2, col 4</td>
        <td>row 2, col 5</td>
    </tr>

    <!--3rd ROW-->
    <tr>
        <td>row 3, col 1</td>
        <td>row 3, col 2</td>
        <td>row 3, col 3</td>
        <td>row 3, col 4</td>
        <td>row 3, col 5</td>
    </tr>

    <!--4th ROW-->
    <tr>
        <td>row 4, col 1</td>
        <td>row 4, col 2</td>
        <td>row 4, col 3</td>
        <td>row 4, col 4</td>
        <td>row 4, col 5</td>
    </tr>

    <!--5th ROW-->
    <tr>
        <td>row 5, col 1</td>
        <td>row 5, col 2</td>
        <td>row 5, col 3</td>
        <td>row 5, col 4</td>
        <td>row 5, col 5</td>
    </tr>
</table>

</body>
</html>
 
















